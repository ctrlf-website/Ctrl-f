(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function CT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var sm={exports:{}},Hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function Fb(){if(Cv)return Hl;Cv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Hl.Fragment=e,Hl.jsx=n,Hl.jsxs=n,Hl}var Iv;function Gb(){return Iv||(Iv=1,sm.exports=Fb()),sm.exports}var he=Gb(),am={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function Qb(){if(Dv)return Oe;Dv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function k(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,Q={};function re(x,ee,ce){this.props=x,this.context=ee,this.refs=Q,this.updater=ce||K}re.prototype.isReactComponent={},re.prototype.setState=function(x,ee){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,ee,"setState")},re.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function J(){}J.prototype=re.prototype;function le(x,ee,ce){this.props=x,this.context=ee,this.refs=Q,this.updater=ce||K}var be=le.prototype=new J;be.constructor=le,Y(be,re.prototype),be.isPureReactComponent=!0;var Ee=Array.isArray;function Me(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(x,ee,ce){var de=ce.ref;return{$$typeof:r,type:x,key:ee,ref:de!==void 0?de:null,props:ce}}function L(x,ee){return C(x.type,ee,x.props)}function O(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function V(x){var ee={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ce){return ee[ce]})}var b=/\/+/g;function De(x,ee){return typeof x=="object"&&x!==null&&x.key!=null?V(""+x.key):ee.toString(36)}function Ke(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Me,Me):(x.status="pending",x.then(function(ee){x.status==="pending"&&(x.status="fulfilled",x.value=ee)},function(ee){x.status==="pending"&&(x.status="rejected",x.reason=ee)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function G(x,ee,ce,de,Re){var xe=typeof x;(xe==="undefined"||xe==="boolean")&&(x=null);var ze=!1;if(x===null)ze=!0;else switch(xe){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(x.$$typeof){case r:case e:ze=!0;break;case E:return ze=x._init,G(ze(x._payload),ee,ce,de,Re)}}if(ze)return Re=Re(x),ze=de===""?"."+De(x,0):de,Ee(Re)?(ce="",ze!=null&&(ce=ze.replace(b,"$&/")+"/"),G(Re,ee,ce,"",function(ni){return ni})):Re!=null&&(O(Re)&&(Re=L(Re,ce+(Re.key==null||x&&x.key===Re.key?"":(""+Re.key).replace(b,"$&/")+"/")+ze)),ee.push(Re)),1;ze=0;var bt=de===""?".":de+":";if(Ee(x))for(var ot=0;ot<x.length;ot++)de=x[ot],xe=bt+De(de,ot),ze+=G(de,ee,ce,xe,Re);else if(ot=k(x),typeof ot=="function")for(x=ot.call(x),ot=0;!(de=x.next()).done;)de=de.value,xe=bt+De(de,ot++),ze+=G(de,ee,ce,xe,Re);else if(xe==="object"){if(typeof x.then=="function")return G(Ke(x),ee,ce,de,Re);throw ee=String(x),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ze}function oe(x,ee,ce){if(x==null)return x;var de=[],Re=0;return G(x,de,"","",function(xe){return ee.call(ce,xe,Re++)}),de}function ve(x){if(x._status===-1){var ee=x._result;ee=ee(),ee.then(function(ce){(x._status===0||x._status===-1)&&(x._status=1,x._result=ce)},function(ce){(x._status===0||x._status===-1)&&(x._status=2,x._result=ce)}),x._status===-1&&(x._status=0,x._result=ee)}if(x._status===1)return x._result.default;throw x._result}var Pe=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Je={map:oe,forEach:function(x,ee,ce){oe(x,function(){ee.apply(this,arguments)},ce)},count:function(x){var ee=0;return oe(x,function(){ee++}),ee},toArray:function(x){return oe(x,function(ee){return ee})||[]},only:function(x){if(!O(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Oe.Activity=S,Oe.Children=Je,Oe.Component=re,Oe.Fragment=n,Oe.Profiler=o,Oe.PureComponent=le,Oe.StrictMode=s,Oe.Suspense=y,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(x){return I.H.useMemoCache(x)}},Oe.cache=function(x){return function(){return x.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(x,ee,ce){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var de=Y({},x.props),Re=x.key;if(ee!=null)for(xe in ee.key!==void 0&&(Re=""+ee.key),ee)!R.call(ee,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&ee.ref===void 0||(de[xe]=ee[xe]);var xe=arguments.length-2;if(xe===1)de.children=ce;else if(1<xe){for(var ze=Array(xe),bt=0;bt<xe;bt++)ze[bt]=arguments[bt+2];de.children=ze}return C(x.type,Re,de)},Oe.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Oe.createElement=function(x,ee,ce){var de,Re={},xe=null;if(ee!=null)for(de in ee.key!==void 0&&(xe=""+ee.key),ee)R.call(ee,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Re[de]=ee[de]);var ze=arguments.length-2;if(ze===1)Re.children=ce;else if(1<ze){for(var bt=Array(ze),ot=0;ot<ze;ot++)bt[ot]=arguments[ot+2];Re.children=bt}if(x&&x.defaultProps)for(de in ze=x.defaultProps,ze)Re[de]===void 0&&(Re[de]=ze[de]);return C(x,xe,Re)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(x){return{$$typeof:m,render:x}},Oe.isValidElement=O,Oe.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:ve}},Oe.memo=function(x,ee){return{$$typeof:p,type:x,compare:ee===void 0?null:ee}},Oe.startTransition=function(x){var ee=I.T,ce={};I.T=ce;try{var de=x(),Re=I.S;Re!==null&&Re(ce,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(Me,Pe)}catch(xe){Pe(xe)}finally{ee!==null&&ce.types!==null&&(ee.types=ce.types),I.T=ee}},Oe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Oe.use=function(x){return I.H.use(x)},Oe.useActionState=function(x,ee,ce){return I.H.useActionState(x,ee,ce)},Oe.useCallback=function(x,ee){return I.H.useCallback(x,ee)},Oe.useContext=function(x){return I.H.useContext(x)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(x,ee){return I.H.useDeferredValue(x,ee)},Oe.useEffect=function(x,ee){return I.H.useEffect(x,ee)},Oe.useEffectEvent=function(x){return I.H.useEffectEvent(x)},Oe.useId=function(){return I.H.useId()},Oe.useImperativeHandle=function(x,ee,ce){return I.H.useImperativeHandle(x,ee,ce)},Oe.useInsertionEffect=function(x,ee){return I.H.useInsertionEffect(x,ee)},Oe.useLayoutEffect=function(x,ee){return I.H.useLayoutEffect(x,ee)},Oe.useMemo=function(x,ee){return I.H.useMemo(x,ee)},Oe.useOptimistic=function(x,ee){return I.H.useOptimistic(x,ee)},Oe.useReducer=function(x,ee,ce){return I.H.useReducer(x,ee,ce)},Oe.useRef=function(x){return I.H.useRef(x)},Oe.useState=function(x){return I.H.useState(x)},Oe.useSyncExternalStore=function(x,ee,ce){return I.H.useSyncExternalStore(x,ee,ce)},Oe.useTransition=function(){return I.H.useTransition()},Oe.version="19.2.0",Oe}var Nv;function ng(){return Nv||(Nv=1,am.exports=Qb()),am.exports}var W=ng();const an=CT(W);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ov="popstate";function Kb(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Cm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:ou(o)}return Xb(e,n,null,r)}function Et(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ei(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Yb(){return Math.random().toString(36).substring(2,10)}function Vv(r,e){return{usr:r.state,key:r.key,idx:e}}function Cm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Mo(e):e,state:n,key:e&&e.key||s||Yb()}}function ou({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Mo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Xb(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",y=null,p=E();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let Q=E(),re=Q==null?null:Q-p;p=Q,y&&y({action:m,location:Y.location,delta:re})}function w(Q,re){m="PUSH";let J=Cm(Y.location,Q,re);p=E()+1;let le=Vv(J,p),be=Y.createHref(J);try{f.pushState(le,"",be)}catch(Ee){if(Ee instanceof DOMException&&Ee.name==="DataCloneError")throw Ee;o.location.assign(be)}u&&y&&y({action:m,location:Y.location,delta:1})}function k(Q,re){m="REPLACE";let J=Cm(Y.location,Q,re);p=E();let le=Vv(J,p),be=Y.createHref(J);f.replaceState(le,"",be),u&&y&&y({action:m,location:Y.location,delta:0})}function K(Q){return $b(Q)}let Y={get action(){return m},get location(){return r(o,f)},listen(Q){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(Ov,S),y=Q,()=>{o.removeEventListener(Ov,S),y=null}},createHref(Q){return e(o,Q)},createURL:K,encodeLocation(Q){let re=K(Q);return{pathname:re.pathname,search:re.search,hash:re.hash}},push:w,replace:k,go(Q){return f.go(Q)}};return Y}function $b(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Et(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:ou(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function IT(r,e,n="/"){return Jb(r,e,n,!1)}function Jb(r,e,n,s){let o=typeof e=="string"?Mo(e):e,u=Nr(o.pathname||"/",n);if(u==null)return null;let f=DT(r);Zb(f);let m=null;for(let y=0;m==null&&y<f.length;++y){let p=u1(u);m=o1(f[y],p,s)}return m}function DT(r,e=[],n=[],s="",o=!1){let u=(f,m,y=o,p)=>{let E={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&y)return;Et(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=Ir([s,E.relativePath]),w=n.concat(E);f.children&&f.children.length>0&&(Et(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),DT(f.children,e,w,S,y)),!(f.path==null&&!f.index)&&e.push({path:S,score:s1(S,f.index),routesMeta:w})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let y of NT(f.path))u(f,m,!0,y)}),e}function NT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=NT(s.join("/")),m=[];return m.push(...f.map(y=>y===""?u:[u,y].join("/"))),o&&m.push(...f),m.map(y=>r.startsWith("/")&&y===""?"/":y)}function Zb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:a1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Wb=/^:[\w-]+$/,e1=3,t1=2,n1=1,i1=10,r1=-2,Mv=r=>r==="*";function s1(r,e){let n=r.split("/"),s=n.length;return n.some(Mv)&&(s+=r1),e&&(s+=t1),n.filter(o=>!Mv(o)).reduce((o,u)=>o+(Wb.test(u)?e1:u===""?n1:i1),s)}function a1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function o1(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let y=s[m],p=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=Eh({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},E),w=y.route;if(!S&&p&&n&&!s[s.length-1].route.index&&(S=Eh({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:Ir([u,S.pathname]),pathnameBase:d1(Ir([u,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(u=Ir([u,S.pathnameBase]))}return f}function Eh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=l1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:E,isOptional:S},w)=>{if(E==="*"){let K=m[w]||"";f=u.slice(0,u.length-K.length).replace(/(.)\/+$/,"$1")}const k=m[w];return S&&!k?p[E]=void 0:p[E]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:r}}function l1(r,e=!1,n=!0){Ei(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function u1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ei(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Nr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function c1(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Mo(r):r;return{pathname:n?n.startsWith("/")?n:h1(n,e):e,search:m1(s),hash:g1(o)}}function h1(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function om(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function f1(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ig(r){let e=f1(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function rg(r,e,n,s=!1){let o;typeof r=="string"?o=Mo(r):(o={...r},Et(!o.pathname||!o.pathname.includes("?"),om("?","pathname","search",o)),Et(!o.pathname||!o.pathname.includes("#"),om("#","pathname","hash",o)),Et(!o.search||!o.search.includes("#"),om("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}m=S>=0?e[S]:"/"}let y=c1(o,m),p=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(p||E)&&(y.pathname+="/"),y}var Ir=r=>r.join("/").replace(/\/\/+/g,"/"),d1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),m1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,g1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function p1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var OT=["POST","PUT","PATCH","DELETE"];new Set(OT);var y1=["GET",...OT];new Set(y1);var xo=W.createContext(null);xo.displayName="DataRouter";var Hh=W.createContext(null);Hh.displayName="DataRouterState";W.createContext(!1);var VT=W.createContext({isTransitioning:!1});VT.displayName="ViewTransition";var _1=W.createContext(new Map);_1.displayName="Fetchers";var v1=W.createContext(null);v1.displayName="Await";var Si=W.createContext(null);Si.displayName="Navigation";var _u=W.createContext(null);_u.displayName="Location";var er=W.createContext({outlet:null,matches:[],isDataRoute:!1});er.displayName="Route";var sg=W.createContext(null);sg.displayName="RouteError";function E1(r,{relative:e}={}){Et(Lo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=W.useContext(Si),{hash:o,pathname:u,search:f}=vu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Ir([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Lo(){return W.useContext(_u)!=null}function Lr(){return Et(Lo(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(_u).location}var MT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xT(r){W.useContext(Si).static||W.useLayoutEffect(r)}function Uo(){let{isDataRoute:r}=W.useContext(er);return r?M1():T1()}function T1(){Et(Lo(),"useNavigate() may be used only in the context of a <Router> component.");let r=W.useContext(xo),{basename:e,navigator:n}=W.useContext(Si),{matches:s}=W.useContext(er),{pathname:o}=Lr(),u=JSON.stringify(ig(s)),f=W.useRef(!1);return xT(()=>{f.current=!0}),W.useCallback((y,p={})=>{if(Ei(f.current,MT),!f.current)return;if(typeof y=="number"){n.go(y);return}let E=rg(y,JSON.parse(u),o,p.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Ir([e,E.pathname])),(p.replace?n.replace:n.push)(E,p.state,p)},[e,n,u,o,r])}W.createContext(null);function vu(r,{relative:e}={}){let{matches:n}=W.useContext(er),{pathname:s}=Lr(),o=JSON.stringify(ig(n));return W.useMemo(()=>rg(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function S1(r,e){return LT(r,e)}function LT(r,e,n,s,o){Et(Lo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=W.useContext(Si),{matches:f}=W.useContext(er),m=f[f.length-1],y=m?m.params:{},p=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let J=S&&S.path||"";UT(p,!S||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let w=Lr(),k;if(e){let J=typeof e=="string"?Mo(e):e;Et(E==="/"||J.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${J.pathname}" was given in the \`location\` prop.`),k=J}else k=w;let K=k.pathname||"/",Y=K;if(E!=="/"){let J=E.replace(/^\//,"").split("/");Y="/"+K.replace(/^\//,"").split("/").slice(J.length).join("/")}let Q=IT(r,{pathname:Y});Ei(S||Q!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Ei(Q==null||Q[Q.length-1].route.element!==void 0||Q[Q.length-1].route.Component!==void 0||Q[Q.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let re=C1(Q&&Q.map(J=>Object.assign({},J,{params:Object.assign({},y,J.params),pathname:Ir([E,u.encodeLocation?u.encodeLocation(J.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?E:Ir([E,u.encodeLocation?u.encodeLocation(J.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathnameBase])})),f,n,s,o);return e&&re?W.createElement(_u.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},re):re}function A1(){let r=V1(),e=p1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=W.createElement(W.Fragment,null,W.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:u},"ErrorBoundary")," or"," ",W.createElement("code",{style:u},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.createElement("pre",{style:o},n):null,f)}var b1=W.createElement(A1,null),w1=class extends W.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?W.createElement(er.Provider,{value:this.props.routeContext},W.createElement(sg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function R1({routeContext:r,match:e,children:n}){let s=W.useContext(xo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(er.Provider,{value:r},n)}function C1(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let p=u.findIndex(E=>E.route.id&&f?.[E.route.id]!==void 0);Et(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,p+1))}let m=!1,y=-1;if(n)for(let p=0;p<u.length;p++){let E=u[p];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=p),E.route.id){let{loaderData:S,errors:w}=n,k=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!w||w[E.route.id]===void 0);if(E.route.lazy||k){m=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}return u.reduceRight((p,E,S)=>{let w,k=!1,K=null,Y=null;n&&(w=f&&E.route.id?f[E.route.id]:void 0,K=E.route.errorElement||b1,m&&(y<0&&S===0?(UT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,Y=null):y===S&&(k=!0,Y=E.route.hydrateFallbackElement||null)));let Q=e.concat(u.slice(0,S+1)),re=()=>{let J;return w?J=K:k?J=Y:E.route.Component?J=W.createElement(E.route.Component,null):E.route.element?J=E.route.element:J=p,W.createElement(R1,{match:E,routeContext:{outlet:p,matches:Q,isDataRoute:n!=null},children:J})};return n&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?W.createElement(w1,{location:n.location,revalidation:n.revalidation,component:K,error:w,children:re(),routeContext:{outlet:null,matches:Q,isDataRoute:!0},unstable_onError:s}):re()},null)}function ag(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I1(r){let e=W.useContext(xo);return Et(e,ag(r)),e}function D1(r){let e=W.useContext(Hh);return Et(e,ag(r)),e}function N1(r){let e=W.useContext(er);return Et(e,ag(r)),e}function og(r){let e=N1(r),n=e.matches[e.matches.length-1];return Et(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function O1(){return og("useRouteId")}function V1(){let r=W.useContext(sg),e=D1("useRouteError"),n=og("useRouteError");return r!==void 0?r:e.errors?.[n]}function M1(){let{router:r}=I1("useNavigate"),e=og("useNavigate"),n=W.useRef(!1);return xT(()=>{n.current=!0}),W.useCallback(async(o,u={})=>{Ei(n.current,MT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var xv={};function UT(r,e,n){!e&&!xv[r]&&(xv[r]=!0,Ei(!1,n))}W.memo(x1);function x1({routes:r,future:e,state:n,unstable_onError:s}){return LT(r,void 0,n,s,e)}function L1({to:r,replace:e,state:n,relative:s}){Et(Lo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=W.useContext(Si);Ei(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=W.useContext(er),{pathname:f}=Lr(),m=Uo(),y=rg(r,ig(u),f,s==="path"),p=JSON.stringify(y);return W.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:s})},[m,p,s,e,n]),null}function go(r){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function U1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){Et(!Lo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=W.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Mo(n));let{pathname:y="/",search:p="",hash:E="",state:S=null,key:w="default"}=n,k=W.useMemo(()=>{let K=Nr(y,f);return K==null?null:{location:{pathname:K,search:p,hash:E,state:S,key:w},navigationType:s}},[f,y,p,E,S,w,s]);return Ei(k!=null,`<Router basename="${f}"> is not able to match the URL "${y}${p}${E}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:W.createElement(Si.Provider,{value:m},W.createElement(_u.Provider,{children:e,value:k}))}function k1({children:r,location:e}){return S1(Im(r),e)}function Im(r,e=[]){let n=[];return W.Children.forEach(r,(s,o)=>{if(!W.isValidElement(s))return;let u=[...e,o];if(s.type===W.Fragment){n.push.apply(n,Im(s.props.children,u));return}Et(s.type===go,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Im(s.props.children,u)),n.push(f)}),n}var lh="get",uh="application/x-www-form-urlencoded";function Fh(r){return r!=null&&typeof r.tagName=="string"}function P1(r){return Fh(r)&&r.tagName.toLowerCase()==="button"}function z1(r){return Fh(r)&&r.tagName.toLowerCase()==="form"}function B1(r){return Fh(r)&&r.tagName.toLowerCase()==="input"}function j1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function q1(r,e){return r.button===0&&(!e||e==="_self")&&!j1(r)}var th=null;function H1(){if(th===null)try{new FormData(document.createElement("form"),0),th=!1}catch{th=!0}return th}var F1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lm(r){return r!=null&&!F1.has(r)?(Ei(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uh}"`),null):r}function G1(r,e){let n,s,o,u,f;if(z1(r)){let m=r.getAttribute("action");s=m?Nr(m,e):null,n=r.getAttribute("method")||lh,o=lm(r.getAttribute("enctype"))||uh,u=new FormData(r)}else if(P1(r)||B1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||m.getAttribute("action");if(s=y?Nr(y,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||lh,o=lm(r.getAttribute("formenctype"))||lm(m.getAttribute("enctype"))||uh,u=new FormData(m,r),!H1()){let{name:p,type:E,value:S}=r;if(E==="image"){let w=p?`${p}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else p&&u.append(p,S)}}else{if(Fh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=lh,s=null,o=uh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Q1(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Nr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function K1(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Y1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function X1(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await K1(u,n);return f.links?f.links():[]}return[]}));return W1(s.flat(1).filter(Y1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Lv(r,e,n,s,o,u){let f=(y,p)=>n[p]?y.route.id!==n[p].route.id:!0,m=(y,p)=>n[p].pathname!==y.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==y.params["*"];return u==="assets"?e.filter((y,p)=>f(y,p)||m(y,p)):u==="data"?e.filter((y,p)=>{let E=s.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(f(y,p)||m(y,p))return!0;if(y.route.shouldRevalidate){let S=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function $1(r,e,{includeHydrateFallback:n}={}){return J1(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function J1(r){return[...new Set(r)]}function Z1(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function W1(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Z1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function kT(){let r=W.useContext(xo);return lg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function ew(){let r=W.useContext(Hh);return lg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ug=W.createContext(void 0);ug.displayName="FrameworkContext";function PT(){let r=W.useContext(ug);return lg(r,"You must render this element inside a <HydratedRouter> element"),r}function tw(r,e){let n=W.useContext(ug),[s,o]=W.useState(!1),[u,f]=W.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:p,onMouseLeave:E,onTouchStart:S}=e,w=W.useRef(null);W.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Y=re=>{re.forEach(J=>{f(J.isIntersecting)})},Q=new IntersectionObserver(Y,{threshold:.5});return w.current&&Q.observe(w.current),()=>{Q.disconnect()}}},[r]),W.useEffect(()=>{if(s){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let k=()=>{o(!0)},K=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Fl(m,k),onBlur:Fl(y,K),onMouseEnter:Fl(p,k),onMouseLeave:Fl(E,K),onTouchStart:Fl(S,k)}]:[!1,w,{}]}function Fl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function nw({page:r,...e}){let{router:n}=kT(),s=W.useMemo(()=>IT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?W.createElement(rw,{page:r,matches:s,...e}):null}function iw(r){let{manifest:e,routeModules:n}=PT(),[s,o]=W.useState([]);return W.useEffect(()=>{let u=!1;return X1(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function rw({page:r,matches:e,...n}){let s=Lr(),{manifest:o,routeModules:u}=PT(),{basename:f}=kT(),{loaderData:m,matches:y}=ew(),p=W.useMemo(()=>Lv(r,e,y,o,s,"data"),[r,e,y,o,s]),E=W.useMemo(()=>Lv(r,e,y,o,s,"assets"),[r,e,y,o,s]),S=W.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let K=new Set,Y=!1;if(e.forEach(re=>{let J=o.routes[re.route.id];!J||!J.hasLoader||(!p.some(le=>le.route.id===re.route.id)&&re.route.id in m&&u[re.route.id]?.shouldRevalidate||J.hasClientLoader?Y=!0:K.add(re.route.id))}),K.size===0)return[];let Q=Q1(r,f,"data");return Y&&K.size>0&&Q.searchParams.set("_routes",e.filter(re=>K.has(re.route.id)).map(re=>re.route.id).join(",")),[Q.pathname+Q.search]},[f,m,s,o,p,e,r,u]),w=W.useMemo(()=>$1(E,o),[E,o]),k=iw(E);return W.createElement(W.Fragment,null,S.map(K=>W.createElement("link",{key:K,rel:"prefetch",as:"fetch",href:K,...n})),w.map(K=>W.createElement("link",{key:K,rel:"modulepreload",href:K,...n})),k.map(({key:K,link:Y})=>W.createElement("link",{key:K,nonce:n.nonce,...Y})))}function sw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var zT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zT&&(window.__reactRouterVersion="7.9.5")}catch{}function aw({basename:r,children:e,window:n}){let s=W.useRef();s.current==null&&(s.current=Kb({window:n,v5Compat:!0}));let o=s.current,[u,f]=W.useState({action:o.action,location:o.location}),m=W.useCallback(y=>{W.startTransition(()=>f(y))},[f]);return W.useLayoutEffect(()=>o.listen(m),[o,m]),W.createElement(U1,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var BT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jT=W.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:y,to:p,preventScrollReset:E,viewTransition:S,...w},k){let{basename:K}=W.useContext(Si),Y=typeof p=="string"&&BT.test(p),Q,re=!1;if(typeof p=="string"&&Y&&(Q=p,zT))try{let C=new URL(window.location.href),L=p.startsWith("//")?new URL(C.protocol+p):new URL(p),O=Nr(L.pathname,K);L.origin===C.origin&&O!=null?p=O+L.search+L.hash:re=!0}catch{Ei(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=E1(p,{relative:o}),[le,be,Ee]=tw(s,w),Me=cw(p,{replace:f,state:m,target:y,preventScrollReset:E,relative:o,viewTransition:S});function I(C){e&&e(C),C.defaultPrevented||Me(C)}let R=W.createElement("a",{...w,...Ee,href:Q||J,onClick:re||u?e:I,ref:sw(k,be),target:y,"data-discover":!Y&&n==="render"?"true":void 0});return le&&!Y?W.createElement(W.Fragment,null,R,W.createElement(nw,{page:J})):R});jT.displayName="Link";var ow=W.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:y,...p},E){let S=vu(f,{relative:p.relative}),w=Lr(),k=W.useContext(Hh),{navigator:K,basename:Y}=W.useContext(Si),Q=k!=null&&gw(S)&&m===!0,re=K.encodeLocation?K.encodeLocation(S).pathname:S.pathname,J=w.pathname,le=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(J=J.toLowerCase(),le=le?le.toLowerCase():null,re=re.toLowerCase()),le&&Y&&(le=Nr(le,Y)||le);const be=re!=="/"&&re.endsWith("/")?re.length-1:re.length;let Ee=J===re||!o&&J.startsWith(re)&&J.charAt(be)==="/",Me=le!=null&&(le===re||!o&&le.startsWith(re)&&le.charAt(re.length)==="/"),I={isActive:Ee,isPending:Me,isTransitioning:Q},R=Ee?e:void 0,C;typeof s=="function"?C=s(I):C=[s,Ee?"active":null,Me?"pending":null,Q?"transitioning":null].filter(Boolean).join(" ");let L=typeof u=="function"?u(I):u;return W.createElement(jT,{...p,"aria-current":R,className:C,ref:E,style:L,to:f,viewTransition:m},typeof y=="function"?y(I):y)});ow.displayName="NavLink";var lw=W.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=lh,action:m,onSubmit:y,relative:p,preventScrollReset:E,viewTransition:S,...w},k)=>{let K=dw(),Y=mw(m,{relative:p}),Q=f.toLowerCase()==="get"?"get":"post",re=typeof m=="string"&&BT.test(m),J=le=>{if(y&&y(le),le.defaultPrevented)return;le.preventDefault();let be=le.nativeEvent.submitter,Ee=be?.getAttribute("formmethod")||f;K(be||le.currentTarget,{fetcherKey:e,method:Ee,navigate:n,replace:o,state:u,relative:p,preventScrollReset:E,viewTransition:S})};return W.createElement("form",{ref:k,method:Q,action:Y,onSubmit:s?y:J,...w,"data-discover":!re&&r==="render"?"true":void 0})});lw.displayName="Form";function uw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qT(r){let e=W.useContext(xo);return Et(e,uw(r)),e}function cw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Uo(),y=Lr(),p=vu(r,{relative:u});return W.useCallback(E=>{if(q1(E,e)){E.preventDefault();let S=n!==void 0?n:ou(y)===ou(p);m(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[y,m,p,n,s,e,r,o,u,f])}var hw=0,fw=()=>`__${String(++hw)}__`;function dw(){let{router:r}=qT("useSubmit"),{basename:e}=W.useContext(Si),n=O1();return W.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:y,body:p}=G1(s,e);if(o.navigate===!1){let E=o.fetcherKey||fw();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function mw(r,{relative:e}={}){let{basename:n}=W.useContext(Si),s=W.useContext(er);Et(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...vu(r||".",{relative:e})},f=Lr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),y=m.getAll("index");if(y.some(E=>E==="")){m.delete("index"),y.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ir([n,u.pathname])),ou(u)}function gw(r,{relative:e}={}){let n=W.useContext(VT);Et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=qT("useViewTransitionState"),o=vu(r,{relative:e});if(!n.isTransitioning)return!1;let u=Nr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Nr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Eh(o.pathname,f)!=null||Eh(o.pathname,u)!=null}var um={exports:{}},hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function pw(){if(Uv)return hn;Uv=1;var r=ng();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,p,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:p,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,hn.createPortal=function(y,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(y,p,null,E)},hn.flushSync=function(y){var p=f.T,E=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=p,s.p=E,s.d.f()}},hn.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(y,p))},hn.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},hn.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var E=p.as,S=m(E,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,k=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:k}):E==="script"&&s.d.X(y,{crossOrigin:S,integrity:w,fetchPriority:k,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},hn.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(y)},hn.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,S=m(E,p.crossOrigin);s.d.L(y,E,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},hn.preloadModule=function(y,p){if(typeof y=="string")if(p){var E=m(p.as,p.crossOrigin);s.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(y)},hn.requestFormReset=function(y){s.d.r(y)},hn.unstable_batchedUpdates=function(y,p){return y(p)},hn.useFormState=function(y,p,E){return f.H.useFormState(y,p,E)},hn.useFormStatus=function(){return f.H.useHostTransitionStatus()},hn.version="19.2.0",hn}var kv;function yw(){if(kv)return um.exports;kv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),um.exports=pw(),um.exports}var cm={exports:{}},Gl={},hm={exports:{}},fm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function _w(){return Pv||(Pv=1,(function(r){function e(G,oe){var ve=G.length;G.push(oe);e:for(;0<ve;){var Pe=ve-1>>>1,Je=G[Pe];if(0<o(Je,oe))G[Pe]=oe,G[ve]=Je,ve=Pe;else break e}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var oe=G[0],ve=G.pop();if(ve!==oe){G[0]=ve;e:for(var Pe=0,Je=G.length,x=Je>>>1;Pe<x;){var ee=2*(Pe+1)-1,ce=G[ee],de=ee+1,Re=G[de];if(0>o(ce,ve))de<Je&&0>o(Re,ce)?(G[Pe]=Re,G[de]=ve,Pe=de):(G[Pe]=ce,G[ee]=ve,Pe=ee);else if(de<Je&&0>o(Re,ve))G[Pe]=Re,G[de]=ve,Pe=de;else break e}}return oe}function o(G,oe){var ve=G.sortIndex-oe.sortIndex;return ve!==0?ve:G.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var y=[],p=[],E=1,S=null,w=3,k=!1,K=!1,Y=!1,Q=!1,re=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;function be(G){for(var oe=n(p);oe!==null;){if(oe.callback===null)s(p);else if(oe.startTime<=G)s(p),oe.sortIndex=oe.expirationTime,e(y,oe);else break;oe=n(p)}}function Ee(G){if(Y=!1,be(G),!K)if(n(y)!==null)K=!0,Me||(Me=!0,V());else{var oe=n(p);oe!==null&&Ke(Ee,oe.startTime-G)}}var Me=!1,I=-1,R=5,C=-1;function L(){return Q?!0:!(r.unstable_now()-C<R)}function O(){if(Q=!1,Me){var G=r.unstable_now();C=G;var oe=!0;try{e:{K=!1,Y&&(Y=!1,J(I),I=-1),k=!0;var ve=w;try{t:{for(be(G),S=n(y);S!==null&&!(S.expirationTime>G&&L());){var Pe=S.callback;if(typeof Pe=="function"){S.callback=null,w=S.priorityLevel;var Je=Pe(S.expirationTime<=G);if(G=r.unstable_now(),typeof Je=="function"){S.callback=Je,be(G),oe=!0;break t}S===n(y)&&s(y),be(G)}else s(y);S=n(y)}if(S!==null)oe=!0;else{var x=n(p);x!==null&&Ke(Ee,x.startTime-G),oe=!1}}break e}finally{S=null,w=ve,k=!1}oe=void 0}}finally{oe?V():Me=!1}}}var V;if(typeof le=="function")V=function(){le(O)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,De=b.port2;b.port1.onmessage=O,V=function(){De.postMessage(null)}}else V=function(){re(O,0)};function Ke(G,oe){I=re(function(){G(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(G){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var ve=w;w=oe;try{return G()}finally{w=ve}},r.unstable_requestPaint=function(){Q=!0},r.unstable_runWithPriority=function(G,oe){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ve=w;w=G;try{return oe()}finally{w=ve}},r.unstable_scheduleCallback=function(G,oe,ve){var Pe=r.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Pe+ve:Pe):ve=Pe,G){case 1:var Je=-1;break;case 2:Je=250;break;case 5:Je=1073741823;break;case 4:Je=1e4;break;default:Je=5e3}return Je=ve+Je,G={id:E++,callback:oe,priorityLevel:G,startTime:ve,expirationTime:Je,sortIndex:-1},ve>Pe?(G.sortIndex=ve,e(p,G),n(y)===null&&G===n(p)&&(Y?(J(I),I=-1):Y=!0,Ke(Ee,ve-Pe))):(G.sortIndex=Je,e(y,G),K||k||(K=!0,Me||(Me=!0,V()))),G},r.unstable_shouldYield=L,r.unstable_wrapCallback=function(G){var oe=w;return function(){var ve=w;w=oe;try{return G.apply(this,arguments)}finally{w=ve}}}})(fm)),fm}var zv;function vw(){return zv||(zv=1,hm.exports=_w()),hm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function Ew(){if(Bv)return Gl;Bv=1;var r=vw(),e=ng(),n=yw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return y(h),t;if(d===l)return y(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),le=Symbol.for("react.context"),be=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var b=Symbol.for("react.client.reference");function De(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===b?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case re:return"Profiler";case Q:return"StrictMode";case Ee:return"Suspense";case Me:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case le:return t.displayName||"Context";case J:return(t._context.displayName||"Context")+".Consumer";case be:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:De(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return De(t(i))}catch{}}return null}var Ke=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},Pe=[],Je=-1;function x(t){return{current:t}}function ee(t){0>Je||(t.current=Pe[Je],Pe[Je]=null,Je--)}function ce(t,i){Je++,Pe[Je]=t.current,t.current=i}var de=x(null),Re=x(null),xe=x(null),ze=x(null);function bt(t,i){switch(ce(xe,i),ce(Re,t),ce(de,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?$_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=$_(i),t=J_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(de),ce(de,t)}function ot(){ee(de),ee(Re),ee(xe)}function ni(t){t.memoizedState!==null&&ce(ze,t);var i=de.current,a=J_(i,t.type);i!==a&&(ce(Re,t),ce(de,a))}function kr(t){Re.current===t&&(ee(de),ee(Re)),ze.current===t&&(ee(ze),zl._currentValue=ve)}var tr,Pr;function Nn(t){if(tr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);tr=i&&i[1]||"",Pr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tr+t+Pr}var zr=!1;function nr(t,i){if(!t||zr)return"";zr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(F){var q=F}Reflect.construct(t,[],te)}else{try{te.call()}catch(F){q=F}t.call(te.prototype)}}else{try{throw Error()}catch(F){q=F}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var N=_.split(`
`),j=T.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===j.length)for(l=N.length-1,h=j.length-1;1<=l&&0<=h&&N[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==j[h]){var $=`
`+N[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{zr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Nn(a):""}function xs(t,i){switch(t.tag){case 26:case 27:case 5:return Nn(t.type);case 16:return Nn("Lazy");case 13:return t.child!==i&&i!==null?Nn("Suspense Fallback"):Nn("Suspense");case 19:return Nn("SuspenseList");case 0:case 15:return nr(t.type,!1);case 11:return nr(t.type.render,!1);case 1:return nr(t.type,!0);case 31:return Nn("Activity");default:return""}}function ba(t){try{var i="",a=null;do i+=xs(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Tt=Object.prototype.hasOwnProperty,D=r.unstable_scheduleCallback,z=r.unstable_cancelCallback,X=r.unstable_shouldYield,fe=r.unstable_requestPaint,se=r.unstable_now,ae=r.unstable_getCurrentPriorityLevel,_e=r.unstable_ImmediatePriority,Ye=r.unstable_UserBlockingPriority,Xe=r.unstable_NormalPriority,cn=r.unstable_LowPriority,ir=r.unstable_IdlePriority,On=r.log,wa=r.unstable_setDisableYieldValue,pn=null,Ct=null;function En(t){if(typeof On=="function"&&wa(t),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(pn,t)}catch{}}var pt=Math.clz32?Math.clz32:Ou,Ra=Math.log,rr=Math.LN2;function Ou(t){return t>>>=0,t===0?32:31-(Ra(t)/rr|0)|0}var Ai=256,Ls=262144,Mt=4194304;function bi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function wi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=bi(l):(_&=T,_!==0?h=bi(_):a||(a=T&~t,a!==0&&(h=bi(a))))):(T=l&~d,T!==0?h=bi(T):_!==0?h=bi(_):a||(a=l&~t,a!==0&&(h=bi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function ii(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function uf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vu(){var t=Mt;return Mt<<=1,(Mt&62914560)===0&&(Mt=4194304),t}function Ri(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Us(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function cf(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,N=t.expirationTimes,j=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-pt(a),te=1<<$;T[$]=0,N[$]=-1;var q=j[$];if(q!==null)for(j[$]=null,$=0;$<q.length;$++){var F=q[$];F!==null&&(F.lane&=-536870913)}a&=~te}l!==0&&ks(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function ks(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-pt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Fo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-pt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Go(t,i){var a=i&-i;return a=(a&42)!==0?1:Ps(a),(a&(t.suspendedLanes|i))!==0?0:a}function Ps(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function sr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Mu(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:Ev(t.type))}function ri(t,i){var a=oe.p;try{return oe.p=t,i()}finally{oe.p=a}}var si=Math.random().toString(36).slice(2),xt="__reactFiber$"+si,Yt="__reactProps$"+si,Ci="__reactContainer$"+si,Ca="__reactEvents$"+si,hf="__reactListeners$"+si,xu="__reactHandles$"+si,Lu="__reactResources$"+si,Ii="__reactMarker$"+si;function Ia(t){delete t[xt],delete t[Yt],delete t[Ca],delete t[hf],delete t[xu]}function Di(t){var i=t[xt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ci]||a[xt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=rv(t);t!==null;){if(a=t[xt])return a;t=rv(t)}return i}t=a,a=t.parentNode}return null}function qn(t){if(t=t[xt]||t[Ci]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Vn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Ni(t){var i=t[Lu];return i||(i=t[Lu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Lt(t){t[Ii]=!0}var Qo=new Set,Ko={};function Oi(t,i){Vi(t,i),Vi(t+"Capture",i)}function Vi(t,i){for(Ko[t]=i,t=0;t<i.length;t++)Qo.add(i[t])}var Yo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xo={},$o={};function Uu(t){return Tt.call($o,t)?!0:Tt.call(Xo,t)?!1:Yo.test(t)?$o[t]=!0:(Xo[t]=!0,!1)}function Da(t,i,a){if(Uu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Mn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Ut(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Xt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Br(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Jo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function rt(t){if(!t._valueTracker){var i=Br(t)?"checked":"value";t._valueTracker=Jo(t,i,""+t[i])}}function zs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Br(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Bs=/[\n"\\]/g;function Tn(t){return t.replace(Bs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Na(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Xt(i)):t.value!==""+Xt(i)&&(t.value=""+Xt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Zo(t,_,Xt(i)):a!=null?Zo(t,_,Xt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Xt(T):t.removeAttribute("name")}function ku(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){rt(t);return}a=a!=null?""+Xt(a):"",i=i!=null?""+Xt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),rt(t)}function Zo(t,i,a){i==="number"&&Mi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function jr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Xt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Pu(t,i,a){if(i!=null&&(i=""+Xt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Xt(a):""}function qr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ke(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Xt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),rt(t)}function Sn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var zu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||zu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function el(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Wo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Wo(t,d,i[d])}function Oa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(t){return Hr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ai(){}var tl=null;function Hn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fr=null,xi=null;function js(t){var i=qn(t);if(i&&(t=i.stateNode)){var a=t[Yt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Na(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Yt]||null;if(!h)throw Error(s(90));Na(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&zs(l)}break e;case"textarea":Pu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&jr(t,!!a.multiple,i,!1)}}}var Ma=!1;function Gr(t,i,a){if(Ma)return t(i,a);Ma=!0;try{var l=t(i);return l}finally{if(Ma=!1,(Fr!==null||xi!==null)&&(Mc(),Fr&&(i=Fr,t=xi,xi=Fr=null,js(i),t)))for(i=0;i<t.length;i++)js(t[i])}}function oi(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Yt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qs=!1;if(Fn)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){qs=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{qs=!1}var Li=null,nl=null,Hs=null;function il(){if(Hs)return Hs;var t,i=nl,a=i.length,l,h="value"in Li?Li.value:Li.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Hs=h.slice(t,1<l?1-l:void 0)}function Fs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ar(){return!0}function li(){return!1}function en(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ar:li,this.isPropagationStopped=li,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ar)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ar)},persist:function(){},isPersistent:ar}),i}var or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ui=en(or),Qr=S({},or,{view:0,detail:0}),rl=en(Qr),Kr,xa,ki,La=S({},Qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ki&&(ki&&t.type==="mousemove"?(Kr=t.screenX-ki.screenX,xa=t.screenY-ki.screenY):xa=Kr=0,ki=t),Kr)},movementY:function(t){return"movementY"in t?t.movementY:xa}}),sl=en(La),Gs=S({},La,{dataTransfer:0}),ju=en(Gs),qu=S({},Qr,{relatedTarget:0}),Qs=en(qu),al=S({},or,{animationName:0,elapsedTime:0,pseudoElement:0}),Hu=en(al),Ua=S({},or,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fu=en(Ua),Gu=S({},or,{data:0}),Pi=en(Gu),Qu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Yu[t])?!!i[t]:!1}function Yr(){return Xu}var yn=S({},Qr,{key:function(t){if(t.key){var i=Qu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Fs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yr,charCode:function(t){return t.type==="keypress"?Fs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$u=en(yn),Ju=S({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lr=en(Ju),c=S({},Qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yr}),g=en(c),v=S({},or,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=en(v),P=S({},La,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=en(P),ue=S({},or,{newState:0,oldState:0}),Le=en(ue),It=[9,13,27,32],tt=Fn&&"CompositionEvent"in window,yt=null;Fn&&"documentMode"in document&&(yt=document.documentMode);var Gn=Fn&&"TextEvent"in window&&!yt,zi=Fn&&(!tt||yt&&8<yt&&11>=yt),ui=" ",ci=!1;function Ks(t,i){switch(t){case"keyup":return It.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ka(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pa=!1;function mA(t,i){switch(t){case"compositionend":return ka(i);case"keypress":return i.which!==32?null:(ci=!0,ui);case"textInput":return t=i.data,t===ui&&ci?null:t;default:return null}}function gA(t,i){if(Pa)return t==="compositionend"||!tt&&Ks(t,i)?(t=il(),Hs=nl=Li=null,Pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return zi&&i.locale!=="ko"?null:i.data;default:return null}}var pA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function op(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!pA[t.type]:i==="textarea"}function lp(t,i,a,l){Fr?xi?xi.push(l):xi=[l]:Fr=l,i=Bc(i,"onChange"),0<i.length&&(a=new Ui("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var ol=null,ll=null;function yA(t){F_(t,0)}function Zu(t){var i=Vn(t);if(zs(i))return t}function up(t,i){if(t==="change")return i}var cp=!1;if(Fn){var ff;if(Fn){var df="oninput"in document;if(!df){var hp=document.createElement("div");hp.setAttribute("oninput","return;"),df=typeof hp.oninput=="function"}ff=df}else ff=!1;cp=ff&&(!document.documentMode||9<document.documentMode)}function fp(){ol&&(ol.detachEvent("onpropertychange",dp),ll=ol=null)}function dp(t){if(t.propertyName==="value"&&Zu(ll)){var i=[];lp(i,ll,t,Hn(t)),Gr(yA,i)}}function _A(t,i,a){t==="focusin"?(fp(),ol=i,ll=a,ol.attachEvent("onpropertychange",dp)):t==="focusout"&&fp()}function vA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zu(ll)}function EA(t,i){if(t==="click")return Zu(i)}function TA(t,i){if(t==="input"||t==="change")return Zu(i)}function SA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var xn=typeof Object.is=="function"?Object.is:SA;function ul(t,i){if(xn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Tt.call(i,h)||!xn(t[h],i[h]))return!1}return!0}function mp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gp(t,i){var a=mp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=mp(a)}}function pp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?pp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function yp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Mi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Mi(t.document)}return i}function mf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var AA=Fn&&"documentMode"in document&&11>=document.documentMode,za=null,gf=null,cl=null,pf=!1;function _p(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pf||za==null||za!==Mi(l)||(l=za,"selectionStart"in l&&mf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),cl&&ul(cl,l)||(cl=l,l=Bc(gf,"onSelect"),0<l.length&&(i=new Ui("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=za)))}function Ys(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ba={animationend:Ys("Animation","AnimationEnd"),animationiteration:Ys("Animation","AnimationIteration"),animationstart:Ys("Animation","AnimationStart"),transitionrun:Ys("Transition","TransitionRun"),transitionstart:Ys("Transition","TransitionStart"),transitioncancel:Ys("Transition","TransitionCancel"),transitionend:Ys("Transition","TransitionEnd")},yf={},vp={};Fn&&(vp=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Xs(t){if(yf[t])return yf[t];if(!Ba[t])return t;var i=Ba[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in vp)return yf[t]=i[a];return t}var Ep=Xs("animationend"),Tp=Xs("animationiteration"),Sp=Xs("animationstart"),bA=Xs("transitionrun"),wA=Xs("transitionstart"),RA=Xs("transitioncancel"),Ap=Xs("transitionend"),bp=new Map,_f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_f.push("scrollEnd");function hi(t,i){bp.set(t,i),Oi(i,[t])}var Wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Qn=[],ja=0,vf=0;function ec(){for(var t=ja,i=vf=ja=0;i<t;){var a=Qn[i];Qn[i++]=null;var l=Qn[i];Qn[i++]=null;var h=Qn[i];Qn[i++]=null;var d=Qn[i];if(Qn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&wp(a,h,d)}}function tc(t,i,a,l){Qn[ja++]=t,Qn[ja++]=i,Qn[ja++]=a,Qn[ja++]=l,vf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ef(t,i,a,l){return tc(t,i,a,l),nc(t)}function $s(t,i){return tc(t,null,null,i),nc(t)}function wp(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-pt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function nc(t){if(50<Vl)throw Vl=0,Dd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var qa={};function CA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,i,a,l){return new CA(t,i,a,l)}function Tf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ur(t,i){var a=t.alternate;return a===null?(a=Ln(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Rp(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ic(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Tf(t)&&(_=1);else if(typeof t=="string")_=Vb(t,a,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Ln(31,a,i,h),t.elementType=C,t.lanes=d,t;case Y:return Js(a.children,h,d,i);case Q:_=8,h|=24;break;case re:return t=Ln(12,a,i,h|2),t.elementType=re,t.lanes=d,t;case Ee:return t=Ln(13,a,i,h),t.elementType=Ee,t.lanes=d,t;case Me:return t=Ln(19,a,i,h),t.elementType=Me,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case le:_=10;break e;case J:_=9;break e;case be:_=11;break e;case I:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Ln(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Js(t,i,a,l){return t=Ln(7,t,l,i),t.lanes=a,t}function Sf(t,i,a){return t=Ln(6,t,null,i),t.lanes=a,t}function Cp(t){var i=Ln(18,null,null,0);return i.stateNode=t,i}function Af(t,i,a){return i=Ln(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ip=new WeakMap;function Kn(t,i){if(typeof t=="object"&&t!==null){var a=Ip.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ba(i)},Ip.set(t,i),i)}return{value:t,source:i,stack:ba(i)}}var Ha=[],Fa=0,rc=null,hl=0,Yn=[],Xn=0,Xr=null,Bi=1,ji="";function cr(t,i){Ha[Fa++]=hl,Ha[Fa++]=rc,rc=t,hl=i}function Dp(t,i,a){Yn[Xn++]=Bi,Yn[Xn++]=ji,Yn[Xn++]=Xr,Xr=t;var l=Bi;t=ji;var h=32-pt(l)-1;l&=~(1<<h),a+=1;var d=32-pt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Bi=1<<32-pt(i)+h|a<<h|l,ji=d+t}else Bi=1<<d|a<<h|l,ji=t}function bf(t){t.return!==null&&(cr(t,1),Dp(t,1,0))}function wf(t){for(;t===rc;)rc=Ha[--Fa],Ha[Fa]=null,hl=Ha[--Fa],Ha[Fa]=null;for(;t===Xr;)Xr=Yn[--Xn],Yn[Xn]=null,ji=Yn[--Xn],Yn[Xn]=null,Bi=Yn[--Xn],Yn[Xn]=null}function Np(t,i){Yn[Xn++]=Bi,Yn[Xn++]=ji,Yn[Xn++]=Xr,Bi=i.id,ji=i.overflow,Xr=t}var tn=null,dt=null,$e=!1,$r=null,$n=!1,Rf=Error(s(519));function Jr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fl(Kn(i,t)),Rf}function Op(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[xt]=t,i[Yt]=l,a){case"dialog":je("cancel",i),je("close",i);break;case"iframe":case"object":case"embed":je("load",i);break;case"video":case"audio":for(a=0;a<xl.length;a++)je(xl[a],i);break;case"source":je("error",i);break;case"img":case"image":case"link":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"input":je("invalid",i),ku(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":je("invalid",i);break;case"textarea":je("invalid",i),qr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Y_(i.textContent,a)?(l.popover!=null&&(je("beforetoggle",i),je("toggle",i)),l.onScroll!=null&&je("scroll",i),l.onScrollEnd!=null&&je("scrollend",i),l.onClick!=null&&(i.onclick=ai),i=!0):i=!1,i||Jr(t,!0)}function Vp(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 31:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:tn=tn.return}}function Ga(t){if(t!==tn)return!1;if(!$e)return Vp(t),$e=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Fd(t.type,t.memoizedProps)),a=!a),a&&dt&&Jr(t),Vp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));dt=iv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));dt=iv(t)}else i===27?(i=dt,hs(t.type)?(t=Xd,Xd=null,dt=t):dt=i):dt=tn?Zn(t.stateNode.nextSibling):null;return!0}function Zs(){dt=tn=null,$e=!1}function Cf(){var t=$r;return t!==null&&(Rn===null?Rn=t:Rn.push.apply(Rn,t),$r=null),t}function fl(t){$r===null?$r=[t]:$r.push(t)}var If=x(null),Ws=null,hr=null;function Zr(t,i,a){ce(If,i._currentValue),i._currentValue=a}function fr(t){t._currentValue=If.current,ee(If)}function Df(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Nf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var N=0;N<i.length;N++)if(T.context===i[N]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Df(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Df(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Qa(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;xn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===ze.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(zl):t=[zl])}h=h.return}t!==null&&Nf(i,t,a,l),i.flags|=262144}function sc(t){for(t=t.firstContext;t!==null;){if(!xn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ea(t){Ws=t,hr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function nn(t){return Mp(Ws,t)}function ac(t,i){return Ws===null&&ea(t),Mp(t,i)}function Mp(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},hr===null){if(t===null)throw Error(s(308));hr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else hr=hr.next=i;return a}var IA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},DA=r.unstable_scheduleCallback,NA=r.unstable_NormalPriority,kt={$$typeof:le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Of(){return{controller:new IA,data:new Map,refCount:0}}function dl(t){t.refCount--,t.refCount===0&&DA(NA,function(){t.controller.abort()})}var ml=null,Vf=0,Ka=0,Ya=null;function OA(t,i){if(ml===null){var a=ml=[];Vf=0,Ka=Ld(),Ya={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Vf++,i.then(xp,xp),i}function xp(){if(--Vf===0&&ml!==null){Ya!==null&&(Ya.status="fulfilled");var t=ml;ml=null,Ka=0,Ya=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function VA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Lp=G.S;G.S=function(t,i){__=se(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&OA(t,i),Lp!==null&&Lp(t,i)};var ta=x(null);function Mf(){var t=ta.current;return t!==null?t:ft.pooledCache}function oc(t,i){i===null?ce(ta,ta.current):ce(ta,i.pool)}function Up(){var t=Mf();return t===null?null:{parent:kt._currentValue,pool:t}}var Xa=Error(s(460)),xf=Error(s(474)),lc=Error(s(542)),uc={then:function(){}};function kp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Pp(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ai,ai),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Bp(t),t;default:if(typeof i.status=="string")i.then(ai,ai);else{if(t=ft,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Bp(t),t}throw ia=i,Xa}}function na(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ia=a,Xa):a}}var ia=null;function zp(){if(ia===null)throw Error(s(459));var t=ia;return ia=null,t}function Bp(t){if(t===Xa||t===lc)throw Error(s(483))}var $a=null,gl=0;function cc(t){var i=gl;return gl+=1,$a===null&&($a=[]),Pp($a,t,i)}function pl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function hc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function jp(t){function i(U,M){if(t){var B=U.deletions;B===null?(U.deletions=[M],U.flags|=16):B.push(M)}}function a(U,M){if(!t)return null;for(;M!==null;)i(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=ur(U,M),U.index=0,U.sibling=null,U}function d(U,M,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<M?(U.flags|=67108866,M):B):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,M,B,Z){return M===null||M.tag!==6?(M=Sf(B,U.mode,Z),M.return=U,M):(M=h(M,B),M.return=U,M)}function N(U,M,B,Z){var Se=B.type;return Se===Y?$(U,M,B.props.children,Z,B.key):M!==null&&(M.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===R&&na(Se)===M.type)?(M=h(M,B.props),pl(M,B),M.return=U,M):(M=ic(B.type,B.key,B.props,null,U.mode,Z),pl(M,B),M.return=U,M)}function j(U,M,B,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=Af(B,U.mode,Z),M.return=U,M):(M=h(M,B.children||[]),M.return=U,M)}function $(U,M,B,Z,Se){return M===null||M.tag!==7?(M=Js(B,U.mode,Z,Se),M.return=U,M):(M=h(M,B),M.return=U,M)}function te(U,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Sf(""+M,U.mode,B),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case k:return B=ic(M.type,M.key,M.props,null,U.mode,B),pl(B,M),B.return=U,B;case K:return M=Af(M,U.mode,B),M.return=U,M;case R:return M=na(M),te(U,M,B)}if(Ke(M)||V(M))return M=Js(M,U.mode,B,null),M.return=U,M;if(typeof M.then=="function")return te(U,cc(M),B);if(M.$$typeof===le)return te(U,ac(U,M),B);hc(U,M)}return null}function q(U,M,B,Z){var Se=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return Se!==null?null:T(U,M,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case k:return B.key===Se?N(U,M,B,Z):null;case K:return B.key===Se?j(U,M,B,Z):null;case R:return B=na(B),q(U,M,B,Z)}if(Ke(B)||V(B))return Se!==null?null:$(U,M,B,Z,null);if(typeof B.then=="function")return q(U,M,cc(B),Z);if(B.$$typeof===le)return q(U,M,ac(U,B),Z);hc(U,B)}return null}function F(U,M,B,Z,Se){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(B)||null,T(M,U,""+Z,Se);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case k:return U=U.get(Z.key===null?B:Z.key)||null,N(M,U,Z,Se);case K:return U=U.get(Z.key===null?B:Z.key)||null,j(M,U,Z,Se);case R:return Z=na(Z),F(U,M,B,Z,Se)}if(Ke(Z)||V(Z))return U=U.get(B)||null,$(M,U,Z,Se,null);if(typeof Z.then=="function")return F(U,M,B,cc(Z),Se);if(Z.$$typeof===le)return F(U,M,B,ac(M,Z),Se);hc(M,Z)}return null}function ge(U,M,B,Z){for(var Se=null,We=null,pe=M,ke=M=0,He=null;pe!==null&&ke<B.length;ke++){pe.index>ke?(He=pe,pe=null):He=pe.sibling;var et=q(U,pe,B[ke],Z);if(et===null){pe===null&&(pe=He);break}t&&pe&&et.alternate===null&&i(U,pe),M=d(et,M,ke),We===null?Se=et:We.sibling=et,We=et,pe=He}if(ke===B.length)return a(U,pe),$e&&cr(U,ke),Se;if(pe===null){for(;ke<B.length;ke++)pe=te(U,B[ke],Z),pe!==null&&(M=d(pe,M,ke),We===null?Se=pe:We.sibling=pe,We=pe);return $e&&cr(U,ke),Se}for(pe=l(pe);ke<B.length;ke++)He=F(pe,U,ke,B[ke],Z),He!==null&&(t&&He.alternate!==null&&pe.delete(He.key===null?ke:He.key),M=d(He,M,ke),We===null?Se=He:We.sibling=He,We=He);return t&&pe.forEach(function(ps){return i(U,ps)}),$e&&cr(U,ke),Se}function we(U,M,B,Z){if(B==null)throw Error(s(151));for(var Se=null,We=null,pe=M,ke=M=0,He=null,et=B.next();pe!==null&&!et.done;ke++,et=B.next()){pe.index>ke?(He=pe,pe=null):He=pe.sibling;var ps=q(U,pe,et.value,Z);if(ps===null){pe===null&&(pe=He);break}t&&pe&&ps.alternate===null&&i(U,pe),M=d(ps,M,ke),We===null?Se=ps:We.sibling=ps,We=ps,pe=He}if(et.done)return a(U,pe),$e&&cr(U,ke),Se;if(pe===null){for(;!et.done;ke++,et=B.next())et=te(U,et.value,Z),et!==null&&(M=d(et,M,ke),We===null?Se=et:We.sibling=et,We=et);return $e&&cr(U,ke),Se}for(pe=l(pe);!et.done;ke++,et=B.next())et=F(pe,U,ke,et.value,Z),et!==null&&(t&&et.alternate!==null&&pe.delete(et.key===null?ke:et.key),M=d(et,M,ke),We===null?Se=et:We.sibling=et,We=et);return t&&pe.forEach(function(Hb){return i(U,Hb)}),$e&&cr(U,ke),Se}function ht(U,M,B,Z){if(typeof B=="object"&&B!==null&&B.type===Y&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case k:e:{for(var Se=B.key;M!==null;){if(M.key===Se){if(Se=B.type,Se===Y){if(M.tag===7){a(U,M.sibling),Z=h(M,B.props.children),Z.return=U,U=Z;break e}}else if(M.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===R&&na(Se)===M.type){a(U,M.sibling),Z=h(M,B.props),pl(Z,B),Z.return=U,U=Z;break e}a(U,M);break}else i(U,M);M=M.sibling}B.type===Y?(Z=Js(B.props.children,U.mode,Z,B.key),Z.return=U,U=Z):(Z=ic(B.type,B.key,B.props,null,U.mode,Z),pl(Z,B),Z.return=U,U=Z)}return _(U);case K:e:{for(Se=B.key;M!==null;){if(M.key===Se)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(U,M.sibling),Z=h(M,B.children||[]),Z.return=U,U=Z;break e}else{a(U,M);break}else i(U,M);M=M.sibling}Z=Af(B,U.mode,Z),Z.return=U,U=Z}return _(U);case R:return B=na(B),ht(U,M,B,Z)}if(Ke(B))return ge(U,M,B,Z);if(V(B)){if(Se=V(B),typeof Se!="function")throw Error(s(150));return B=Se.call(B),we(U,M,B,Z)}if(typeof B.then=="function")return ht(U,M,cc(B),Z);if(B.$$typeof===le)return ht(U,M,ac(U,B),Z);hc(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(U,M.sibling),Z=h(M,B),Z.return=U,U=Z):(a(U,M),Z=Sf(B,U.mode,Z),Z.return=U,U=Z),_(U)):a(U,M)}return function(U,M,B,Z){try{gl=0;var Se=ht(U,M,B,Z);return $a=null,Se}catch(pe){if(pe===Xa||pe===lc)throw pe;var We=Ln(29,pe,null,U.mode);return We.lanes=Z,We.return=U,We}finally{}}}var ra=jp(!0),qp=jp(!1),Wr=!1;function Lf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function es(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ts(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(nt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=nc(t),wp(t,null,a),i}return tc(t,l,i,a),nc(t)}function yl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Fo(t,a)}}function kf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Pf=!1;function _l(){if(Pf){var t=Ya;if(t!==null)throw t}}function vl(t,i,a,l){Pf=!1;var h=t.updateQueue;Wr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var N=T,j=N.next;N.next=null,_===null?d=j:_.next=j,_=N;var $=t.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==_&&(T===null?$.firstBaseUpdate=j:T.next=j,$.lastBaseUpdate=N))}if(d!==null){var te=h.baseState;_=0,$=j=N=null,T=d;do{var q=T.lane&-536870913,F=q!==T.lane;if(F?(qe&q)===q:(l&q)===q){q!==0&&q===Ka&&(Pf=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ge=t,we=T;q=i;var ht=a;switch(we.tag){case 1:if(ge=we.payload,typeof ge=="function"){te=ge.call(ht,te,q);break e}te=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=we.payload,q=typeof ge=="function"?ge.call(ht,te,q):ge,q==null)break e;te=S({},te,q);break e;case 2:Wr=!0}}q=T.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(j=$=F,N=te):$=$.next=F,_|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);$===null&&(N=te),h.baseState=N,h.firstBaseUpdate=j,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),as|=_,t.lanes=_,t.memoizedState=te}}function Hp(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Fp(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Hp(a[t],i)}var Ja=x(null),fc=x(0);function Gp(t,i){t=Tr,ce(fc,t),ce(Ja,i),Tr=t|i.baseLanes}function zf(){ce(fc,Tr),ce(Ja,Ja.current)}function Bf(){Tr=fc.current,ee(Ja),ee(fc)}var Un=x(null),Jn=null;function ns(t){var i=t.alternate;ce(Dt,Dt.current&1),ce(Un,t),Jn===null&&(i===null||Ja.current!==null||i.memoizedState!==null)&&(Jn=t)}function jf(t){ce(Dt,Dt.current),ce(Un,t),Jn===null&&(Jn=t)}function Qp(t){t.tag===22?(ce(Dt,Dt.current),ce(Un,t),Jn===null&&(Jn=t)):is()}function is(){ce(Dt,Dt.current),ce(Un,Un.current)}function kn(t){ee(Un),Jn===t&&(Jn=null),ee(Dt)}var Dt=x(0);function dc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Kd(a)||Yd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var dr=0,Ue=null,ut=null,Pt=null,mc=!1,Za=!1,sa=!1,gc=0,El=0,Wa=null,MA=0;function wt(){throw Error(s(321))}function qf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!xn(t[a],i[a]))return!1;return!0}function Hf(t,i,a,l,h,d){return dr=d,Ue=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=t===null||t.memoizedState===null?Dy:rd,sa=!1,d=a(l,h),sa=!1,Za&&(d=Yp(i,a,l,h)),Kp(t),d}function Kp(t){G.H=Al;var i=ut!==null&&ut.next!==null;if(dr=0,Pt=ut=Ue=null,mc=!1,El=0,Wa=null,i)throw Error(s(300));t===null||zt||(t=t.dependencies,t!==null&&sc(t)&&(zt=!0))}function Yp(t,i,a,l){Ue=t;var h=0;do{if(Za&&(Wa=null),El=0,Za=!1,25<=h)throw Error(s(301));if(h+=1,Pt=ut=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=Ny,d=i(a,l)}while(Za);return d}function xA(){var t=G.H,i=t.useState()[0];return i=typeof i.then=="function"?Tl(i):i,t=t.useState()[0],(ut!==null?ut.memoizedState:null)!==t&&(Ue.flags|=1024),i}function Ff(){var t=gc!==0;return gc=0,t}function Gf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Qf(t){if(mc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}mc=!1}dr=0,Pt=ut=Ue=null,Za=!1,El=gc=0,Wa=null}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Ue.memoizedState=Pt=t:Pt=Pt.next=t,Pt}function Nt(){if(ut===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var i=Pt===null?Ue.memoizedState:Pt.next;if(i!==null)Pt=i,ut=t;else{if(t===null)throw Ue.alternate===null?Error(s(467)):Error(s(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Pt===null?Ue.memoizedState=Pt=t:Pt=Pt.next=t}return Pt}function pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tl(t){var i=El;return El+=1,Wa===null&&(Wa=[]),t=Pp(Wa,t,i),i=Ue,(Pt===null?i.memoizedState:Pt.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?Dy:rd),t}function yc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Tl(t);if(t.$$typeof===le)return nn(t)}throw Error(s(438,String(t)))}function Kf(t){var i=null,a=Ue.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ue.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=pc(),Ue.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=L;return i.index++,a}function mr(t,i){return typeof i=="function"?i(t):i}function _c(t){var i=Nt();return Yf(i,ut,t)}function Yf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,N=null,j=i,$=!1;do{var te=j.lane&-536870913;if(te!==j.lane?(qe&te)===te:(dr&te)===te){var q=j.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),te===Ka&&($=!0);else if((dr&q)===q){j=j.next,q===Ka&&($=!0);continue}else te={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},N===null?(T=N=te,_=d):N=N.next=te,Ue.lanes|=q,as|=q;te=j.action,sa&&a(d,te),d=j.hasEagerState?j.eagerState:a(d,te)}else q={lane:te,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},N===null?(T=N=q,_=d):N=N.next=q,Ue.lanes|=te,as|=te;j=j.next}while(j!==null&&j!==i);if(N===null?_=d:N.next=T,!xn(d,t.memoizedState)&&(zt=!0,$&&(a=Ya,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Xf(t){var i=Nt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);xn(d,i.memoizedState)||(zt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Xp(t,i,a){var l=Ue,h=Nt(),d=$e;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!xn((ut||h).memoizedState,a);if(_&&(h.memoizedState=a,zt=!0),h=h.queue,Zf(Zp.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,eo(9,{destroy:void 0},Jp.bind(null,l,h,a,i),null),ft===null)throw Error(s(349));d||(dr&127)!==0||$p(l,i,a)}return a}function $p(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ue.updateQueue,i===null?(i=pc(),Ue.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Jp(t,i,a,l){i.value=a,i.getSnapshot=l,Wp(i)&&ey(t)}function Zp(t,i,a){return a(function(){Wp(i)&&ey(t)})}function Wp(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!xn(t,a)}catch{return!0}}function ey(t){var i=$s(t,2);i!==null&&Cn(i,t,2)}function $f(t){var i=_n();if(typeof t=="function"){var a=t;if(t=a(),sa){En(!0);try{a()}finally{En(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:t},i}function ty(t,i,a,l){return t.baseState=a,Yf(t,ut,typeof l=="function"?l:mr)}function LA(t,i,a,l,h){if(Tc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ny(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ny(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=G.T,_={};G.T=_;try{var T=a(h,l),N=G.S;N!==null&&N(_,T),iy(t,i,T)}catch(j){Jf(t,i,j)}finally{d!==null&&_.types!==null&&(d.types=_.types),G.T=d}}else try{d=a(h,l),iy(t,i,d)}catch(j){Jf(t,i,j)}}function iy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ry(t,i,l)},function(l){return Jf(t,i,l)}):ry(t,i,a)}function ry(t,i,a){i.status="fulfilled",i.value=a,sy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ny(t,a)))}function Jf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,sy(i),i=i.next;while(i!==l)}t.action=null}function sy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ay(t,i){return i}function oy(t,i){if($e){var a=ft.formState;if(a!==null){e:{var l=Ue;if($e){if(dt){t:{for(var h=dt,d=$n;h.nodeType!==8;){if(!d){h=null;break t}if(h=Zn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){dt=Zn(h.nextSibling),l=h.data==="F!";break e}}Jr(l)}l=!1}l&&(i=a[0])}}return a=_n(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ay,lastRenderedState:i},a.queue=l,a=Ry.bind(null,Ue,l),l.dispatch=a,l=$f(!1),d=id.bind(null,Ue,!1,l.queue),l=_n(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=LA.bind(null,Ue,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function ly(t){var i=Nt();return uy(i,ut,t)}function uy(t,i,a){if(i=Yf(t,i,ay)[0],t=_c(mr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Tl(i)}catch(_){throw _===Xa?lc:_}else l=i;i=Nt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ue.flags|=2048,eo(9,{destroy:void 0},UA.bind(null,h,a),null)),[l,d,t]}function UA(t,i){t.action=i}function cy(t){var i=Nt(),a=ut;if(a!==null)return uy(i,a,t);Nt(),i=i.memoizedState,a=Nt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function eo(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ue.updateQueue,i===null&&(i=pc(),Ue.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function hy(){return Nt().memoizedState}function vc(t,i,a,l){var h=_n();Ue.flags|=t,h.memoizedState=eo(1|i,{destroy:void 0},a,l===void 0?null:l)}function Ec(t,i,a,l){var h=Nt();l=l===void 0?null:l;var d=h.memoizedState.inst;ut!==null&&l!==null&&qf(l,ut.memoizedState.deps)?h.memoizedState=eo(i,d,a,l):(Ue.flags|=t,h.memoizedState=eo(1|i,d,a,l))}function fy(t,i){vc(8390656,8,t,i)}function Zf(t,i){Ec(2048,8,t,i)}function kA(t){Ue.flags|=4;var i=Ue.updateQueue;if(i===null)i=pc(),Ue.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function dy(t){var i=Nt().memoizedState;return kA({ref:i,nextImpl:t}),function(){if((nt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function my(t,i){return Ec(4,2,t,i)}function gy(t,i){return Ec(4,4,t,i)}function py(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function yy(t,i,a){a=a!=null?a.concat([t]):null,Ec(4,4,py.bind(null,i,t),a)}function Wf(){}function _y(t,i){var a=Nt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&qf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function vy(t,i){var a=Nt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&qf(i,l[1]))return l[0];if(l=t(),sa){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,i],l}function ed(t,i,a){return a===void 0||(dr&1073741824)!==0&&(qe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=E_(),Ue.lanes|=t,as|=t,a)}function Ey(t,i,a,l){return xn(a,i)?a:Ja.current!==null?(t=ed(t,a,l),xn(t,i)||(zt=!0),t):(dr&42)===0||(dr&1073741824)!==0&&(qe&261930)===0?(zt=!0,t.memoizedState=a):(t=E_(),Ue.lanes|=t,as|=t,i)}function Ty(t,i,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=G.T,T={};G.T=T,id(t,!1,i,a);try{var N=h(),j=G.S;if(j!==null&&j(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=VA(N,l);Sl(t,i,$,Bn(t))}else Sl(t,i,l,Bn(t))}catch(te){Sl(t,i,{then:function(){},status:"rejected",reason:te},Bn())}finally{oe.p=d,_!==null&&T.types!==null&&(_.types=T.types),G.T=_}}function PA(){}function td(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Sy(t).queue;Ty(t,h,i,ve,a===null?PA:function(){return Ay(t),a(l)})}function Sy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:ve},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ay(t){var i=Sy(t);i.next===null&&(i=t.alternate.memoizedState),Sl(t,i.next.queue,{},Bn())}function nd(){return nn(zl)}function by(){return Nt().memoizedState}function wy(){return Nt().memoizedState}function zA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Bn();t=es(a);var l=ts(i,t,a);l!==null&&(Cn(l,i,a),yl(l,i,a)),i={cache:Of()},t.payload=i;return}i=i.return}}function BA(t,i,a){var l=Bn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Tc(t)?Cy(i,a):(a=Ef(t,i,a,l),a!==null&&(Cn(a,t,l),Iy(a,i,l)))}function Ry(t,i,a){var l=Bn();Sl(t,i,a,l)}function Sl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Tc(t))Cy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,xn(T,_))return tc(t,i,h,0),ft===null&&ec(),!1}catch{}finally{}if(a=Ef(t,i,h,l),a!==null)return Cn(a,t,l),Iy(a,i,l),!0}return!1}function id(t,i,a,l){if(l={lane:2,revertLane:Ld(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Tc(t)){if(i)throw Error(s(479))}else i=Ef(t,a,l,2),i!==null&&Cn(i,t,2)}function Tc(t){var i=t.alternate;return t===Ue||i!==null&&i===Ue}function Cy(t,i){Za=mc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Iy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Fo(t,a)}}var Al={readContext:nn,use:yc,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};Al.useEffectEvent=wt;var Dy={readContext:nn,use:yc,useCallback:function(t,i){return _n().memoizedState=[t,i===void 0?null:i],t},useContext:nn,useEffect:fy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,vc(4194308,4,py.bind(null,i,t),a)},useLayoutEffect:function(t,i){return vc(4194308,4,t,i)},useInsertionEffect:function(t,i){vc(4,2,t,i)},useMemo:function(t,i){var a=_n();i=i===void 0?null:i;var l=t();if(sa){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=_n();if(a!==void 0){var h=a(i);if(sa){En(!0);try{a(i)}finally{En(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=BA.bind(null,Ue,t),[l.memoizedState,t]},useRef:function(t){var i=_n();return t={current:t},i.memoizedState=t},useState:function(t){t=$f(t);var i=t.queue,a=Ry.bind(null,Ue,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Wf,useDeferredValue:function(t,i){var a=_n();return ed(a,t,i)},useTransition:function(){var t=$f(!1);return t=Ty.bind(null,Ue,t.queue,!0,!1),_n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ue,h=_n();if($e){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ft===null)throw Error(s(349));(qe&127)!==0||$p(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,fy(Zp.bind(null,l,d,t),[t]),l.flags|=2048,eo(9,{destroy:void 0},Jp.bind(null,l,d,a,i),null),a},useId:function(){var t=_n(),i=ft.identifierPrefix;if($e){var a=ji,l=Bi;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=gc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=MA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:nd,useFormState:oy,useActionState:oy,useOptimistic:function(t){var i=_n();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=id.bind(null,Ue,!0,a),a.dispatch=i,[t,i]},useMemoCache:Kf,useCacheRefresh:function(){return _n().memoizedState=zA.bind(null,Ue)},useEffectEvent:function(t){var i=_n(),a={impl:t};return i.memoizedState=a,function(){if((nt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},rd={readContext:nn,use:yc,useCallback:_y,useContext:nn,useEffect:Zf,useImperativeHandle:yy,useInsertionEffect:my,useLayoutEffect:gy,useMemo:vy,useReducer:_c,useRef:hy,useState:function(){return _c(mr)},useDebugValue:Wf,useDeferredValue:function(t,i){var a=Nt();return Ey(a,ut.memoizedState,t,i)},useTransition:function(){var t=_c(mr)[0],i=Nt().memoizedState;return[typeof t=="boolean"?t:Tl(t),i]},useSyncExternalStore:Xp,useId:by,useHostTransitionStatus:nd,useFormState:ly,useActionState:ly,useOptimistic:function(t,i){var a=Nt();return ty(a,ut,t,i)},useMemoCache:Kf,useCacheRefresh:wy};rd.useEffectEvent=dy;var Ny={readContext:nn,use:yc,useCallback:_y,useContext:nn,useEffect:Zf,useImperativeHandle:yy,useInsertionEffect:my,useLayoutEffect:gy,useMemo:vy,useReducer:Xf,useRef:hy,useState:function(){return Xf(mr)},useDebugValue:Wf,useDeferredValue:function(t,i){var a=Nt();return ut===null?ed(a,t,i):Ey(a,ut.memoizedState,t,i)},useTransition:function(){var t=Xf(mr)[0],i=Nt().memoizedState;return[typeof t=="boolean"?t:Tl(t),i]},useSyncExternalStore:Xp,useId:by,useHostTransitionStatus:nd,useFormState:cy,useActionState:cy,useOptimistic:function(t,i){var a=Nt();return ut!==null?ty(a,ut,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Kf,useCacheRefresh:wy};Ny.useEffectEvent=dy;function sd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ad={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Bn(),h=es(l);h.payload=i,a!=null&&(h.callback=a),i=ts(t,h,l),i!==null&&(Cn(i,t,l),yl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Bn(),h=es(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=ts(t,h,l),i!==null&&(Cn(i,t,l),yl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Bn(),l=es(a);l.tag=2,i!=null&&(l.callback=i),i=ts(t,l,a),i!==null&&(Cn(i,t,a),yl(i,t,a))}};function Oy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!ul(a,l)||!ul(h,d):!0}function Vy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&ad.enqueueReplaceState(i,i.state,null)}function aa(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function My(t){Wu(t)}function xy(t){console.error(t)}function Ly(t){Wu(t)}function Sc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Uy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function od(t,i,a){return a=es(a),a.tag=3,a.payload={element:null},a.callback=function(){Sc(t,i)},a}function ky(t){return t=es(t),t.tag=3,t}function Py(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Uy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Uy(i,a,l),typeof h!="function"&&(os===null?os=new Set([this]):os.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function jA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Qa(i,a,h,!0),a=Un.current,a!==null){switch(a.tag){case 31:case 13:return Jn===null?xc():a.alternate===null&&Rt===0&&(Rt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===uc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Vd(t,l,h)),!1;case 22:return a.flags|=65536,l===uc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Vd(t,l,h)),!1}throw Error(s(435,a.tag))}return Vd(t,l,h),xc(),!1}if($e)return i=Un.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Rf&&(t=Error(s(422),{cause:l}),fl(Kn(t,a)))):(l!==Rf&&(i=Error(s(423),{cause:l}),fl(Kn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Kn(l,a),h=od(t.stateNode,l,h),kf(t,h),Rt!==4&&(Rt=2)),!1;var d=Error(s(520),{cause:l});if(d=Kn(d,a),Ol===null?Ol=[d]:Ol.push(d),Rt!==4&&(Rt=2),i===null)return!0;l=Kn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=od(a.stateNode,l,t),kf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(os===null||!os.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ky(h),Py(h,t,a,l),kf(a,h),!1}a=a.return}while(a!==null);return!1}var ld=Error(s(461)),zt=!1;function rn(t,i,a,l){i.child=t===null?qp(i,null,a,l):ra(i,t.child,a,l)}function zy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return ea(i),l=Hf(t,i,a,_,d,h),T=Ff(),t!==null&&!zt?(Gf(t,i,h),gr(t,i,h)):($e&&T&&bf(i),i.flags|=1,rn(t,i,l,h),i.child)}function By(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Tf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,jy(t,i,d,l,h)):(t=ic(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!pd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:ul,a(_,l)&&t.ref===i.ref)return gr(t,i,h)}return i.flags|=1,t=ur(d,l),t.ref=i.ref,t.return=i,i.child=t}function jy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(ul(d,l)&&t.ref===i.ref)if(zt=!1,i.pendingProps=l=d,pd(t,h))(t.flags&131072)!==0&&(zt=!0);else return i.lanes=t.lanes,gr(t,i,h)}return ud(t,i,a,l,h)}function qy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Hy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&oc(i,d!==null?d.cachePool:null),d!==null?Gp(i,d):zf(),Qp(i);else return l=i.lanes=536870912,Hy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(oc(i,d.cachePool),Gp(i,d),is(),i.memoizedState=null):(t!==null&&oc(i,null),zf(),is());return rn(t,i,h,a),i.child}function bl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Hy(t,i,a,l,h){var d=Mf();return d=d===null?null:{parent:kt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&oc(i,null),zf(),Qp(i),t!==null&&Qa(t,i,l,!0),i.childLanes=h,null}function Ac(t,i){return i=wc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Fy(t,i,a){return ra(i,t.child,null,a),t=Ac(i,i.pendingProps),t.flags|=2,kn(i),i.memoizedState=null,t}function qA(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if($e){if(l.mode==="hidden")return t=Ac(i,l),i.lanes=536870912,bl(null,t);if(jf(i),(t=dt)?(t=nv(t,$n),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Xr!==null?{id:Bi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=Cp(t),a.return=i,i.child=a,tn=i,dt=null)):t=null,t===null)throw Jr(i);return i.lanes=536870912,null}return Ac(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(jf(i),h)if(i.flags&256)i.flags&=-257,i=Fy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(zt||Qa(t,i,a,!1),h=(a&t.childLanes)!==0,zt||h){if(l=ft,l!==null&&(_=Go(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,$s(t,_),Cn(l,t,_),ld;xc(),i=Fy(t,i,a)}else t=d.treeContext,dt=Zn(_.nextSibling),tn=i,$e=!0,$r=null,$n=!1,t!==null&&Np(i,t),i=Ac(i,l),i.flags|=4096;return i}return t=ur(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function bc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function ud(t,i,a,l,h){return ea(i),a=Hf(t,i,a,l,void 0,h),l=Ff(),t!==null&&!zt?(Gf(t,i,h),gr(t,i,h)):($e&&l&&bf(i),i.flags|=1,rn(t,i,a,h),i.child)}function Gy(t,i,a,l,h,d){return ea(i),i.updateQueue=null,a=Yp(i,l,a,h),Kp(t),l=Ff(),t!==null&&!zt?(Gf(t,i,d),gr(t,i,d)):($e&&l&&bf(i),i.flags|=1,rn(t,i,a,d),i.child)}function Qy(t,i,a,l,h){if(ea(i),i.stateNode===null){var d=qa,_=a.contextType;typeof _=="object"&&_!==null&&(d=nn(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ad,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Lf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?nn(_):qa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(sd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&ad.enqueueReplaceState(d,d.state,null),vl(i,l,d,h),_l(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,N=aa(a,T);d.props=N;var j=d.context,$=a.contextType;_=qa,typeof $=="object"&&$!==null&&(_=nn($));var te=a.getDerivedStateFromProps;$=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||j!==_)&&Vy(i,d,l,_),Wr=!1;var q=i.memoizedState;d.state=q,vl(i,l,d,h),_l(),j=i.memoizedState,T||q!==j||Wr?(typeof te=="function"&&(sd(i,a,te,l),j=i.memoizedState),(N=Wr||Oy(i,a,N,l,q,j,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Uf(t,i),_=i.memoizedProps,$=aa(a,_),d.props=$,te=i.pendingProps,q=d.context,j=a.contextType,N=qa,typeof j=="object"&&j!==null&&(N=nn(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==te||q!==N)&&Vy(i,d,l,N),Wr=!1,q=i.memoizedState,d.state=q,vl(i,l,d,h),_l();var F=i.memoizedState;_!==te||q!==F||Wr||t!==null&&t.dependencies!==null&&sc(t.dependencies)?(typeof T=="function"&&(sd(i,a,T,l),F=i.memoizedState),($=Wr||Oy(i,a,$,l,q,F,N)||t!==null&&t.dependencies!==null&&sc(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=N,l=$):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,bc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=ra(i,t.child,null,h),i.child=ra(i,null,a,h)):rn(t,i,a,h),i.memoizedState=d.state,t=i.child):t=gr(t,i,h),t}function Ky(t,i,a,l){return Zs(),i.flags|=256,rn(t,i,a,l),i.child}var cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hd(t){return{baseLanes:t,cachePool:Up()}}function fd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=zn),t}function Yy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Dt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if($e){if(h?ns(i):is(),(t=dt)?(t=nv(t,$n),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Xr!==null?{id:Bi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=Cp(t),a.return=i,i.child=a,tn=i,dt=null)):t=null,t===null)throw Jr(i);return Yd(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(is(),h=i.mode,T=wc({mode:"hidden",children:T},h),l=Js(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=hd(a),l.childLanes=fd(t,_,a),i.memoizedState=cd,bl(null,l)):(ns(i),dd(i,T))}var N=t.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(d)i.flags&256?(ns(i),i.flags&=-257,i=md(t,i,a)):i.memoizedState!==null?(is(),i.child=t.child,i.flags|=128,i=null):(is(),T=l.fallback,h=i.mode,l=wc({mode:"visible",children:l.children},h),T=Js(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,ra(i,t.child,null,a),l=i.child,l.memoizedState=hd(a),l.childLanes=fd(t,_,a),i.memoizedState=cd,i=bl(null,l));else if(ns(i),Yd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var j=_.dgst;_=j,l=Error(s(419)),l.stack="",l.digest=_,fl({value:l,source:null,stack:null}),i=md(t,i,a)}else if(zt||Qa(t,i,a,!1),_=(a&t.childLanes)!==0,zt||_){if(_=ft,_!==null&&(l=Go(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,$s(t,l),Cn(_,t,l),ld;Kd(T)||xc(),i=md(t,i,a)}else Kd(T)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,dt=Zn(T.nextSibling),tn=i,$e=!0,$r=null,$n=!1,t!==null&&Np(i,t),i=dd(i,l.children),i.flags|=4096);return i}return h?(is(),T=l.fallback,h=i.mode,N=t.child,j=N.sibling,l=ur(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,j!==null?T=ur(j,T):(T=Js(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,bl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=hd(a):(h=T.cachePool,h!==null?(N=kt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Up(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=fd(t,_,a),i.memoizedState=cd,bl(t.child,l)):(ns(i),a=t.child,t=a.sibling,a=ur(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function dd(t,i){return i=wc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function wc(t,i){return t=Ln(22,t,null,i),t.lanes=0,t}function md(t,i,a){return ra(i,t.child,null,a),t=dd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Xy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Df(t.return,i,a)}function gd(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function $y(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=Dt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,ce(Dt,_),rn(t,i,l,a),l=$e?hl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xy(t,a,i);else if(t.tag===19)Xy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&dc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),gd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&dc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}gd(i,!0,a,null,d,l);break;case"together":gd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function gr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),as|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Qa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=ur(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ur(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function pd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&sc(t)))}function HA(t,i,a){switch(i.tag){case 3:bt(i,i.stateNode.containerInfo),Zr(i,kt,t.memoizedState.cache),Zs();break;case 27:case 5:ni(i);break;case 4:bt(i,i.stateNode.containerInfo);break;case 10:Zr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,jf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ns(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Yy(t,i,a):(ns(i),t=gr(t,i,a),t!==null?t.sibling:null);ns(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Qa(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return $y(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ce(Dt,Dt.current),l)break;return null;case 22:return i.lanes=0,qy(t,i,a,i.pendingProps);case 24:Zr(i,kt,t.memoizedState.cache)}return gr(t,i,a)}function Jy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)zt=!0;else{if(!pd(t,a)&&(i.flags&128)===0)return zt=!1,HA(t,i,a);zt=(t.flags&131072)!==0}else zt=!1,$e&&(i.flags&1048576)!==0&&Dp(i,hl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=na(i.elementType),i.type=t,typeof t=="function")Tf(t)?(l=aa(t,l),i.tag=1,i=Qy(null,i,t,l,a)):(i.tag=0,i=ud(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===be){i.tag=11,i=zy(null,i,t,l,a);break e}else if(h===I){i.tag=14,i=By(null,i,t,l,a);break e}}throw i=De(t)||t,Error(s(306,i,""))}}return i;case 0:return ud(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=aa(l,i.pendingProps),Qy(t,i,l,h,a);case 3:e:{if(bt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Uf(t,i),vl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Zr(i,kt,l),l!==d.cache&&Nf(i,[kt],a,!0),_l(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Ky(t,i,l,a);break e}else if(l!==h){h=Kn(Error(s(424)),i),fl(h),i=Ky(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(dt=Zn(t.firstChild),tn=i,$e=!0,$r=null,$n=!0,a=qp(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Zs(),l===h){i=gr(t,i,a);break e}rn(t,i,l,a)}i=i.child}return i;case 26:return bc(t,i),t===null?(a=lv(i.type,null,i.pendingProps,null))?i.memoizedState=a:$e||(a=i.type,t=i.pendingProps,l=jc(xe.current).createElement(a),l[xt]=i,l[Yt]=t,sn(l,a,t),Lt(l),i.stateNode=l):i.memoizedState=lv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ni(i),t===null&&$e&&(l=i.stateNode=sv(i.type,i.pendingProps,xe.current),tn=i,$n=!0,h=dt,hs(i.type)?(Xd=h,dt=Zn(l.firstChild)):dt=h),rn(t,i,i.pendingProps.children,a),bc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&$e&&((h=l=dt)&&(l=vb(l,i.type,i.pendingProps,$n),l!==null?(i.stateNode=l,tn=i,dt=Zn(l.firstChild),$n=!1,h=!0):h=!1),h||Jr(i)),ni(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Fd(h,d)?l=null:_!==null&&Fd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Hf(t,i,xA,null,null,a),zl._currentValue=h),bc(t,i),rn(t,i,l,a),i.child;case 6:return t===null&&$e&&((t=a=dt)&&(a=Eb(a,i.pendingProps,$n),a!==null?(i.stateNode=a,tn=i,dt=null,t=!0):t=!1),t||Jr(i)),null;case 13:return Yy(t,i,a);case 4:return bt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ra(i,null,l,a):rn(t,i,l,a),i.child;case 11:return zy(t,i,i.type,i.pendingProps,a);case 7:return rn(t,i,i.pendingProps,a),i.child;case 8:return rn(t,i,i.pendingProps.children,a),i.child;case 12:return rn(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Zr(i,i.type,l.value),rn(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ea(i),h=nn(h),l=l(h),i.flags|=1,rn(t,i,l,a),i.child;case 14:return By(t,i,i.type,i.pendingProps,a);case 15:return jy(t,i,i.type,i.pendingProps,a);case 19:return $y(t,i,a);case 31:return qA(t,i,a);case 22:return qy(t,i,a,i.pendingProps);case 24:return ea(i),l=nn(kt),t===null?(h=Mf(),h===null&&(h=ft,d=Of(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Lf(i),Zr(i,kt,h)):((t.lanes&a)!==0&&(Uf(t,i),vl(i,null,null,a),_l()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Zr(i,kt,l)):(l=d.cache,Zr(i,kt,l),l!==h.cache&&Nf(i,[kt],a,!0))),rn(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function pr(t){t.flags|=4}function yd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(b_())t.flags|=8192;else throw ia=uc,xf}else t.flags&=-16777217}function Zy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!dv(i))if(b_())t.flags|=8192;else throw ia=uc,xf}function Rc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Vu():536870912,t.lanes|=i,ro|=i)}function wl(t,i){if(!$e)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function mt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function FA(t,i,a){var l=i.pendingProps;switch(wf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(i),null;case 1:return mt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),fr(kt),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ga(i)?pr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Cf())),mt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(pr(i),d!==null?(mt(i),Zy(i,d)):(mt(i),yd(i,h,null,l,a))):d?d!==t.memoizedState?(pr(i),mt(i),Zy(i,d)):(mt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&pr(i),mt(i),yd(i,h,t,l,a)),null;case 27:if(kr(i),a=xe.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&pr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return mt(i),null}t=de.current,Ga(i)?Op(i):(t=sv(h,l,a),i.stateNode=t,pr(i))}return mt(i),null;case 5:if(kr(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&pr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return mt(i),null}if(d=de.current,Ga(i))Op(i);else{var _=jc(xe.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[xt]=i,d[Yt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(sn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&pr(i)}}return mt(i),yd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&pr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=xe.current,Ga(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[xt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Y_(t.nodeValue,a)),t||Jr(i,!0)}else t=jc(t).createTextNode(l),t[xt]=i,i.stateNode=t}return mt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ga(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[xt]=i}else Zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;mt(i),t=!1}else a=Cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(kn(i),i):(kn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return mt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ga(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[xt]=i}else Zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;mt(i),h=!1}else h=Cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(kn(i),i):(kn(i),null)}return kn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Rc(i,i.updateQueue),mt(i),null);case 4:return ot(),t===null&&zd(i.stateNode.containerInfo),mt(i),null;case 10:return fr(i.type),mt(i),null;case 19:if(ee(Dt),l=i.memoizedState,l===null)return mt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)wl(l,!1);else{if(Rt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=dc(t),d!==null){for(i.flags|=128,wl(l,!1),t=d.updateQueue,i.updateQueue=t,Rc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Rp(a,t),a=a.sibling;return ce(Dt,Dt.current&1|2),$e&&cr(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&se()>Oc&&(i.flags|=128,h=!0,wl(l,!1),i.lanes=4194304)}else{if(!h)if(t=dc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Rc(i,t),wl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!$e)return mt(i),null}else 2*se()-l.renderingStartTime>Oc&&a!==536870912&&(i.flags|=128,h=!0,wl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=se(),t.sibling=null,a=Dt.current,ce(Dt,h?a&1|2:a&1),$e&&cr(i,l.treeForkCount),t):(mt(i),null);case 22:case 23:return kn(i),Bf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(mt(i),i.subtreeFlags&6&&(i.flags|=8192)):mt(i),a=i.updateQueue,a!==null&&Rc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ee(ta),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),fr(kt),mt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function GA(t,i){switch(wf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return fr(kt),ot(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return kr(i),null;case 31:if(i.memoizedState!==null){if(kn(i),i.alternate===null)throw Error(s(340));Zs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(kn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Zs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ee(Dt),null;case 4:return ot(),null;case 10:return fr(i.type),null;case 22:case 23:return kn(i),Bf(),t!==null&&ee(ta),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return fr(kt),null;case 25:return null;default:return null}}function Wy(t,i){switch(wf(i),i.tag){case 3:fr(kt),ot();break;case 26:case 27:case 5:kr(i);break;case 4:ot();break;case 31:i.memoizedState!==null&&kn(i);break;case 13:kn(i);break;case 19:ee(Dt);break;case 10:fr(i.type);break;case 22:case 23:kn(i),Bf(),t!==null&&ee(ta);break;case 24:fr(kt)}}function Rl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){at(i,i.return,T)}}function rs(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var N=a,j=T;try{j()}catch($){at(h,N,$)}}}l=l.next}while(l!==d)}}catch($){at(i,i.return,$)}}function e_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Fp(i,a)}catch(l){at(t,t.return,l)}}}function t_(t,i,a){a.props=aa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){at(t,i,l)}}function Cl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){at(t,i,h)}}function qi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){at(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){at(t,i,h)}else a.current=null}function n_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){at(t,t.return,h)}}function _d(t,i,a){try{var l=t.stateNode;db(l,t.type,a,i),l[Yt]=i}catch(h){at(t,t.return,h)}}function i_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&hs(t.type)||t.tag===4}function vd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||i_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&hs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ed(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ai));else if(l!==4&&(l===27&&hs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Ed(t,i,a),t=t.sibling;t!==null;)Ed(t,i,a),t=t.sibling}function Cc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&hs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Cc(t,i,a),t=t.sibling;t!==null;)Cc(t,i,a),t=t.sibling}function r_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);sn(i,l,a),i[xt]=t,i[Yt]=a}catch(d){at(t,t.return,d)}}var yr=!1,Bt=!1,Td=!1,s_=typeof WeakSet=="function"?WeakSet:Set,$t=null;function QA(t,i){if(t=t.containerInfo,qd=Yc,t=yp(t),mf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,N=-1,j=0,$=0,te=t,q=null;t:for(;;){for(var F;te!==a||h!==0&&te.nodeType!==3||(T=_+h),te!==d||l!==0&&te.nodeType!==3||(N=_+l),te.nodeType===3&&(_+=te.nodeValue.length),(F=te.firstChild)!==null;)q=te,te=F;for(;;){if(te===t)break t;if(q===a&&++j===h&&(T=_),q===d&&++$===l&&(N=_),(F=te.nextSibling)!==null)break;te=q,q=te.parentNode}te=F}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hd={focusedElem:t,selectionRange:a},Yc=!1,$t=i;$t!==null;)if(i=$t,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,$t=t;else for(;$t!==null;){switch(i=$t,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ge=aa(a.type,h);t=l.getSnapshotBeforeUpdate(ge,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(we){at(a,a.return,we)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Qd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,$t=t;break}$t=i.return}}function a_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:vr(t,a),l&4&&Rl(5,a);break;case 1:if(vr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){at(a,a.return,_)}else{var h=aa(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){at(a,a.return,_)}}l&64&&e_(a),l&512&&Cl(a,a.return);break;case 3:if(vr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Fp(t,i)}catch(_){at(a,a.return,_)}}break;case 27:i===null&&l&4&&r_(a);case 26:case 5:vr(t,a),i===null&&l&4&&n_(a),l&512&&Cl(a,a.return);break;case 12:vr(t,a);break;case 31:vr(t,a),l&4&&u_(t,a);break;case 13:vr(t,a),l&4&&c_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=tb.bind(null,a),Tb(t,a))));break;case 22:if(l=a.memoizedState!==null||yr,!l){i=i!==null&&i.memoizedState!==null||Bt,h=yr;var d=Bt;yr=l,(Bt=i)&&!d?Er(t,a,(a.subtreeFlags&8772)!==0):vr(t,a),yr=h,Bt=d}break;case 30:break;default:vr(t,a)}}function o_(t){var i=t.alternate;i!==null&&(t.alternate=null,o_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ia(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _t=null,An=!1;function _r(t,i,a){for(a=a.child;a!==null;)l_(t,i,a),a=a.sibling}function l_(t,i,a){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(pn,a)}catch{}switch(a.tag){case 26:Bt||qi(a,i),_r(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Bt||qi(a,i);var l=_t,h=An;hs(a.type)&&(_t=a.stateNode,An=!1),_r(t,i,a),Ul(a.stateNode),_t=l,An=h;break;case 5:Bt||qi(a,i);case 6:if(l=_t,h=An,_t=null,_r(t,i,a),_t=l,An=h,_t!==null)if(An)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(a.stateNode)}catch(d){at(a,i,d)}else try{_t.removeChild(a.stateNode)}catch(d){at(a,i,d)}break;case 18:_t!==null&&(An?(t=_t,ev(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),fo(t)):ev(_t,a.stateNode));break;case 4:l=_t,h=An,_t=a.stateNode.containerInfo,An=!0,_r(t,i,a),_t=l,An=h;break;case 0:case 11:case 14:case 15:rs(2,a,i),Bt||rs(4,a,i),_r(t,i,a);break;case 1:Bt||(qi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&t_(a,i,l)),_r(t,i,a);break;case 21:_r(t,i,a);break;case 22:Bt=(l=Bt)||a.memoizedState!==null,_r(t,i,a),Bt=l;break;default:_r(t,i,a)}}function u_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{fo(t)}catch(a){at(i,i.return,a)}}}function c_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{fo(t)}catch(a){at(i,i.return,a)}}function KA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new s_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new s_),i;default:throw Error(s(435,t.tag))}}function Ic(t,i){var a=KA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=nb.bind(null,t,l);l.then(h,h)}})}function bn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(hs(T.type)){_t=T.stateNode,An=!1;break e}break;case 5:_t=T.stateNode,An=!1;break e;case 3:case 4:_t=T.stateNode.containerInfo,An=!0;break e}T=T.return}if(_t===null)throw Error(s(160));l_(d,_,h),_t=null,An=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)h_(i,t),i=i.sibling}var fi=null;function h_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(i,t),wn(t),l&4&&(rs(3,t,t.return),Rl(3,t),rs(5,t,t.return));break;case 1:bn(i,t),wn(t),l&512&&(Bt||a===null||qi(a,a.return)),l&64&&yr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=fi;if(bn(i,t),wn(t),l&512&&(Bt||a===null||qi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ii]||d[xt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),sn(d,l,a),d[xt]=t,Lt(d),l=d;break e;case"link":var _=hv("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),sn(d,l,a),h.head.appendChild(d);break;case"meta":if(_=hv("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),sn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[xt]=t,Lt(d),l=d}t.stateNode=l}else fv(h,t.type,t.stateNode);else t.stateNode=cv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?fv(h,t.type,t.stateNode):cv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&_d(t,t.memoizedProps,a.memoizedProps)}break;case 27:bn(i,t),wn(t),l&512&&(Bt||a===null||qi(a,a.return)),a!==null&&l&4&&_d(t,t.memoizedProps,a.memoizedProps);break;case 5:if(bn(i,t),wn(t),l&512&&(Bt||a===null||qi(a,a.return)),t.flags&32){h=t.stateNode;try{Sn(h,"")}catch(ge){at(t,t.return,ge)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,_d(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Td=!0);break;case 6:if(bn(i,t),wn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ge){at(t,t.return,ge)}}break;case 3:if(Fc=null,h=fi,fi=qc(i.containerInfo),bn(i,t),fi=h,wn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{fo(i.containerInfo)}catch(ge){at(t,t.return,ge)}Td&&(Td=!1,f_(t));break;case 4:l=fi,fi=qc(t.stateNode.containerInfo),bn(i,t),wn(t),fi=l;break;case 12:bn(i,t),wn(t);break;case 31:bn(i,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ic(t,l)));break;case 13:bn(i,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Nc=se()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ic(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,j=yr,$=Bt;if(yr=j||h,Bt=$||N,bn(i,t),Bt=$,yr=j,wn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||yr||Bt||oa(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=N.stateNode;var te=N.memoizedProps.style,q=te!=null&&te.hasOwnProperty("display")?te.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ge){at(N,N.return,ge)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(ge){at(N,N.return,ge)}}}else if(i.tag===18){if(a===null){N=i;try{var F=N.stateNode;h?tv(F,!0):tv(N.stateNode,!1)}catch(ge){at(N,N.return,ge)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ic(t,a))));break;case 19:bn(i,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ic(t,l)));break;case 30:break;case 21:break;default:bn(i,t),wn(t)}}function wn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(i_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=vd(t);Cc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(Sn(_,""),a.flags&=-33);var T=vd(t);Cc(t,T,_);break;case 3:case 4:var N=a.stateNode.containerInfo,j=vd(t);Ed(t,j,N);break;default:throw Error(s(161))}}catch($){at(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function f_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;f_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function vr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)a_(t,i.alternate,i),i=i.sibling}function oa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:rs(4,i,i.return),oa(i);break;case 1:qi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&t_(i,i.return,a),oa(i);break;case 27:Ul(i.stateNode);case 26:case 5:qi(i,i.return),oa(i);break;case 22:i.memoizedState===null&&oa(i);break;case 30:oa(i);break;default:oa(i)}t=t.sibling}}function Er(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Er(h,d,a),Rl(4,d);break;case 1:if(Er(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){at(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Hp(N[h],T)}catch(j){at(l,l.return,j)}}a&&_&64&&e_(d),Cl(d,d.return);break;case 27:r_(d);case 26:case 5:Er(h,d,a),a&&l===null&&_&4&&n_(d),Cl(d,d.return);break;case 12:Er(h,d,a);break;case 31:Er(h,d,a),a&&_&4&&u_(h,d);break;case 13:Er(h,d,a),a&&_&4&&c_(h,d);break;case 22:d.memoizedState===null&&Er(h,d,a),Cl(d,d.return);break;case 30:break;default:Er(h,d,a)}i=i.sibling}}function Sd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&dl(a))}function Ad(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&dl(t))}function di(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)d_(t,i,a,l),i=i.sibling}function d_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:di(t,i,a,l),h&2048&&Rl(9,i);break;case 1:di(t,i,a,l);break;case 3:di(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&dl(t)));break;case 12:if(h&2048){di(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){at(i,i.return,N)}}else di(t,i,a,l);break;case 31:di(t,i,a,l);break;case 13:di(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?di(t,i,a,l):Il(t,i):d._visibility&2?di(t,i,a,l):(d._visibility|=2,to(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Sd(_,i);break;case 24:di(t,i,a,l),h&2048&&Ad(i.alternate,i);break;default:di(t,i,a,l)}}function to(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=a,N=l,j=_.flags;switch(_.tag){case 0:case 11:case 15:to(d,_,T,N,h),Rl(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?to(d,_,T,N,h):Il(d,_):($._visibility|=2,to(d,_,T,N,h)),h&&j&2048&&Sd(_.alternate,_);break;case 24:to(d,_,T,N,h),h&&j&2048&&Ad(_.alternate,_);break;default:to(d,_,T,N,h)}i=i.sibling}}function Il(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Il(a,l),h&2048&&Sd(l.alternate,l);break;case 24:Il(a,l),h&2048&&Ad(l.alternate,l);break;default:Il(a,l)}i=i.sibling}}var Dl=8192;function no(t,i,a){if(t.subtreeFlags&Dl)for(t=t.child;t!==null;)m_(t,i,a),t=t.sibling}function m_(t,i,a){switch(t.tag){case 26:no(t,i,a),t.flags&Dl&&t.memoizedState!==null&&Mb(a,fi,t.memoizedState,t.memoizedProps);break;case 5:no(t,i,a);break;case 3:case 4:var l=fi;fi=qc(t.stateNode.containerInfo),no(t,i,a),fi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Dl,Dl=16777216,no(t,i,a),Dl=l):no(t,i,a));break;default:no(t,i,a)}}function g_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Nl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];$t=l,y_(l,t)}g_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)p_(t),t=t.sibling}function p_(t){switch(t.tag){case 0:case 11:case 15:Nl(t),t.flags&2048&&rs(9,t,t.return);break;case 3:Nl(t);break;case 12:Nl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Dc(t)):Nl(t);break;default:Nl(t)}}function Dc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];$t=l,y_(l,t)}g_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:rs(8,i,i.return),Dc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Dc(i));break;default:Dc(i)}t=t.sibling}}function y_(t,i){for(;$t!==null;){var a=$t;switch(a.tag){case 0:case 11:case 15:rs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:dl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,$t=l;else e:for(a=t;$t!==null;){l=$t;var h=l.sibling,d=l.return;if(o_(l),l===a){$t=null;break e}if(h!==null){h.return=d,$t=h;break e}$t=d}}}var YA={getCacheForType:function(t){var i=nn(kt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return nn(kt).controller.signal}},XA=typeof WeakMap=="function"?WeakMap:Map,nt=0,ft=null,Be=null,qe=0,st=0,Pn=null,ss=!1,io=!1,bd=!1,Tr=0,Rt=0,as=0,la=0,wd=0,zn=0,ro=0,Ol=null,Rn=null,Rd=!1,Nc=0,__=0,Oc=1/0,Vc=null,os=null,Gt=0,ls=null,so=null,Sr=0,Cd=0,Id=null,v_=null,Vl=0,Dd=null;function Bn(){return(nt&2)!==0&&qe!==0?qe&-qe:G.T!==null?Ld():Mu()}function E_(){if(zn===0)if((qe&536870912)===0||$e){var t=Ls;Ls<<=1,(Ls&3932160)===0&&(Ls=262144),zn=t}else zn=536870912;return t=Un.current,t!==null&&(t.flags|=32),zn}function Cn(t,i,a){(t===ft&&(st===2||st===9)||t.cancelPendingCommit!==null)&&(ao(t,0),us(t,qe,zn,!1)),Us(t,a),((nt&2)===0||t!==ft)&&(t===ft&&((nt&2)===0&&(la|=a),Rt===4&&us(t,qe,zn,!1)),Hi(t))}function T_(t,i,a){if((nt&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||ii(t,i),h=l?ZA(t,i):Od(t,i,!0),d=l;do{if(h===0){io&&!l&&us(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!$A(a)){h=Od(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=Ol;var N=T.current.memoizedState.isDehydrated;if(N&&(ao(T,_).flags|=256),_=Od(T,_,!1),_!==2){if(bd&&!N){T.errorRecoveryDisabledLanes|=d,la|=d,h=4;break e}d=Rn,Rn=h,d!==null&&(Rn===null?Rn=d:Rn.push.apply(Rn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){ao(t,0),us(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:us(l,i,zn,!ss);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Nc+300-se(),10<h)){if(us(l,i,zn,!ss),wi(l,0,!0)!==0)break e;Sr=i,l.timeoutHandle=Z_(S_.bind(null,l,a,Rn,Vc,Rd,i,zn,la,ro,ss,d,"Throttled",-0,0),h);break e}S_(l,a,Rn,Vc,Rd,i,zn,la,ro,ss,d,null,-0,0)}}break}while(!0);Hi(t)}function S_(t,i,a,l,h,d,_,T,N,j,$,te,q,F){if(t.timeoutHandle=-1,te=i.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},m_(i,d,te);var ge=(d&62914560)===d?Nc-se():(d&4194048)===d?__-se():0;if(ge=xb(te,ge),ge!==null){Sr=d,t.cancelPendingCommit=ge(N_.bind(null,t,i,d,a,l,h,_,T,N,$,te,null,q,F)),us(t,d,_,!j);return}}N_(t,i,d,a,l,h,_,T,N)}function $A(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!xn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function us(t,i,a,l){i&=~wd,i&=~la,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-pt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&ks(t,a,i)}function Mc(){return(nt&6)===0?(Ml(0),!1):!0}function Nd(){if(Be!==null){if(st===0)var t=Be.return;else t=Be,hr=Ws=null,Qf(t),$a=null,gl=0,t=Be;for(;t!==null;)Wy(t.alternate,t),t=t.return;Be=null}}function ao(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,pb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Sr=0,Nd(),ft=t,Be=a=ur(t.current,null),qe=i,st=0,Pn=null,ss=!1,io=ii(t,i),bd=!1,ro=zn=wd=la=as=Rt=0,Rn=Ol=null,Rd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-pt(l),d=1<<h;i|=t[h],l&=~d}return Tr=i,ec(),a}function A_(t,i){Ue=null,G.H=Al,i===Xa||i===lc?(i=zp(),st=3):i===xf?(i=zp(),st=4):st=i===ld?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Pn=i,Be===null&&(Rt=1,Sc(t,Kn(i,t.current)))}function b_(){var t=Un.current;return t===null?!0:(qe&4194048)===qe?Jn===null:(qe&62914560)===qe||(qe&536870912)!==0?t===Jn:!1}function w_(){var t=G.H;return G.H=Al,t===null?Al:t}function R_(){var t=G.A;return G.A=YA,t}function xc(){Rt=4,ss||(qe&4194048)!==qe&&Un.current!==null||(io=!0),(as&134217727)===0&&(la&134217727)===0||ft===null||us(ft,qe,zn,!1)}function Od(t,i,a){var l=nt;nt|=2;var h=w_(),d=R_();(ft!==t||qe!==i)&&(Vc=null,ao(t,i)),i=!1;var _=Rt;e:do try{if(st!==0&&Be!==null){var T=Be,N=Pn;switch(st){case 8:Nd(),_=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(i=!0);var j=st;if(st=0,Pn=null,oo(t,T,N,j),a&&io){_=0;break e}break;default:j=st,st=0,Pn=null,oo(t,T,N,j)}}JA(),_=Rt;break}catch($){A_(t,$)}while(!0);return i&&t.shellSuspendCounter++,hr=Ws=null,nt=l,G.H=h,G.A=d,Be===null&&(ft=null,qe=0,ec()),_}function JA(){for(;Be!==null;)C_(Be)}function ZA(t,i){var a=nt;nt|=2;var l=w_(),h=R_();ft!==t||qe!==i?(Vc=null,Oc=se()+500,ao(t,i)):io=ii(t,i);e:do try{if(st!==0&&Be!==null){i=Be;var d=Pn;t:switch(st){case 1:st=0,Pn=null,oo(t,i,d,1);break;case 2:case 9:if(kp(d)){st=0,Pn=null,I_(i);break}i=function(){st!==2&&st!==9||ft!==t||(st=7),Hi(t)},d.then(i,i);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:kp(d)?(st=0,Pn=null,I_(i)):(st=0,Pn=null,oo(t,i,d,7));break;case 5:var _=null;switch(Be.tag){case 26:_=Be.memoizedState;case 5:case 27:var T=Be;if(_?dv(_):T.stateNode.complete){st=0,Pn=null;var N=T.sibling;if(N!==null)Be=N;else{var j=T.return;j!==null?(Be=j,Lc(j)):Be=null}break t}}st=0,Pn=null,oo(t,i,d,5);break;case 6:st=0,Pn=null,oo(t,i,d,6);break;case 8:Nd(),Rt=6;break e;default:throw Error(s(462))}}WA();break}catch($){A_(t,$)}while(!0);return hr=Ws=null,G.H=l,G.A=h,nt=a,Be!==null?0:(ft=null,qe=0,ec(),Rt)}function WA(){for(;Be!==null&&!X();)C_(Be)}function C_(t){var i=Jy(t.alternate,t,Tr);t.memoizedProps=t.pendingProps,i===null?Lc(t):Be=i}function I_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Gy(a,i,i.pendingProps,i.type,void 0,qe);break;case 11:i=Gy(a,i,i.pendingProps,i.type.render,i.ref,qe);break;case 5:Qf(i);default:Wy(a,i),i=Be=Rp(i,Tr),i=Jy(a,i,Tr)}t.memoizedProps=t.pendingProps,i===null?Lc(t):Be=i}function oo(t,i,a,l){hr=Ws=null,Qf(i),$a=null,gl=0;var h=i.return;try{if(jA(t,h,i,a,qe)){Rt=1,Sc(t,Kn(a,t.current)),Be=null;return}}catch(d){if(h!==null)throw Be=h,d;Rt=1,Sc(t,Kn(a,t.current)),Be=null;return}i.flags&32768?($e||l===1?t=!0:io||(qe&536870912)!==0?t=!1:(ss=t=!0,(l===2||l===9||l===3||l===6)&&(l=Un.current,l!==null&&l.tag===13&&(l.flags|=16384))),D_(i,t)):Lc(i)}function Lc(t){var i=t;do{if((i.flags&32768)!==0){D_(i,ss);return}t=i.return;var a=FA(i.alternate,i,Tr);if(a!==null){Be=a;return}if(i=i.sibling,i!==null){Be=i;return}Be=i=t}while(i!==null);Rt===0&&(Rt=5)}function D_(t,i){do{var a=GA(t.alternate,t);if(a!==null){a.flags&=32767,Be=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Be=t;return}Be=t=a}while(t!==null);Rt=6,Be=null}function N_(t,i,a,l,h,d,_,T,N){t.cancelPendingCommit=null;do Uc();while(Gt!==0);if((nt&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=vf,cf(t,a,d,_,T,N),t===ft&&(Be=ft=null,qe=0),so=i,ls=t,Sr=a,Cd=d,Id=h,v_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ib(Xe,function(){return L_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=oe.p,oe.p=2,_=nt,nt|=4;try{QA(t,i,a)}finally{nt=_,oe.p=h,G.T=l}}Gt=1,O_(),V_(),M_()}}function O_(){if(Gt===1){Gt=0;var t=ls,i=so,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=oe.p;oe.p=2;var h=nt;nt|=4;try{h_(i,t);var d=Hd,_=yp(t.containerInfo),T=d.focusedElem,N=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&pp(T.ownerDocument.documentElement,T)){if(N!==null&&mf(T)){var j=N.start,$=N.end;if($===void 0&&($=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min($,T.value.length);else{var te=T.ownerDocument||document,q=te&&te.defaultView||window;if(q.getSelection){var F=q.getSelection(),ge=T.textContent.length,we=Math.min(N.start,ge),ht=N.end===void 0?we:Math.min(N.end,ge);!F.extend&&we>ht&&(_=ht,ht=we,we=_);var U=gp(T,we),M=gp(T,ht);if(U&&M&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var B=te.createRange();B.setStart(U.node,U.offset),F.removeAllRanges(),we>ht?(F.addRange(B),F.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),F.addRange(B))}}}}for(te=[],F=T;F=F.parentNode;)F.nodeType===1&&te.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<te.length;T++){var Z=te[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Yc=!!qd,Hd=qd=null}finally{nt=h,oe.p=l,G.T=a}}t.current=i,Gt=2}}function V_(){if(Gt===2){Gt=0;var t=ls,i=so,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=oe.p;oe.p=2;var h=nt;nt|=4;try{a_(t,i.alternate,i)}finally{nt=h,oe.p=l,G.T=a}}Gt=3}}function M_(){if(Gt===4||Gt===3){Gt=0,fe();var t=ls,i=so,a=Sr,l=v_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Gt=5:(Gt=0,so=ls=null,x_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(os=null),sr(a),i=i.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(pn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=G.T,h=oe.p,oe.p=2,G.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{G.T=i,oe.p=h}}(Sr&3)!==0&&Uc(),Hi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Dd?Vl++:(Vl=0,Dd=t):Vl=0,Ml(0)}}function x_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,dl(i)))}function Uc(){return O_(),V_(),M_(),L_()}function L_(){if(Gt!==5)return!1;var t=ls,i=Cd;Cd=0;var a=sr(Sr),l=G.T,h=oe.p;try{oe.p=32>a?32:a,G.T=null,a=Id,Id=null;var d=ls,_=Sr;if(Gt=0,so=ls=null,Sr=0,(nt&6)!==0)throw Error(s(331));var T=nt;if(nt|=4,p_(d.current),d_(d,d.current,_,a),nt=T,Ml(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(pn,d)}catch{}return!0}finally{oe.p=h,G.T=l,x_(t,i)}}function U_(t,i,a){i=Kn(a,i),i=od(t.stateNode,i,2),t=ts(t,i,2),t!==null&&(Us(t,2),Hi(t))}function at(t,i,a){if(t.tag===3)U_(t,t,a);else for(;i!==null;){if(i.tag===3){U_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(os===null||!os.has(l))){t=Kn(a,t),a=ky(2),l=ts(i,a,2),l!==null&&(Py(a,l,i,t),Us(l,2),Hi(l));break}}i=i.return}}function Vd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new XA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(bd=!0,h.add(a),t=eb.bind(null,t,i,a),i.then(t,t))}function eb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ft===t&&(qe&a)===a&&(Rt===4||Rt===3&&(qe&62914560)===qe&&300>se()-Nc?(nt&2)===0&&ao(t,0):wd|=a,ro===qe&&(ro=0)),Hi(t)}function k_(t,i){i===0&&(i=Vu()),t=$s(t,i),t!==null&&(Us(t,i),Hi(t))}function tb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),k_(t,a)}function nb(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),k_(t,a)}function ib(t,i){return D(t,i)}var kc=null,lo=null,Md=!1,Pc=!1,xd=!1,cs=0;function Hi(t){t!==lo&&t.next===null&&(lo===null?kc=lo=t:lo=lo.next=t),Pc=!0,Md||(Md=!0,sb())}function Ml(t,i){if(!xd&&Pc){xd=!0;do for(var a=!1,l=kc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,j_(l,d))}else d=qe,d=wi(l,l===ft?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ii(l,d)||(a=!0,j_(l,d));l=l.next}while(a);xd=!1}}function rb(){P_()}function P_(){Pc=Md=!1;var t=0;cs!==0&&gb()&&(t=cs);for(var i=se(),a=null,l=kc;l!==null;){var h=l.next,d=z_(l,i);d===0?(l.next=null,a===null?kc=h:a.next=h,h===null&&(lo=a)):(a=l,(t!==0||(d&3)!==0)&&(Pc=!0)),l=h}Gt!==0&&Gt!==5||Ml(t),cs!==0&&(cs=0)}function z_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-pt(d),T=1<<_,N=h[_];N===-1?((T&a)===0||(T&l)!==0)&&(h[_]=uf(T,i)):N<=i&&(t.expiredLanes|=T),d&=~T}if(i=ft,a=qe,a=wi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(st===2||st===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&z(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ii(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&z(l),sr(a)){case 2:case 8:a=Ye;break;case 32:a=Xe;break;case 268435456:a=ir;break;default:a=Xe}return l=B_.bind(null,t),a=D(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&z(l),t.callbackPriority=2,t.callbackNode=null,2}function B_(t,i){if(Gt!==0&&Gt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Uc()&&t.callbackNode!==a)return null;var l=qe;return l=wi(t,t===ft?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(T_(t,l,i),z_(t,se()),t.callbackNode!=null&&t.callbackNode===a?B_.bind(null,t):null)}function j_(t,i){if(Uc())return null;T_(t,i,!0)}function sb(){yb(function(){(nt&6)!==0?D(_e,rb):P_()})}function Ld(){if(cs===0){var t=Ka;t===0&&(t=Ai,Ai<<=1,(Ai&261888)===0&&(Ai=256)),cs=t}return cs}function q_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Va(""+t)}function H_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function ab(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=q_((h[Yt]||null).action),_=l.submitter;_&&(i=(i=_[Yt]||null)?q_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new Ui("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(cs!==0){var N=_?H_(h,_):new FormData(h);td(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(T.preventDefault(),N=_?H_(h,_):new FormData(h),td(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Ud=0;Ud<_f.length;Ud++){var kd=_f[Ud],ob=kd.toLowerCase(),lb=kd[0].toUpperCase()+kd.slice(1);hi(ob,"on"+lb)}hi(Ep,"onAnimationEnd"),hi(Tp,"onAnimationIteration"),hi(Sp,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(bA,"onTransitionRun"),hi(wA,"onTransitionStart"),hi(RA,"onTransitionCancel"),hi(Ap,"onTransitionEnd"),Vi("onMouseEnter",["mouseout","mouseover"]),Vi("onMouseLeave",["mouseout","mouseover"]),Vi("onPointerEnter",["pointerout","pointerover"]),Vi("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ub=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function F_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],N=T.instance,j=T.currentTarget;if(T=T.listener,N!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=j;try{d(h)}catch($){Wu($)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(T=l[_],N=T.instance,j=T.currentTarget,T=T.listener,N!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=j;try{d(h)}catch($){Wu($)}h.currentTarget=null,d=N}}}}function je(t,i){var a=i[Ca];a===void 0&&(a=i[Ca]=new Set);var l=t+"__bubble";a.has(l)||(G_(i,t,2,!1),a.add(l))}function Pd(t,i,a){var l=0;i&&(l|=4),G_(a,t,l,i)}var zc="_reactListening"+Math.random().toString(36).slice(2);function zd(t){if(!t[zc]){t[zc]=!0,Qo.forEach(function(a){a!=="selectionchange"&&(ub.has(a)||Pd(a,!1,t),Pd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[zc]||(i[zc]=!0,Pd("selectionchange",!1,i))}}function G_(t,i,a,l){switch(Ev(i)){case 2:var h=kb;break;case 8:h=Pb;break;default:h=em}a=h.bind(null,i,a,t),h=void 0,!qs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Bd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=Di(T),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}T=T.parentNode}}l=l.return}Gr(function(){var j=d,$=Hn(a),te=[];e:{var q=bp.get(t);if(q!==void 0){var F=Ui,ge=t;switch(t){case"keypress":if(Fs(a)===0)break e;case"keydown":case"keyup":F=$u;break;case"focusin":ge="focus",F=Qs;break;case"focusout":ge="blur",F=Qs;break;case"beforeblur":case"afterblur":F=Qs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=g;break;case Ep:case Tp:case Sp:F=Hu;break;case Ap:F=A;break;case"scroll":case"scrollend":F=rl;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=Fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=lr;break;case"toggle":case"beforetoggle":F=Le}var we=(i&4)!==0,ht=!we&&(t==="scroll"||t==="scrollend"),U=we?q!==null?q+"Capture":null:q;we=[];for(var M=j,B;M!==null;){var Z=M;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||U===null||(Z=oi(M,U),Z!=null&&we.push(Ll(M,Z,B))),ht)break;M=M.return}0<we.length&&(q=new F(q,ge,null,a,$),te.push({event:q,listeners:we}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&a!==tl&&(ge=a.relatedTarget||a.fromElement)&&(Di(ge)||ge[Ci]))break e;if((F||q)&&(q=$.window===$?$:(q=$.ownerDocument)?q.defaultView||q.parentWindow:window,F?(ge=a.relatedTarget||a.toElement,F=j,ge=ge?Di(ge):null,ge!==null&&(ht=u(ge),we=ge.tag,ge!==ht||we!==5&&we!==27&&we!==6)&&(ge=null)):(F=null,ge=j),F!==ge)){if(we=sl,Z="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(we=lr,Z="onPointerLeave",U="onPointerEnter",M="pointer"),ht=F==null?q:Vn(F),B=ge==null?q:Vn(ge),q=new we(Z,M+"leave",F,a,$),q.target=ht,q.relatedTarget=B,Z=null,Di($)===j&&(we=new we(U,M+"enter",ge,a,$),we.target=B,we.relatedTarget=ht,Z=we),ht=Z,F&&ge)t:{for(we=cb,U=F,M=ge,B=0,Z=U;Z;Z=we(Z))B++;Z=0;for(var Se=M;Se;Se=we(Se))Z++;for(;0<B-Z;)U=we(U),B--;for(;0<Z-B;)M=we(M),Z--;for(;B--;){if(U===M||M!==null&&U===M.alternate){we=U;break t}U=we(U),M=we(M)}we=null}else we=null;F!==null&&Q_(te,q,F,we,!1),ge!==null&&ht!==null&&Q_(te,ht,ge,we,!0)}}e:{if(q=j?Vn(j):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var We=up;else if(op(q))if(cp)We=TA;else{We=vA;var pe=_A}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?j&&Oa(j.elementType)&&(We=up):We=EA;if(We&&(We=We(t,j))){lp(te,We,a,$);break e}pe&&pe(t,q,j),t==="focusout"&&j&&q.type==="number"&&j.memoizedProps.value!=null&&Zo(q,"number",q.value)}switch(pe=j?Vn(j):window,t){case"focusin":(op(pe)||pe.contentEditable==="true")&&(za=pe,gf=j,cl=null);break;case"focusout":cl=gf=za=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,_p(te,a,$);break;case"selectionchange":if(AA)break;case"keydown":case"keyup":_p(te,a,$)}var ke;if(tt)e:{switch(t){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Pa?Ks(t,a)&&(He="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(He="onCompositionStart");He&&(zi&&a.locale!=="ko"&&(Pa||He!=="onCompositionStart"?He==="onCompositionEnd"&&Pa&&(ke=il()):(Li=$,nl="value"in Li?Li.value:Li.textContent,Pa=!0)),pe=Bc(j,He),0<pe.length&&(He=new Pi(He,t,null,a,$),te.push({event:He,listeners:pe}),ke?He.data=ke:(ke=ka(a),ke!==null&&(He.data=ke)))),(ke=Gn?mA(t,a):gA(t,a))&&(He=Bc(j,"onBeforeInput"),0<He.length&&(pe=new Pi("onBeforeInput","beforeinput",null,a,$),te.push({event:pe,listeners:He}),pe.data=ke)),ab(te,t,j,a,$)}F_(te,i)})}function Ll(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Bc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=oi(t,a),h!=null&&l.unshift(Ll(t,h,d)),h=oi(t,i),h!=null&&l.push(Ll(t,h,d))),t.tag===3)return l;t=t.return}return[]}function cb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Q_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,N=T.alternate,j=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||j===null||(N=j,h?(j=oi(a,d),j!=null&&_.unshift(Ll(a,j,N))):h||(j=oi(a,d),j!=null&&_.push(Ll(a,j,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var hb=/\r\n?/g,fb=/\u0000|\uFFFD/g;function K_(t){return(typeof t=="string"?t:""+t).replace(hb,`
`).replace(fb,"")}function Y_(t,i){return i=K_(i),K_(t)===i}function ct(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Sn(t,""+l);break;case"className":Mn(t,"class",l);break;case"tabIndex":Mn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(t,a,l);break;case"style":el(t,l,d);break;case"data":if(i!=="object"){Mn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Va(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&ct(t,i,"name",h.name,h,null),ct(t,i,"formEncType",h.formEncType,h,null),ct(t,i,"formMethod",h.formMethod,h,null),ct(t,i,"formTarget",h.formTarget,h,null)):(ct(t,i,"encType",h.encType,h,null),ct(t,i,"method",h.method,h,null),ct(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Va(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ai);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Va(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":je("beforetoggle",t),je("toggle",t),Da(t,"popover",l);break;case"xlinkActuate":Ut(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ut(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ut(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ut(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ut(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ut(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Da(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bu.get(a)||a,Da(t,a,l))}}function jd(t,i,a,l,h,d){switch(a){case"style":el(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&Sn(t,""+l);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ko.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Yt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Da(t,a,l)}}}function sn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ct(t,i,d,_,a,null)}}h&&ct(t,i,"srcSet",a.srcSet,a,null),l&&ct(t,i,"src",a.src,a,null);return;case"input":je("invalid",t);var T=d=_=h=null,N=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":_=$;break;case"checked":N=$;break;case"defaultChecked":j=$;break;case"value":d=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:ct(t,i,l,$,a,null)}}ku(t,d,T,N,j,_,h,!1);return;case"select":je("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:ct(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?jr(t,!!l,i,!1):a!=null&&jr(t,!!l,a,!0);return;case"textarea":je("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:ct(t,i,_,T,a,null)}qr(t,l,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ct(t,i,N,l,a,null)}return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(l=0;l<xl.length;l++)je(xl[l],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ct(t,i,j,l,a,null)}return;default:if(Oa(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&jd(t,i,$,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&ct(t,i,T,l,a,null))}function db(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,N=null,j=null,$=null;for(F in a){var te=a[F];if(a.hasOwnProperty(F)&&te!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":N=te;default:l.hasOwnProperty(F)||ct(t,i,F,null,l,te)}}for(var q in l){var F=l[q];if(te=a[q],l.hasOwnProperty(q)&&(F!=null||te!=null))switch(q){case"type":d=F;break;case"name":h=F;break;case"checked":j=F;break;case"defaultChecked":$=F;break;case"value":_=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==te&&ct(t,i,q,F,l,te)}}Na(t,_,T,N,j,$,d,h);return;case"select":F=_=T=q=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":F=N;default:l.hasOwnProperty(d)||ct(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==N&&ct(t,i,h,d,l,N)}i=T,a=_,l=F,q!=null?jr(t,!!a,q,!1):!!l!=!!a&&(i!=null?jr(t,!!a,i,!0):jr(t,!!a,a?[]:"",!1));return;case"textarea":F=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ct(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ct(t,i,_,h,l,d)}Pu(t,q,F);return;case"option":for(var ge in a)if(q=a[ge],a.hasOwnProperty(ge)&&q!=null&&!l.hasOwnProperty(ge))switch(ge){case"selected":t.selected=!1;break;default:ct(t,i,ge,null,l,q)}for(N in l)if(q=l[N],F=a[N],l.hasOwnProperty(N)&&q!==F&&(q!=null||F!=null))switch(N){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:ct(t,i,N,q,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in a)q=a[we],a.hasOwnProperty(we)&&q!=null&&!l.hasOwnProperty(we)&&ct(t,i,we,null,l,q);for(j in l)if(q=l[j],F=a[j],l.hasOwnProperty(j)&&q!==F&&(q!=null||F!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:ct(t,i,j,q,l,F)}return;default:if(Oa(i)){for(var ht in a)q=a[ht],a.hasOwnProperty(ht)&&q!==void 0&&!l.hasOwnProperty(ht)&&jd(t,i,ht,void 0,l,q);for($ in l)q=l[$],F=a[$],!l.hasOwnProperty($)||q===F||q===void 0&&F===void 0||jd(t,i,$,q,l,F);return}}for(var U in a)q=a[U],a.hasOwnProperty(U)&&q!=null&&!l.hasOwnProperty(U)&&ct(t,i,U,null,l,q);for(te in l)q=l[te],F=a[te],!l.hasOwnProperty(te)||q===F||q==null&&F==null||ct(t,i,te,q,l,F)}function X_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&X_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],j=N.startTime;if(j>T)break;var $=N.transferSize,te=N.initiatorType;$&&X_(te)&&(N=N.responseEnd,_+=$*(N<T?1:(T-j)/(N-j)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var qd=null,Hd=null;function jc(t){return t.nodeType===9?t:t.ownerDocument}function $_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function J_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Fd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Gd=null;function gb(){var t=window.event;return t&&t.type==="popstate"?t===Gd?!1:(Gd=t,!0):(Gd=null,!1)}var Z_=typeof setTimeout=="function"?setTimeout:void 0,pb=typeof clearTimeout=="function"?clearTimeout:void 0,W_=typeof Promise=="function"?Promise:void 0,yb=typeof queueMicrotask=="function"?queueMicrotask:typeof W_<"u"?function(t){return W_.resolve(null).then(t).catch(_b)}:Z_;function _b(t){setTimeout(function(){throw t})}function hs(t){return t==="head"}function ev(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),fo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ul(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ul(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[Ii]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Ul(t.ownerDocument.body);a=h}while(a);fo(i)}function tv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Qd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Qd(a),Ia(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function vb(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ii])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Zn(t.nextSibling),t===null)break}return null}function Eb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Zn(t.nextSibling),t===null))return null;return t}function nv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Zn(t.nextSibling),t===null))return null;return t}function Kd(t){return t.data==="$?"||t.data==="$~"}function Yd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Tb(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Xd=null;function iv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Zn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function rv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function sv(t,i,a){switch(i=jc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ul(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ia(t)}var Wn=new Map,av=new Set;function qc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ar=oe.d;oe.d={f:Sb,r:Ab,D:bb,C:wb,L:Rb,m:Cb,X:Db,S:Ib,M:Nb};function Sb(){var t=Ar.f(),i=Mc();return t||i}function Ab(t){var i=qn(t);i!==null&&i.tag===5&&i.type==="form"?Ay(i):Ar.r(t)}var uo=typeof document>"u"?null:document;function ov(t,i,a){var l=uo;if(l&&typeof i=="string"&&i){var h=Tn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),av.has(h)||(av.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),sn(i,"link",t),Lt(i),l.head.appendChild(i)))}}function bb(t){Ar.D(t),ov("dns-prefetch",t,null)}function wb(t,i){Ar.C(t,i),ov("preconnect",t,i)}function Rb(t,i,a){Ar.L(t,i,a);var l=uo;if(l&&t&&i){var h='link[rel="preload"][as="'+Tn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Tn(a.imageSizes)+'"]')):h+='[href="'+Tn(t)+'"]';var d=h;switch(i){case"style":d=co(t);break;case"script":d=ho(t)}Wn.has(d)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Wn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(kl(d))||i==="script"&&l.querySelector(Pl(d))||(i=l.createElement("link"),sn(i,"link",t),Lt(i),l.head.appendChild(i)))}}function Cb(t,i){Ar.m(t,i);var a=uo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Tn(l)+'"][href="'+Tn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ho(t)}if(!Wn.has(d)&&(t=S({rel:"modulepreload",href:t},i),Wn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(d)))return}l=a.createElement("link"),sn(l,"link",t),Lt(l),a.head.appendChild(l)}}}function Ib(t,i,a){Ar.S(t,i,a);var l=uo;if(l&&t){var h=Ni(l).hoistableStyles,d=co(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(kl(d)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Wn.get(d))&&$d(t,a);var N=_=l.createElement("link");Lt(N),sn(N,"link",t),N._p=new Promise(function(j,$){N.onload=j,N.onerror=$}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Hc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function Db(t,i){Ar.X(t,i);var a=uo;if(a&&t){var l=Ni(a).hoistableScripts,h=ho(t),d=l.get(h);d||(d=a.querySelector(Pl(h)),d||(t=S({src:t,async:!0},i),(i=Wn.get(h))&&Jd(t,i),d=a.createElement("script"),Lt(d),sn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Nb(t,i){Ar.M(t,i);var a=uo;if(a&&t){var l=Ni(a).hoistableScripts,h=ho(t),d=l.get(h);d||(d=a.querySelector(Pl(h)),d||(t=S({src:t,async:!0,type:"module"},i),(i=Wn.get(h))&&Jd(t,i),d=a.createElement("script"),Lt(d),sn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function lv(t,i,a,l){var h=(h=xe.current)?qc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=co(a.href),a=Ni(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=co(a.href);var d=Ni(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(kl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Wn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Wn.set(t,a),d||Ob(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ho(a),a=Ni(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function co(t){return'href="'+Tn(t)+'"'}function kl(t){return'link[rel="stylesheet"]['+t+"]"}function uv(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function Ob(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),sn(i,"link",a),Lt(i),t.head.appendChild(i))}function ho(t){return'[src="'+Tn(t)+'"]'}function Pl(t){return"script[async]"+t}function cv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Tn(a.href)+'"]');if(l)return i.instance=l,Lt(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Lt(l),sn(l,"style",h),Hc(l,a.precedence,t),i.instance=l;case"stylesheet":h=co(a.href);var d=t.querySelector(kl(h));if(d)return i.state.loading|=4,i.instance=d,Lt(d),d;l=uv(a),(h=Wn.get(h))&&$d(l,h),d=(t.ownerDocument||t).createElement("link"),Lt(d);var _=d;return _._p=new Promise(function(T,N){_.onload=T,_.onerror=N}),sn(d,"link",l),i.state.loading|=4,Hc(d,a.precedence,t),i.instance=d;case"script":return d=ho(a.src),(h=t.querySelector(Pl(d)))?(i.instance=h,Lt(h),h):(l=a,(h=Wn.get(d))&&(l=S({},a),Jd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Lt(h),sn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Hc(l,a.precedence,t));return i.instance}function Hc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function $d(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Jd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Fc=null;function hv(t,i,a){if(Fc===null){var l=new Map,h=Fc=new Map;h.set(a,l)}else h=Fc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Ii]||d[xt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function fv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Vb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function dv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Mb(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=co(l.href),d=i.querySelector(kl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Gc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Lt(d);return}d=i.ownerDocument||i,l=uv(l),(h=Wn.get(h))&&$d(l,h),d=d.createElement("link"),Lt(d);var _=d;_._p=new Promise(function(T,N){_.onload=T,_.onerror=N}),sn(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Gc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Zd=0;function xb(t,i){return t.stylesheets&&t.count===0&&Kc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Kc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Zd===0&&(Zd=62500*mb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Kc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Zd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Qc=null;function Kc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Qc=new Map,i.forEach(Lb,t),Qc=null,Gc.call(t))}function Lb(t,i){if(!(i.state.loading&4)){var a=Qc.get(t);if(a)var l=a.get(null);else{a=new Map,Qc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Gc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var zl={$$typeof:le,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function Ub(t,i,a,l,h,d,_,T,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.hiddenUpdates=Ri(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function mv(t,i,a,l,h,d,_,T,N,j,$,te){return t=new Ub(t,i,a,_,N,j,$,te,T),i=1,d===!0&&(i|=24),d=Ln(3,null,null,i),t.current=d,d.stateNode=t,i=Of(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Lf(d),t}function gv(t){return t?(t=qa,t):qa}function pv(t,i,a,l,h,d){h=gv(h),l.context===null?l.context=h:l.pendingContext=h,l=es(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ts(t,l,i),a!==null&&(Cn(a,t,i),yl(a,t,i))}function yv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Wd(t,i){yv(t,i),(t=t.alternate)&&yv(t,i)}function _v(t){if(t.tag===13||t.tag===31){var i=$s(t,67108864);i!==null&&Cn(i,t,67108864),Wd(t,67108864)}}function vv(t){if(t.tag===13||t.tag===31){var i=Bn();i=Ps(i);var a=$s(t,i);a!==null&&Cn(a,t,i),Wd(t,i)}}var Yc=!0;function kb(t,i,a,l){var h=G.T;G.T=null;var d=oe.p;try{oe.p=2,em(t,i,a,l)}finally{oe.p=d,G.T=h}}function Pb(t,i,a,l){var h=G.T;G.T=null;var d=oe.p;try{oe.p=8,em(t,i,a,l)}finally{oe.p=d,G.T=h}}function em(t,i,a,l){if(Yc){var h=tm(l);if(h===null)Bd(t,i,l,Xc,a),Tv(t,l);else if(Bb(h,t,i,a,l))l.stopPropagation();else if(Tv(t,l),i&4&&-1<zb.indexOf(t)){for(;h!==null;){var d=qn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=bi(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var N=1<<31-pt(_);T.entanglements[1]|=N,_&=~N}Hi(d),(nt&6)===0&&(Oc=se()+500,Ml(0))}}break;case 31:case 13:T=$s(d,2),T!==null&&Cn(T,d,2),Mc(),Wd(d,2)}if(d=tm(l),d===null&&Bd(t,i,l,Xc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Bd(t,i,l,null,a)}}function tm(t){return t=Hn(t),nm(t)}var Xc=null;function nm(t){if(Xc=null,t=Di(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Xc=t,null}function Ev(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ae()){case _e:return 2;case Ye:return 8;case Xe:case cn:return 32;case ir:return 268435456;default:return 32}default:return 32}}var im=!1,fs=null,ds=null,ms=null,Bl=new Map,jl=new Map,gs=[],zb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tv(t,i){switch(t){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":Bl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(i.pointerId)}}function ql(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=qn(i),i!==null&&_v(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Bb(t,i,a,l,h){switch(i){case"focusin":return fs=ql(fs,t,i,a,l,h),!0;case"dragenter":return ds=ql(ds,t,i,a,l,h),!0;case"mouseover":return ms=ql(ms,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Bl.set(d,ql(Bl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,jl.set(d,ql(jl.get(d)||null,t,i,a,l,h)),!0}return!1}function Sv(t){var i=Di(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,ri(t.priority,function(){vv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,ri(t.priority,function(){vv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $c(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=tm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);tl=l,a.target.dispatchEvent(l),tl=null}else return i=qn(a),i!==null&&_v(i),t.blockedOn=a,!1;i.shift()}return!0}function Av(t,i,a){$c(t)&&a.delete(i)}function jb(){im=!1,fs!==null&&$c(fs)&&(fs=null),ds!==null&&$c(ds)&&(ds=null),ms!==null&&$c(ms)&&(ms=null),Bl.forEach(Av),jl.forEach(Av)}function Jc(t,i){t.blockedOn===i&&(t.blockedOn=null,im||(im=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,jb)))}var Zc=null;function bv(t){Zc!==t&&(Zc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Zc===t&&(Zc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(nm(l||a)===null)continue;break}var d=qn(a);d!==null&&(t.splice(i,3),i-=3,td(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function fo(t){function i(N){return Jc(N,t)}fs!==null&&Jc(fs,t),ds!==null&&Jc(ds,t),ms!==null&&Jc(ms,t),Bl.forEach(i),jl.forEach(i);for(var a=0;a<gs.length;a++){var l=gs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<gs.length&&(a=gs[0],a.blockedOn===null);)Sv(a),a.blockedOn===null&&gs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Yt]||null;if(typeof d=="function")_||bv(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Yt]||null)T=_.formAction;else if(nm(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),bv(a)}}}function wv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function rm(t){this._internalRoot=t}Wc.prototype.render=rm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Bn();pv(a,l,t,i,null,null)},Wc.prototype.unmount=rm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;pv(t.current,2,null,t,null,null),Mc(),i[Ci]=null}};function Wc(t){this._internalRoot=t}Wc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Mu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<gs.length&&i!==0&&i<gs[a].priority;a++);gs.splice(a,0,t),a===0&&Sv(t)}};var Rv=e.version;if(Rv!=="19.2.0")throw Error(s(527,Rv,"19.2.0"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var qb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eh.isDisabled&&eh.supportsFiber)try{pn=eh.inject(qb),Ct=eh}catch{}}return Gl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=My,d=xy,_=Ly;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=mv(t,1,!1,null,null,a,l,null,h,d,_,wv),t[Ci]=i.current,zd(t),new rm(i)},Gl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=My,_=xy,T=Ly,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=mv(t,1,!0,i,a??null,l,h,N,d,_,T,wv),i.context=gv(null),a=i.current,l=Bn(),l=Ps(l),h=es(l),h.callback=null,ts(a,h,l),a=l,i.current.lanes=a,Us(i,a),Hi(i),t[Ci]=i.current,zd(t),new Wc(i)},Gl.version="19.2.0",Gl}var jv;function Tw(){if(jv)return cm.exports;jv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),cm.exports=Ew(),cm.exports}var Sw=Tw();const Aw=CT(Sw);function bw(){const r=Lr(),e=Uo(),n=r.state;return n?he.jsxs("div",{className:"flex flex-col justify-center items-center min-h-screen text-center p-6",children:[he.jsxs("h1",{className:"text-4xl font-bold mb-6",children:["Tu sitio ",he.jsxs("span",{className:"text-blue-600",children:['"',n.siteName,'"']})," estÃ¡ en construcciÃ³n ðŸ› ï¸"]}),he.jsxs("p",{className:"text-lg mb-2",children:["Estilo seleccionado: ",he.jsx("strong",{children:n.globalStyle})]}),he.jsx("p",{className:"text-gray-600 mb-6",children:"Pronto vas a poder personalizar colores, tipografÃ­a y secciones."}),he.jsx("button",{onClick:()=>e("/"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition",children:"Volver al inicio"})]}):he.jsxs("div",{className:"flex flex-col justify-center items-center min-h-screen text-center p-6",children:[he.jsx("p",{className:"text-xl mb-4",children:"No hay datos de sitio disponibles ðŸ˜…"}),he.jsx("button",{onClick:()=>e("/crear-web"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition",children:"Crear un sitio"})]})}function ww(){const[r,e]=W.useState(""),[n,s]=W.useState("TerrÃ­cola"),[o,u]=W.useState(!1),f=W.useRef(null),m=Uo(),y=p=>{if(p.preventDefault(),!r.trim())return;const E=r.trim();s(E),u(!0),m("/crear-web",{state:{name:E}})};return he.jsxs("section",{className:"min-h-screen flex flex-col justify-center items-center text-center px-6",children:[he.jsxs("h1",{className:"text-4xl sm:text-5xl font-semibold animate-fade animate-typewriter",children:["Bienvenide"," ",he.jsx("span",{className:"font-bold",style:{color:"var(--primary)"},children:n})]}),he.jsxs("form",{onSubmit:y,className:"w-full max-w-md mt-10 animate-fade",children:[he.jsx("label",{className:"block text-lg mb-3",children:"Si querÃ©s que te salude por tu nombre, decime cÃ³mo te llaman:"}),he.jsxs("div",{className:"flex gap-2",children:[he.jsx("input",{autoFocus:!0,type:"text",placeholder:"EscribÃ­ tu nombre",onChange:p=>{const E=p.target.value,S=E.charAt(0).toUpperCase()+E.slice(1).toLowerCase();e(S)},className:"flex-1 border border-gray-300 px-3 py-2 rounded-lg focus:outline-none focus:ring-2",style:{"--tw-ring-color":"var(--primary)"}}),he.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg text-white font-medium transition",style:{backgroundColor:"var(--primary)"},children:"OK"})]})]}),o&&he.jsxs(he.Fragment,{children:[he.jsxs("section",{ref:f,className:"mt-24 opacity-0 animate-fade text-lg",children:[he.jsx("p",{children:"Â¿Viste quÃ© rÃ¡pido cambiaste una pÃ¡gina web?"}),he.jsx("p",{className:"mt-2",children:"AsÃ­ de fÃ¡cil es crear la tuya."}),he.jsx("p",{className:"mt-2",children:"Si querÃ©s seguir jugando, scrolleÃ¡ hacia abajo."}),he.jsx("div",{className:"text-4xl mt-6 animate-bounce-soft",children:"â†“"})]}),he.jsx("button",{onClick:()=>{f.current?.scrollIntoView({behavior:"smooth"})},className:"mt-6 px-4 py-2 rounded-lg text-white font-medium transition",style:{backgroundColor:"var(--primary)"},children:"Llevarme ahÃ­ â†“"})]})]})}function Rw(){return he.jsx(ww,{})}var Eu=r=>r.type==="checkbox",ca=r=>r instanceof Date,In=r=>r==null;const HT=r=>typeof r=="object";var Ft=r=>!In(r)&&!Array.isArray(r)&&HT(r)&&!ca(r),Cw=r=>Ft(r)&&r.target?Eu(r.target)?r.target.checked:r.target.value:r,Iw=r=>r.substring(0,r.search(/\.\d+(\.|$)/))||r,Dw=(r,e)=>r.has(Iw(e)),Nw=r=>{const e=r.constructor&&r.constructor.prototype;return Ft(e)&&e.hasOwnProperty("isPrototypeOf")},cg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Jt(r){let e;const n=Array.isArray(r),s=typeof FileList<"u"?r instanceof FileList:!1;if(r instanceof Date)e=new Date(r);else if(!(cg&&(r instanceof Blob||s))&&(n||Ft(r)))if(e=n?[]:Object.create(Object.getPrototypeOf(r)),!n&&!Nw(r))e=r;else for(const o in r)r.hasOwnProperty(o)&&(e[o]=Jt(r[o]));else return r;return e}var Gh=r=>/^\w*$/.test(r),Ot=r=>r===void 0,hg=r=>Array.isArray(r)?r.filter(Boolean):[],fg=r=>hg(r.replace(/["|']|\]/g,"").split(/\.|\[/)),ye=(r,e,n)=>{if(!e||!Ft(r))return n;const s=(Gh(e)?[e]:fg(e)).reduce((o,u)=>In(o)?o:o[u],r);return Ot(s)||s===r?Ot(r[e])?n:r[e]:s},Fi=r=>typeof r=="boolean",vt=(r,e,n)=>{let s=-1;const o=Gh(e)?[e]:fg(e),u=o.length,f=u-1;for(;++s<u;){const m=o[s];let y=n;if(s!==f){const p=r[m];y=Ft(p)||Array.isArray(p)?p:isNaN(+o[s+1])?{}:[]}if(m==="__proto__"||m==="constructor"||m==="prototype")return;r[m]=y,r=r[m]}};const qv={BLUR:"blur",FOCUS_OUT:"focusout"},mi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},br={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ow=an.createContext(null);Ow.displayName="HookFormContext";var Vw=(r,e,n,s=!0)=>{const o={defaultValues:e._defaultValues};for(const u in r)Object.defineProperty(o,u,{get:()=>{const f=u;return e._proxyFormState[f]!==mi.all&&(e._proxyFormState[f]=!s||mi.all),r[f]}});return o};const Mw=typeof window<"u"?an.useLayoutEffect:an.useEffect;var jn=r=>typeof r=="string",xw=(r,e,n,s,o)=>jn(r)?(s&&e.watch.add(r),ye(n,r,o)):Array.isArray(r)?r.map(u=>(s&&e.watch.add(u),ye(n,u))):(s&&(e.watchAll=!0),n),Dm=r=>In(r)||!HT(r);function _s(r,e,n=new WeakSet){if(Dm(r)||Dm(e))return r===e;if(ca(r)&&ca(e))return r.getTime()===e.getTime();const s=Object.keys(r),o=Object.keys(e);if(s.length!==o.length)return!1;if(n.has(r)||n.has(e))return!0;n.add(r),n.add(e);for(const u of s){const f=r[u];if(!o.includes(u))return!1;if(u!=="ref"){const m=e[u];if(ca(f)&&ca(m)||Ft(f)&&Ft(m)||Array.isArray(f)&&Array.isArray(m)?!_s(f,m,n):f!==m)return!1}}return!0}var Lw=(r,e,n,s,o)=>e?{...n[r],types:{...n[r]&&n[r].types?n[r].types:{},[s]:o||!0}}:{},Jl=r=>Array.isArray(r)?r:[r],Hv=()=>{let r=[];return{get observers(){return r},next:o=>{for(const u of r)u.next&&u.next(o)},subscribe:o=>(r.push(o),{unsubscribe:()=>{r=r.filter(u=>u!==o)}}),unsubscribe:()=>{r=[]}}};function FT(r,e){const n={};for(const s in r)if(r.hasOwnProperty(s)){const o=r[s],u=e[s];if(o&&Ft(o)&&u){const f=FT(o,u);Ft(f)&&(n[s]=f)}else r[s]&&(n[s]=u)}return n}var vn=r=>Ft(r)&&!Object.keys(r).length,dg=r=>r.type==="file",gi=r=>typeof r=="function",Th=r=>{if(!cg)return!1;const e=r?r.ownerDocument:0;return r instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},GT=r=>r.type==="select-multiple",mg=r=>r.type==="radio",Uw=r=>mg(r)||Eu(r),dm=r=>Th(r)&&r.isConnected;function kw(r,e){const n=e.slice(0,-1).length;let s=0;for(;s<n;)r=Ot(r)?s++:r[e[s++]];return r}function Pw(r){for(const e in r)if(r.hasOwnProperty(e)&&!Ot(r[e]))return!1;return!0}function jt(r,e){const n=Array.isArray(e)?e:Gh(e)?[e]:fg(e),s=n.length===1?r:kw(r,n),o=n.length-1,u=n[o];return s&&delete s[u],o!==0&&(Ft(s)&&vn(s)||Array.isArray(s)&&Pw(s))&&jt(r,n.slice(0,-1)),r}var zw=r=>{for(const e in r)if(gi(r[e]))return!0;return!1};function QT(r){return Array.isArray(r)||Ft(r)&&!zw(r)}function Nm(r,e={}){for(const n in r)QT(r[n])?(e[n]=Array.isArray(r[n])?[]:{},Nm(r[n],e[n])):Ot(r[n])||(e[n]=!0);return e}function po(r,e,n){n||(n=Nm(e));for(const s in r)QT(r[s])?Ot(e)||Dm(n[s])?n[s]=Nm(r[s],Array.isArray(r[s])?[]:{}):po(r[s],In(e)?{}:e[s],n[s]):n[s]=!_s(r[s],e[s]);return n}const Fv={value:!1,isValid:!1},Gv={value:!0,isValid:!0};var KT=r=>{if(Array.isArray(r)){if(r.length>1){const e=r.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return r[0].checked&&!r[0].disabled?r[0].attributes&&!Ot(r[0].attributes.value)?Ot(r[0].value)||r[0].value===""?Gv:{value:r[0].value,isValid:!0}:Gv:Fv}return Fv},YT=(r,{valueAsNumber:e,valueAsDate:n,setValueAs:s})=>Ot(r)?r:e?r===""?NaN:r&&+r:n&&jn(r)?new Date(r):s?s(r):r;const Qv={isValid:!1,value:null};var XT=r=>Array.isArray(r)?r.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,Qv):Qv;function Kv(r){const e=r.ref;return dg(e)?e.files:mg(e)?XT(r.refs).value:GT(e)?[...e.selectedOptions].map(({value:n})=>n):Eu(e)?KT(r.refs).value:YT(Ot(e.value)?r.ref.value:e.value,r)}var Bw=(r,e,n,s)=>{const o={};for(const u of r){const f=ye(e,u);f&&vt(o,u,f._f)}return{criteriaMode:n,names:[...r],fields:o,shouldUseNativeValidation:s}},Sh=r=>r instanceof RegExp,Ql=r=>Ot(r)?r:Sh(r)?r.source:Ft(r)?Sh(r.value)?r.value.source:r.value:r,Yv=r=>({isOnSubmit:!r||r===mi.onSubmit,isOnBlur:r===mi.onBlur,isOnChange:r===mi.onChange,isOnAll:r===mi.all,isOnTouch:r===mi.onTouched});const Xv="AsyncFunction";var jw=r=>!!r&&!!r.validate&&!!(gi(r.validate)&&r.validate.constructor.name===Xv||Ft(r.validate)&&Object.values(r.validate).find(e=>e.constructor.name===Xv)),qw=r=>r.mount&&(r.required||r.min||r.max||r.maxLength||r.minLength||r.pattern||r.validate),$v=(r,e,n)=>!n&&(e.watchAll||e.watch.has(r)||[...e.watch].some(s=>r.startsWith(s)&&/^\.\w+/.test(r.slice(s.length))));const Zl=(r,e,n,s)=>{for(const o of n||Object.keys(r)){const u=ye(r,o);if(u){const{_f:f,...m}=u;if(f){if(f.refs&&f.refs[0]&&e(f.refs[0],o)&&!s)return!0;if(f.ref&&e(f.ref,f.name)&&!s)return!0;if(Zl(m,e))break}else if(Ft(m)&&Zl(m,e))break}}};function Jv(r,e,n){const s=ye(r,n);if(s||Gh(n))return{error:s,name:n};const o=n.split(".");for(;o.length;){const u=o.join("."),f=ye(e,u),m=ye(r,u);if(f&&!Array.isArray(f)&&n!==u)return{name:n};if(m&&m.type)return{name:u,error:m};if(m&&m.root&&m.root.type)return{name:`${u}.root`,error:m.root};o.pop()}return{name:n}}var Hw=(r,e,n,s)=>{n(r);const{name:o,...u}=r;return vn(u)||Object.keys(u).length>=Object.keys(e).length||Object.keys(u).find(f=>e[f]===(!s||mi.all))},Fw=(r,e,n)=>!r||!e||r===e||Jl(r).some(s=>s&&(n?s===e:s.startsWith(e)||e.startsWith(s))),Gw=(r,e,n,s,o)=>o.isOnAll?!1:!n&&o.isOnTouch?!(e||r):(n?s.isOnBlur:o.isOnBlur)?!r:(n?s.isOnChange:o.isOnChange)?r:!0,Qw=(r,e)=>!hg(ye(r,e)).length&&jt(r,e),Kw=(r,e,n)=>{const s=Jl(ye(r,n));return vt(s,"root",e[n]),vt(r,n,s),r};function Zv(r,e,n="validate"){if(jn(r)||Array.isArray(r)&&r.every(jn)||Fi(r)&&!r)return{type:n,message:jn(r)?r:"",ref:e}}var mo=r=>Ft(r)&&!Sh(r)?r:{value:r,message:""},Wv=async(r,e,n,s,o,u)=>{const{ref:f,refs:m,required:y,maxLength:p,minLength:E,min:S,max:w,pattern:k,validate:K,name:Y,valueAsNumber:Q,mount:re}=r._f,J=ye(n,Y);if(!re||e.has(Y))return{};const le=m?m[0]:f,be=V=>{o&&le.reportValidity&&(le.setCustomValidity(Fi(V)?"":V||""),le.reportValidity())},Ee={},Me=mg(f),I=Eu(f),R=Me||I,C=(Q||dg(f))&&Ot(f.value)&&Ot(J)||Th(f)&&f.value===""||J===""||Array.isArray(J)&&!J.length,L=Lw.bind(null,Y,s,Ee),O=(V,b,De,Ke=br.maxLength,G=br.minLength)=>{const oe=V?b:De;Ee[Y]={type:V?Ke:G,message:oe,ref:f,...L(V?Ke:G,oe)}};if(u?!Array.isArray(J)||!J.length:y&&(!R&&(C||In(J))||Fi(J)&&!J||I&&!KT(m).isValid||Me&&!XT(m).isValid)){const{value:V,message:b}=jn(y)?{value:!!y,message:y}:mo(y);if(V&&(Ee[Y]={type:br.required,message:b,ref:le,...L(br.required,b)},!s))return be(b),Ee}if(!C&&(!In(S)||!In(w))){let V,b;const De=mo(w),Ke=mo(S);if(!In(J)&&!isNaN(J)){const G=f.valueAsNumber||J&&+J;In(De.value)||(V=G>De.value),In(Ke.value)||(b=G<Ke.value)}else{const G=f.valueAsDate||new Date(J),oe=Je=>new Date(new Date().toDateString()+" "+Je),ve=f.type=="time",Pe=f.type=="week";jn(De.value)&&J&&(V=ve?oe(J)>oe(De.value):Pe?J>De.value:G>new Date(De.value)),jn(Ke.value)&&J&&(b=ve?oe(J)<oe(Ke.value):Pe?J<Ke.value:G<new Date(Ke.value))}if((V||b)&&(O(!!V,De.message,Ke.message,br.max,br.min),!s))return be(Ee[Y].message),Ee}if((p||E)&&!C&&(jn(J)||u&&Array.isArray(J))){const V=mo(p),b=mo(E),De=!In(V.value)&&J.length>+V.value,Ke=!In(b.value)&&J.length<+b.value;if((De||Ke)&&(O(De,V.message,b.message),!s))return be(Ee[Y].message),Ee}if(k&&!C&&jn(J)){const{value:V,message:b}=mo(k);if(Sh(V)&&!J.match(V)&&(Ee[Y]={type:br.pattern,message:b,ref:f,...L(br.pattern,b)},!s))return be(b),Ee}if(K){if(gi(K)){const V=await K(J,n),b=Zv(V,le);if(b&&(Ee[Y]={...b,...L(br.validate,b.message)},!s))return be(b.message),Ee}else if(Ft(K)){let V={};for(const b in K){if(!vn(V)&&!s)break;const De=Zv(await K[b](J,n),le,b);De&&(V={...De,...L(b,De.message)},be(De.message),s&&(Ee[Y]=V))}if(!vn(V)&&(Ee[Y]={ref:le,...V},!s))return Ee}}return be(!0),Ee};const Yw={mode:mi.onSubmit,reValidateMode:mi.onChange,shouldFocusError:!0};function Xw(r={}){let e={...Yw,...r},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:gi(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},o=Ft(e.defaultValues)||Ft(e.values)?Jt(e.defaultValues||e.values)||{}:{},u=e.shouldUnregister?{}:Jt(o),f={action:!1,mount:!1,watch:!1},m={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},y,p=0;const E={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let S={...E};const w={array:Hv(),state:Hv()},k=e.criteriaMode===mi.all,K=D=>z=>{clearTimeout(p),p=setTimeout(D,z)},Y=async D=>{if(!e.disabled&&(E.isValid||S.isValid||D)){const z=e.resolver?vn((await I()).errors):await C(s,!0);z!==n.isValid&&w.state.next({isValid:z})}},Q=(D,z)=>{!e.disabled&&(E.isValidating||E.validatingFields||S.isValidating||S.validatingFields)&&((D||Array.from(m.mount)).forEach(X=>{X&&(z?vt(n.validatingFields,X,z):jt(n.validatingFields,X))}),w.state.next({validatingFields:n.validatingFields,isValidating:!vn(n.validatingFields)}))},re=(D,z=[],X,fe,se=!0,ae=!0)=>{if(fe&&X&&!e.disabled){if(f.action=!0,ae&&Array.isArray(ye(s,D))){const _e=X(ye(s,D),fe.argA,fe.argB);se&&vt(s,D,_e)}if(ae&&Array.isArray(ye(n.errors,D))){const _e=X(ye(n.errors,D),fe.argA,fe.argB);se&&vt(n.errors,D,_e),Qw(n.errors,D)}if((E.touchedFields||S.touchedFields)&&ae&&Array.isArray(ye(n.touchedFields,D))){const _e=X(ye(n.touchedFields,D),fe.argA,fe.argB);se&&vt(n.touchedFields,D,_e)}(E.dirtyFields||S.dirtyFields)&&(n.dirtyFields=po(o,u)),w.state.next({name:D,isDirty:O(D,z),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else vt(u,D,z)},J=(D,z)=>{vt(n.errors,D,z),w.state.next({errors:n.errors})},le=D=>{n.errors=D,w.state.next({errors:n.errors,isValid:!1})},be=(D,z,X,fe)=>{const se=ye(s,D);if(se){const ae=ye(u,D,Ot(X)?ye(o,D):X);Ot(ae)||fe&&fe.defaultChecked||z?vt(u,D,z?ae:Kv(se._f)):De(D,ae),f.mount&&Y()}},Ee=(D,z,X,fe,se)=>{let ae=!1,_e=!1;const Ye={name:D};if(!e.disabled){if(!X||fe){(E.isDirty||S.isDirty)&&(_e=n.isDirty,n.isDirty=Ye.isDirty=O(),ae=_e!==Ye.isDirty);const Xe=_s(ye(o,D),z);_e=!!ye(n.dirtyFields,D),Xe?jt(n.dirtyFields,D):vt(n.dirtyFields,D,!0),Ye.dirtyFields=n.dirtyFields,ae=ae||(E.dirtyFields||S.dirtyFields)&&_e!==!Xe}if(X){const Xe=ye(n.touchedFields,D);Xe||(vt(n.touchedFields,D,X),Ye.touchedFields=n.touchedFields,ae=ae||(E.touchedFields||S.touchedFields)&&Xe!==X)}ae&&se&&w.state.next(Ye)}return ae?Ye:{}},Me=(D,z,X,fe)=>{const se=ye(n.errors,D),ae=(E.isValid||S.isValid)&&Fi(z)&&n.isValid!==z;if(e.delayError&&X?(y=K(()=>J(D,X)),y(e.delayError)):(clearTimeout(p),y=null,X?vt(n.errors,D,X):jt(n.errors,D)),(X?!_s(se,X):se)||!vn(fe)||ae){const _e={...fe,...ae&&Fi(z)?{isValid:z}:{},errors:n.errors,name:D};n={...n,..._e},w.state.next(_e)}},I=async D=>{Q(D,!0);const z=await e.resolver(u,e.context,Bw(D||m.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return Q(D),z},R=async D=>{const{errors:z}=await I(D);if(D)for(const X of D){const fe=ye(z,X);fe?vt(n.errors,X,fe):jt(n.errors,X)}else n.errors=z;return z},C=async(D,z,X={valid:!0})=>{for(const fe in D){const se=D[fe];if(se){const{_f:ae,..._e}=se;if(ae){const Ye=m.array.has(ae.name),Xe=se._f&&jw(se._f);Xe&&E.validatingFields&&Q([ae.name],!0);const cn=await Wv(se,m.disabled,u,k,e.shouldUseNativeValidation&&!z,Ye);if(Xe&&E.validatingFields&&Q([ae.name]),cn[ae.name]&&(X.valid=!1,z))break;!z&&(ye(cn,ae.name)?Ye?Kw(n.errors,cn,ae.name):vt(n.errors,ae.name,cn[ae.name]):jt(n.errors,ae.name))}!vn(_e)&&await C(_e,z,X)}}return X.valid},L=()=>{for(const D of m.unMount){const z=ye(s,D);z&&(z._f.refs?z._f.refs.every(X=>!dm(X)):!dm(z._f.ref))&&ze(D)}m.unMount=new Set},O=(D,z)=>!e.disabled&&(D&&z&&vt(u,D,z),!_s(Je(),o)),V=(D,z,X)=>xw(D,m,{...f.mount?u:Ot(z)?o:jn(D)?{[D]:z}:z},X,z),b=D=>hg(ye(f.mount?u:o,D,e.shouldUnregister?ye(o,D,[]):[])),De=(D,z,X={})=>{const fe=ye(s,D);let se=z;if(fe){const ae=fe._f;ae&&(!ae.disabled&&vt(u,D,YT(z,ae)),se=Th(ae.ref)&&In(z)?"":z,GT(ae.ref)?[...ae.ref.options].forEach(_e=>_e.selected=se.includes(_e.value)):ae.refs?Eu(ae.ref)?ae.refs.forEach(_e=>{(!_e.defaultChecked||!_e.disabled)&&(Array.isArray(se)?_e.checked=!!se.find(Ye=>Ye===_e.value):_e.checked=se===_e.value||!!se)}):ae.refs.forEach(_e=>_e.checked=_e.value===se):dg(ae.ref)?ae.ref.value="":(ae.ref.value=se,ae.ref.type||w.state.next({name:D,values:Jt(u)})))}(X.shouldDirty||X.shouldTouch)&&Ee(D,se,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&Pe(D)},Ke=(D,z,X)=>{for(const fe in z){if(!z.hasOwnProperty(fe))return;const se=z[fe],ae=D+"."+fe,_e=ye(s,ae);(m.array.has(D)||Ft(se)||_e&&!_e._f)&&!ca(se)?Ke(ae,se,X):De(ae,se,X)}},G=(D,z,X={})=>{const fe=ye(s,D),se=m.array.has(D),ae=Jt(z);vt(u,D,ae),se?(w.array.next({name:D,values:Jt(u)}),(E.isDirty||E.dirtyFields||S.isDirty||S.dirtyFields)&&X.shouldDirty&&w.state.next({name:D,dirtyFields:po(o,u),isDirty:O(D,ae)})):fe&&!fe._f&&!In(ae)?Ke(D,ae,X):De(D,ae,X),$v(D,m)&&w.state.next({...n,name:D}),w.state.next({name:f.mount?D:void 0,values:Jt(u)})},oe=async D=>{f.mount=!0;const z=D.target;let X=z.name,fe=!0;const se=ye(s,X),ae=Xe=>{fe=Number.isNaN(Xe)||ca(Xe)&&isNaN(Xe.getTime())||_s(Xe,ye(u,X,Xe))},_e=Yv(e.mode),Ye=Yv(e.reValidateMode);if(se){let Xe,cn;const ir=z.type?Kv(se._f):Cw(D),On=D.type===qv.BLUR||D.type===qv.FOCUS_OUT,wa=!qw(se._f)&&!e.resolver&&!ye(n.errors,X)&&!se._f.deps||Gw(On,ye(n.touchedFields,X),n.isSubmitted,Ye,_e),pn=$v(X,m,On);vt(u,X,ir),On?(!z||!z.readOnly)&&(se._f.onBlur&&se._f.onBlur(D),y&&y(0)):se._f.onChange&&se._f.onChange(D);const Ct=Ee(X,ir,On),En=!vn(Ct)||pn;if(!On&&w.state.next({name:X,type:D.type,values:Jt(u)}),wa)return(E.isValid||S.isValid)&&(e.mode==="onBlur"?On&&Y():On||Y()),En&&w.state.next({name:X,...pn?{}:Ct});if(!On&&pn&&w.state.next({...n}),e.resolver){const{errors:pt}=await I([X]);if(ae(ir),fe){const Ra=Jv(n.errors,s,X),rr=Jv(pt,s,Ra.name||X);Xe=rr.error,X=rr.name,cn=vn(pt)}}else Q([X],!0),Xe=(await Wv(se,m.disabled,u,k,e.shouldUseNativeValidation))[X],Q([X]),ae(ir),fe&&(Xe?cn=!1:(E.isValid||S.isValid)&&(cn=await C(s,!0)));fe&&(se._f.deps&&(!Array.isArray(se._f.deps)||se._f.deps.length>0)&&Pe(se._f.deps),Me(X,cn,Xe,Ct))}},ve=(D,z)=>{if(ye(n.errors,z)&&D.focus)return D.focus(),1},Pe=async(D,z={})=>{let X,fe;const se=Jl(D);if(e.resolver){const ae=await R(Ot(D)?D:se);X=vn(ae),fe=D?!se.some(_e=>ye(ae,_e)):X}else D?(fe=(await Promise.all(se.map(async ae=>{const _e=ye(s,ae);return await C(_e&&_e._f?{[ae]:_e}:_e)}))).every(Boolean),!(!fe&&!n.isValid)&&Y()):fe=X=await C(s);return w.state.next({...!jn(D)||(E.isValid||S.isValid)&&X!==n.isValid?{}:{name:D},...e.resolver||!D?{isValid:X}:{},errors:n.errors}),z.shouldFocus&&!fe&&Zl(s,ve,D?se:m.mount),fe},Je=(D,z)=>{let X={...f.mount?u:o};return z&&(X=FT(z.dirtyFields?n.dirtyFields:n.touchedFields,X)),Ot(D)?X:jn(D)?ye(X,D):D.map(fe=>ye(X,fe))},x=(D,z)=>({invalid:!!ye((z||n).errors,D),isDirty:!!ye((z||n).dirtyFields,D),error:ye((z||n).errors,D),isValidating:!!ye(n.validatingFields,D),isTouched:!!ye((z||n).touchedFields,D)}),ee=D=>{D&&Jl(D).forEach(z=>jt(n.errors,z)),w.state.next({errors:D?n.errors:{}})},ce=(D,z,X)=>{const fe=(ye(s,D,{_f:{}})._f||{}).ref,se=ye(n.errors,D)||{},{ref:ae,message:_e,type:Ye,...Xe}=se;vt(n.errors,D,{...Xe,...z,ref:fe}),w.state.next({name:D,errors:n.errors,isValid:!1}),X&&X.shouldFocus&&fe&&fe.focus&&fe.focus()},de=(D,z)=>gi(D)?w.state.subscribe({next:X=>"values"in X&&D(V(void 0,z),X)}):V(D,z,!0),Re=D=>w.state.subscribe({next:z=>{Fw(D.name,z.name,D.exact)&&Hw(z,D.formState||E,xs,D.reRenderRoot)&&D.callback({values:{...u},...n,...z,defaultValues:o})}}).unsubscribe,xe=D=>(f.mount=!0,S={...S,...D.formState},Re({...D,formState:S})),ze=(D,z={})=>{for(const X of D?Jl(D):m.mount)m.mount.delete(X),m.array.delete(X),z.keepValue||(jt(s,X),jt(u,X)),!z.keepError&&jt(n.errors,X),!z.keepDirty&&jt(n.dirtyFields,X),!z.keepTouched&&jt(n.touchedFields,X),!z.keepIsValidating&&jt(n.validatingFields,X),!e.shouldUnregister&&!z.keepDefaultValue&&jt(o,X);w.state.next({values:Jt(u)}),w.state.next({...n,...z.keepDirty?{isDirty:O()}:{}}),!z.keepIsValid&&Y()},bt=({disabled:D,name:z})=>{(Fi(D)&&f.mount||D||m.disabled.has(z))&&(D?m.disabled.add(z):m.disabled.delete(z))},ot=(D,z={})=>{let X=ye(s,D);const fe=Fi(z.disabled)||Fi(e.disabled);return vt(s,D,{...X||{},_f:{...X&&X._f?X._f:{ref:{name:D}},name:D,mount:!0,...z}}),m.mount.add(D),X?bt({disabled:Fi(z.disabled)?z.disabled:e.disabled,name:D}):be(D,!0,z.value),{...fe?{disabled:z.disabled||e.disabled}:{},...e.progressive?{required:!!z.required,min:Ql(z.min),max:Ql(z.max),minLength:Ql(z.minLength),maxLength:Ql(z.maxLength),pattern:Ql(z.pattern)}:{},name:D,onChange:oe,onBlur:oe,ref:se=>{if(se){ot(D,z),X=ye(s,D);const ae=Ot(se.value)&&se.querySelectorAll&&se.querySelectorAll("input,select,textarea")[0]||se,_e=Uw(ae),Ye=X._f.refs||[];if(_e?Ye.find(Xe=>Xe===ae):ae===X._f.ref)return;vt(s,D,{_f:{...X._f,..._e?{refs:[...Ye.filter(dm),ae,...Array.isArray(ye(o,D))?[{}]:[]],ref:{type:ae.type,name:D}}:{ref:ae}}}),be(D,!1,void 0,ae)}else X=ye(s,D,{}),X._f&&(X._f.mount=!1),(e.shouldUnregister||z.shouldUnregister)&&!(Dw(m.array,D)&&f.action)&&m.unMount.add(D)}}},ni=()=>e.shouldFocusError&&Zl(s,ve,m.mount),kr=D=>{Fi(D)&&(w.state.next({disabled:D}),Zl(s,(z,X)=>{const fe=ye(s,X);fe&&(z.disabled=fe._f.disabled||D,Array.isArray(fe._f.refs)&&fe._f.refs.forEach(se=>{se.disabled=fe._f.disabled||D}))},0,!1))},tr=(D,z)=>async X=>{let fe;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let se=Jt(u);if(w.state.next({isSubmitting:!0}),e.resolver){const{errors:ae,values:_e}=await I();n.errors=ae,se=Jt(_e)}else await C(s);if(m.disabled.size)for(const ae of m.disabled)jt(se,ae);if(jt(n.errors,"root"),vn(n.errors)){w.state.next({errors:{}});try{await D(se,X)}catch(ae){fe=ae}}else z&&await z({...n.errors},X),ni(),setTimeout(ni);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:vn(n.errors)&&!fe,submitCount:n.submitCount+1,errors:n.errors}),fe)throw fe},Pr=(D,z={})=>{ye(s,D)&&(Ot(z.defaultValue)?G(D,Jt(ye(o,D))):(G(D,z.defaultValue),vt(o,D,Jt(z.defaultValue))),z.keepTouched||jt(n.touchedFields,D),z.keepDirty||(jt(n.dirtyFields,D),n.isDirty=z.defaultValue?O(D,Jt(ye(o,D))):O()),z.keepError||(jt(n.errors,D),E.isValid&&Y()),w.state.next({...n}))},Nn=(D,z={})=>{const X=D?Jt(D):o,fe=Jt(X),se=vn(D),ae=se?o:fe;if(z.keepDefaultValues||(o=X),!z.keepValues){if(z.keepDirtyValues){const _e=new Set([...m.mount,...Object.keys(po(o,u))]);for(const Ye of Array.from(_e))ye(n.dirtyFields,Ye)?vt(ae,Ye,ye(u,Ye)):G(Ye,ye(ae,Ye))}else{if(cg&&Ot(D))for(const _e of m.mount){const Ye=ye(s,_e);if(Ye&&Ye._f){const Xe=Array.isArray(Ye._f.refs)?Ye._f.refs[0]:Ye._f.ref;if(Th(Xe)){const cn=Xe.closest("form");if(cn){cn.reset();break}}}}if(z.keepFieldsRef)for(const _e of m.mount)G(_e,ye(ae,_e));else s={}}u=e.shouldUnregister?z.keepDefaultValues?Jt(o):{}:Jt(ae),w.array.next({values:{...ae}}),w.state.next({values:{...ae}})}m={mount:z.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!E.isValid||!!z.keepIsValid||!!z.keepDirtyValues||!e.shouldUnregister&&!vn(ae),f.watch=!!e.shouldUnregister,w.state.next({submitCount:z.keepSubmitCount?n.submitCount:0,isDirty:se?!1:z.keepDirty?n.isDirty:!!(z.keepDefaultValues&&!_s(D,o)),isSubmitted:z.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:se?{}:z.keepDirtyValues?z.keepDefaultValues&&u?po(o,u):n.dirtyFields:z.keepDefaultValues&&D?po(o,D):z.keepDirty?n.dirtyFields:{},touchedFields:z.keepTouched?n.touchedFields:{},errors:z.keepErrors?n.errors:{},isSubmitSuccessful:z.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},zr=(D,z)=>Nn(gi(D)?D(u):D,z),nr=(D,z={})=>{const X=ye(s,D),fe=X&&X._f;if(fe){const se=fe.refs?fe.refs[0]:fe.ref;se.focus&&(se.focus(),z.shouldSelect&&gi(se.select)&&se.select())}},xs=D=>{n={...n,...D}},Tt={control:{register:ot,unregister:ze,getFieldState:x,handleSubmit:tr,setError:ce,_subscribe:Re,_runSchema:I,_focusError:ni,_getWatch:V,_getDirty:O,_setValid:Y,_setFieldArray:re,_setDisabledField:bt,_setErrors:le,_getFieldArray:b,_reset:Nn,_resetDefaultValues:()=>gi(e.defaultValues)&&e.defaultValues().then(D=>{zr(D,e.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:kr,_subjects:w,_proxyFormState:E,get _fields(){return s},get _formValues(){return u},get _state(){return f},set _state(D){f=D},get _defaultValues(){return o},get _names(){return m},set _names(D){m=D},get _formState(){return n},get _options(){return e},set _options(D){e={...e,...D}}},subscribe:xe,trigger:Pe,register:ot,handleSubmit:tr,watch:de,setValue:G,getValues:Je,reset:zr,resetField:Pr,clearErrors:ee,unregister:ze,setError:ce,setFocus:nr,getFieldState:x};return{...Tt,formControl:Tt}}function $w(r={}){const e=an.useRef(void 0),n=an.useRef(void 0),[s,o]=an.useState({isDirty:!1,isValidating:!1,isLoading:gi(r.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1,isReady:!1,defaultValues:gi(r.defaultValues)?void 0:r.defaultValues});if(!e.current)if(r.formControl)e.current={...r.formControl,formState:s},r.defaultValues&&!gi(r.defaultValues)&&r.formControl.reset(r.defaultValues,r.resetOptions);else{const{formControl:f,...m}=Xw(r);e.current={...m,formState:s}}const u=e.current.control;return u._options=r,Mw(()=>{const f=u._subscribe({formState:u._proxyFormState,callback:()=>o({...u._formState}),reRenderRoot:!0});return o(m=>({...m,isReady:!0})),u._formState.isReady=!0,f},[u]),an.useEffect(()=>u._disableForm(r.disabled),[u,r.disabled]),an.useEffect(()=>{r.mode&&(u._options.mode=r.mode),r.reValidateMode&&(u._options.reValidateMode=r.reValidateMode)},[u,r.mode,r.reValidateMode]),an.useEffect(()=>{r.errors&&(u._setErrors(r.errors),u._focusError())},[u,r.errors]),an.useEffect(()=>{r.shouldUnregister&&u._subjects.state.next({values:u._getWatch()})},[u,r.shouldUnregister]),an.useEffect(()=>{if(u._proxyFormState.isDirty){const f=u._getDirty();f!==s.isDirty&&u._subjects.state.next({isDirty:f})}},[u,s.isDirty]),an.useEffect(()=>{r.values&&!_s(r.values,n.current)?(u._reset(r.values,{keepFieldsRef:!0,...u._options.resetOptions}),n.current=r.values,o(f=>({...f}))):u._resetDefaultValues()},[u,r.values]),an.useEffect(()=>{u._state.mount||(u._setValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),e.current.formState=Vw(s,u),e.current}const eE=r=>{let e;const n=new Set,s=(p,E)=>{const S=typeof p=="function"?p(e):p;if(!Object.is(S,e)){const w=e;e=E??(typeof S!="object"||S===null)?S:Object.assign({},e,S),n.forEach(k=>k(e,w))}},o=()=>e,m={setState:s,getState:o,getInitialState:()=>y,subscribe:p=>(n.add(p),()=>n.delete(p))},y=e=r(s,o,m);return m},Jw=(r=>r?eE(r):eE),Zw=r=>r;function Ww(r,e=Zw){const n=an.useSyncExternalStore(r.subscribe,an.useCallback(()=>e(r.getState()),[r,e]),an.useCallback(()=>e(r.getInitialState()),[r,e]));return an.useDebugValue(n),n}const tE=r=>{const e=Jw(r),n=s=>Ww(e,s);return Object.assign(n,e),n},gg=(r=>r?tE(r):tE),Wl=gg(r=>({user:null,isLoading:!0,setUser:e=>r({user:e,isLoading:!1}),clearUser:()=>r({user:null,isLoading:!1}),setLoading:e=>r({isLoading:e})})),eR=()=>{};var nE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},tR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},JT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,y=o+2<r.length,p=y?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let w=(m&15)<<2|p>>6,k=p&63;y||(k=64,f||(w=64)),s.push(n[E],n[S],n[w],n[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray($T(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):tR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||S==null)throw new nR;const w=u<<2|m>>4;if(s.push(w),p!==64){const k=m<<4&240|p>>2;if(s.push(k),S!==64){const K=p<<6&192|S;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class nR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iR=function(r){const e=$T(r);return JT.encodeByteArray(e,!0)},Ah=function(r){return iR(r).replace(/\./g,"")},ZT=function(r){try{return JT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=()=>rR().__FIREBASE_DEFAULTS__,aR=()=>{if(typeof process>"u"||typeof nE>"u")return;const r=nE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},oR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&ZT(r[1]);return e&&JSON.parse(e)},Qh=()=>{try{return eR()||sR()||aR()||oR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},WT=r=>Qh()?.emulatorHosts?.[r],lR=r=>{const e=WT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},e0=()=>Qh()?.config,t0=r=>Qh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function n0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Ah(JSON.stringify(n)),Ah(JSON.stringify(f)),""].join(".")}const eu={};function hR(){const r={prod:[],emulator:[]};for(const e of Object.keys(eu))eu[e]?r.emulator.push(e):r.prod.push(e);return r}function fR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let iE=!1;function i0(r,e){if(typeof window>"u"||typeof document>"u"||!ko(window.location.host)||eu[r]===e||eu[r]||iE)return;eu[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=hR().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function y(w,k){w.setAttribute("width","24"),w.setAttribute("id",k),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{iE=!0,f()},w}function E(w,k){w.setAttribute("id",k),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=fR(s),k=n("text"),K=document.getElementById(k)||document.createElement("span"),Y=n("learnmore"),Q=document.getElementById(Y)||document.createElement("a"),re=n("preprendIcon"),J=document.getElementById(re)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const le=w.element;m(le),E(Q,Y);const be=p();y(J,re),le.append(J,K,Q,be),document.body.appendChild(le)}u?(K.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function mR(){const r=Qh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function yR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _R(){const r=gn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function vR(){return!mR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ER(){try{return typeof indexedDB=="object"}catch{return!1}}function TR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="FirebaseError";class Ur extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=SR,Object.setPrototypeOf(this,Ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tu.prototype.create)}}class Tu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?AR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ur(o,m,s)}}function AR(r,e){return r.replace(bR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const bR=/\{\$([^}]+)}/g;function wR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ga(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(rE(u)&&rE(f)){if(!ga(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function rE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function RR(r,e){const n=new CR(r,e);return n.subscribe.bind(n)}class CR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");IR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=mm),o.error===void 0&&(o.error=mm),o.complete===void 0&&(o.complete=mm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function mm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(r){return r&&r._delegate?r._delegate:r}class pa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new uR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OR(e))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ua){return this.instances.has(e)}getOptions(e=ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:NR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ua){return this.component?this.component.multipleInstances?e:ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NR(r){return r===ua?void 0:r}function OR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new DR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Fe||(Fe={}));const MR={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},xR=Fe.INFO,LR={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},UR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=LR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pg{constructor(e){this.name=e,this._logLevel=xR,this._logHandler=UR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const kR=(r,e)=>e.some(n=>r instanceof n);let sE,aE;function PR(){return sE||(sE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zR(){return aE||(aE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const r0=new WeakMap,Om=new WeakMap,s0=new WeakMap,gm=new WeakMap,yg=new WeakMap;function BR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(As(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&r0.set(n,r)}).catch(()=>{}),yg.set(e,r),e}function jR(r){if(Om.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Om.set(r,e)}let Vm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Om.get(r);if(e==="objectStoreNames")return r.objectStoreNames||s0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return As(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function qR(r){Vm=r(Vm)}function HR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(pm(this),e,...n);return s0.set(s,e.sort?e.sort():[e]),As(s)}:zR().includes(r)?function(...e){return r.apply(pm(this),e),As(r0.get(this))}:function(...e){return As(r.apply(pm(this),e))}}function FR(r){return typeof r=="function"?HR(r):(r instanceof IDBTransaction&&jR(r),kR(r,PR())?new Proxy(r,Vm):r)}function As(r){if(r instanceof IDBRequest)return BR(r);if(gm.has(r))return gm.get(r);const e=FR(r);return e!==r&&(gm.set(r,e),yg.set(e,r)),e}const pm=r=>yg.get(r);function GR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=As(f);return s&&f.addEventListener("upgradeneeded",y=>{s(As(f.result),y.oldVersion,y.newVersion,As(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const QR=["get","getKey","getAll","getAllKeys","count"],KR=["put","add","delete","clear"],ym=new Map;function oE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(ym.get(e))return ym.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=KR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||QR.includes(n)))return;const u=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let p=y.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&y.done]))[0]};return ym.set(e,u),u}qR(r=>({...r,get:(e,n,s)=>oE(e,n)||r.get(e,n,s),has:(e,n)=>!!oE(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function XR(r){return r.getComponent()?.type==="VERSION"}const Mm="@firebase/app",lE="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new pg("@firebase/app"),$R="@firebase/app-compat",JR="@firebase/analytics-compat",ZR="@firebase/analytics",WR="@firebase/app-check-compat",eC="@firebase/app-check",tC="@firebase/auth",nC="@firebase/auth-compat",iC="@firebase/database",rC="@firebase/data-connect",sC="@firebase/database-compat",aC="@firebase/functions",oC="@firebase/functions-compat",lC="@firebase/installations",uC="@firebase/installations-compat",cC="@firebase/messaging",hC="@firebase/messaging-compat",fC="@firebase/performance",dC="@firebase/performance-compat",mC="@firebase/remote-config",gC="@firebase/remote-config-compat",pC="@firebase/storage",yC="@firebase/storage-compat",_C="@firebase/firestore",vC="@firebase/ai",EC="@firebase/firestore-compat",TC="firebase",SC="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="[DEFAULT]",AC={[Mm]:"fire-core",[$R]:"fire-core-compat",[ZR]:"fire-analytics",[JR]:"fire-analytics-compat",[eC]:"fire-app-check",[WR]:"fire-app-check-compat",[tC]:"fire-auth",[nC]:"fire-auth-compat",[iC]:"fire-rtdb",[rC]:"fire-data-connect",[sC]:"fire-rtdb-compat",[aC]:"fire-fn",[oC]:"fire-fn-compat",[lC]:"fire-iid",[uC]:"fire-iid-compat",[cC]:"fire-fcm",[hC]:"fire-fcm-compat",[fC]:"fire-perf",[dC]:"fire-perf-compat",[mC]:"fire-rc",[gC]:"fire-rc-compat",[pC]:"fire-gcs",[yC]:"fire-gcs-compat",[_C]:"fire-fst",[EC]:"fire-fst-compat",[vC]:"fire-vertex","fire-js":"fire-js",[TC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new Map,bC=new Map,Lm=new Map;function uE(r,e){try{r.container.addComponent(e)}catch(n){Or.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function wo(r){const e=r.name;if(Lm.has(e))return Or.debug(`There were multiple attempts to register component ${e}.`),!1;Lm.set(e,r);for(const n of bh.values())uE(n,r);for(const n of bC.values())uE(n,r);return!0}function _g(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function pi(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new Tu("app","Firebase",wC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new pa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=SC;function a0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:xm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw bs.create("bad-app-name",{appName:String(o)});if(n||(n=e0()),!n)throw bs.create("no-options");const u=bh.get(o);if(u){if(ga(n,u.options)&&ga(s,u.config))return u;throw bs.create("duplicate-app",{appName:o})}const f=new VR(o);for(const y of Lm.values())f.addComponent(y);const m=new RC(n,s,f);return bh.set(o,m),m}function o0(r=xm){const e=bh.get(r);if(!e&&r===xm&&e0())return a0();if(!e)throw bs.create("no-app",{appName:r});return e}function ws(r,e,n){let s=AC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Or.warn(f.join(" "));return}wo(new pa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="firebase-heartbeat-database",IC=1,lu="firebase-heartbeat-store";let _m=null;function l0(){return _m||(_m=GR(CC,IC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(lu)}catch(n){console.warn(n)}}}}).catch(r=>{throw bs.create("idb-open",{originalErrorMessage:r.message})})),_m}async function DC(r){try{const n=(await l0()).transaction(lu),s=await n.objectStore(lu).get(u0(r));return await n.done,s}catch(e){if(e instanceof Ur)Or.warn(e.message);else{const n=bs.create("idb-get",{originalErrorMessage:e?.message});Or.warn(n.message)}}}async function cE(r,e){try{const s=(await l0()).transaction(lu,"readwrite");await s.objectStore(lu).put(e,u0(r)),await s.done}catch(n){if(n instanceof Ur)Or.warn(n.message);else{const s=bs.create("idb-set",{originalErrorMessage:n?.message});Or.warn(s.message)}}}function u0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=1024,OC=30;class VC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=hE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>OC){const o=LC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Or.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=hE(),{heartbeatsToSend:n,unsentEntries:s}=MC(this._heartbeatsCache.heartbeats),o=Ah(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Or.warn(e),""}}}function hE(){return new Date().toISOString().substring(0,10)}function MC(r,e=NC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),fE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),fE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class xC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ER()?TR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return cE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return cE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function fE(r){return Ah(JSON.stringify({version:2,heartbeats:r})).length}function LC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(r){wo(new pa("platform-logger",e=>new YR(e),"PRIVATE")),wo(new pa("heartbeat",e=>new VC(e),"PRIVATE")),ws(Mm,lE,r),ws(Mm,lE,"esm2020"),ws("fire-js","")}UC("");var kC="firebase",PC="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws(kC,PC,"app");function c0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zC=c0,h0=new Tu("auth","Firebase",c0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new pg("@firebase/auth");function BC(r,...e){wh.logLevel<=Fe.WARN&&wh.warn(`Auth (${Po}): ${r}`,...e)}function ch(r,...e){wh.logLevel<=Fe.ERROR&&wh.error(`Auth (${Po}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(r,...e){throw Eg(r,...e)}function vi(r,...e){return Eg(r,...e)}function vg(r,e,n){const s={...zC(),[e]:n};return new Tu("auth","Firebase",s).create(e,{appName:r.name})}function da(r){return vg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jC(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ji(r,"argument-error"),vg(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Eg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return h0.create(r,...e)}function Ie(r,e,...n){if(!r)throw Eg(e,...n)}function Rr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ch(e),new Error(e)}function Vr(r,e){r||Rr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(){return typeof self<"u"&&self.location?.href||""}function qC(){return dE()==="http:"||dE()==="https:"}function dE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qC()||pR()||"connection"in navigator)?navigator.onLine:!0}function FC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vr(n>e,"Short delay should be less than long delay!"),this.isMobile=dR()||yR()}get(){return HC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(r,e){Vr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KC=new Au(3e4,6e4);function Sg(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function zo(r,e,n,s,o={}){return d0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Su({key:r.config.apiKey,...f}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:y,...u};return gR()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&ko(r.emulatorConfig.host)&&(p.credentials="include"),f0.fetch()(await m0(r,r.config.apiHost,n,m),p)})}async function d0(r,e,n){r._canInitEmulator=!1;const s={...GC,...e};try{const o=new XC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw nh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[y,p]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(r,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw nh(r,"email-already-in-use",f);if(y==="USER_DISABLED")throw nh(r,"user-disabled",f);const E=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw vg(r,E,p);Ji(r,E)}}catch(o){if(o instanceof Ur)throw o;Ji(r,"network-request-failed",{message:String(o)})}}async function YC(r,e,n,s,o={}){const u=await zo(r,e,n,s,o);return"mfaPendingCredential"in u&&Ji(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function m0(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Tg(r.config,o):`${r.config.apiScheme}://${o}`;return QC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class XC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(vi(this.auth,"network-request-failed")),KC.get())})}}function nh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=vi(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(r,e){return zo(r,"POST","/v1/accounts:delete",e)}async function Rh(r,e){return zo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JC(r,e=!1){const n=Ti(r),s=await n.getIdToken(e),o=Ag(s);Ie(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:tu(vm(o.auth_time)),issuedAtTime:tu(vm(o.iat)),expirationTime:tu(vm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function vm(r){return Number(r)*1e3}function Ag(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const o=ZT(n);return o?JSON.parse(o):(ch("Failed to decode base64 JWT payload"),null)}catch(o){return ch("Caught error parsing JWT payload as JSON",o?.toString()),null}}function mE(r){const e=Ag(r);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ur&&ZC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function ZC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tu(this.lastLoginAt),this.creationTime=tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(r){const e=r.auth,n=await r.getIdToken(),s=await uu(r,Rh(e,{idToken:n}));Ie(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?g0(o.providerUserInfo):[],f=tI(r.providerData,u),m=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!f?.length,p=m?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new km(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,E)}async function eI(r){const e=Ti(r);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function g0(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(r,e){const n=await d0(r,{},async()=>{const s=Su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await m0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:s};return r.emulatorConfig&&ko(r.emulatorConfig.host)&&(y.credentials="include"),f0.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iI(r,e){return zo(r,"POST","/v2/accounts:revokeToken",Sg(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=mE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await nI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new To;return s&&(Ie(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ie(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ie(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return Rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(r,e){Ie(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class yi{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new WC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new km(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await uu(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return JC(this,e)}reload(){return eI(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ch(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pi(this.auth.app))return Promise.reject(da(this.auth));const e=await this.getIdToken();return await uu(this,$C(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:w,isAnonymous:k,providerData:K,stsTokenManager:Y}=n;Ie(S&&Y,e,"internal-error");const Q=To.fromJSON(this.name,Y);Ie(typeof S=="string",e,"internal-error"),ys(s,e.name),ys(o,e.name),Ie(typeof w=="boolean",e,"internal-error"),Ie(typeof k=="boolean",e,"internal-error"),ys(u,e.name),ys(f,e.name),ys(m,e.name),ys(y,e.name),ys(p,e.name),ys(E,e.name);const re=new yi({uid:S,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:k,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:Q,createdAt:p,lastLoginAt:E});return K&&Array.isArray(K)&&(re.providerData=K.map(J=>({...J}))),y&&(re._redirectEventId=y),re}static async _fromIdTokenResponse(e,n,s=!1){const o=new To;o.updateFromServerResponse(n);const u=new yi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ch(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ie(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?g0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new To;m.updateFromIdToken(s);const y=new yi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new km(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,p),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=new Map;function Cr(r){Vr(r instanceof Function,"Expected a class definition");let e=gE.get(r);return e?(Vr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,gE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}p0.type="NONE";const pE=p0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(r,e,n){return`firebase:${r}:${e}:${n}`}class So{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=hh(this.userKey,o.apiKey,u),this.fullPersistenceKey=hh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Rh(this.auth,{idToken:e}).catch(()=>{});return n?yi._fromGetAccountInfoResponse(this.auth,n,e):null}return yi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new So(Cr(pE),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||Cr(pE);const f=hh(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const E=await p._get(f);if(E){let S;if(typeof E=="string"){const w=await Rh(e,{idToken:E}).catch(()=>{});if(!w)break;S=await yi._fromGetAccountInfoResponse(e,w,E)}else S=yi._fromJSON(e,E);p!==u&&(m=S),u=p;break}}catch{}const y=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new So(u,e,s):(u=y[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new So(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(E0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(y0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S0(e))return"Blackberry";if(A0(e))return"Webos";if(_0(e))return"Safari";if((e.includes("chrome/")||v0(e))&&!e.includes("edge/"))return"Chrome";if(T0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function y0(r=gn()){return/firefox\//i.test(r)}function _0(r=gn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function v0(r=gn()){return/crios\//i.test(r)}function E0(r=gn()){return/iemobile/i.test(r)}function T0(r=gn()){return/android/i.test(r)}function S0(r=gn()){return/blackberry/i.test(r)}function A0(r=gn()){return/webos/i.test(r)}function bg(r=gn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function rI(r=gn()){return bg(r)&&!!window.navigator?.standalone}function sI(){return _R()&&document.documentMode===10}function b0(r=gn()){return bg(r)||T0(r)||A0(r)||S0(r)||/windows phone/i.test(r)||E0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(r,e=[]){let n;switch(r){case"Browser":n=yE(gn());break;case"Worker":n=`${yE(gn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Po}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const y=e(u);f(y)}catch(y){m(y)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oI(r,e={}){return zo(r,"GET","/v2/passwordPolicy",Sg(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=6;class uI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _E(this),this.idTokenSubscription=new _E(this),this.beforeStateQueue=new aI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await So.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Rh(this,{idToken:e}),s=await yi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(pi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pi(this.app))return Promise.reject(da(this));const n=e?Ti(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pi(this.app)?Promise.reject(da(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pi(this.app)?Promise.reject(da(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oI(this),n=new uI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await iI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cr(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[Cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,s,o);return()=>{f=!0,y()}}else{const y=e.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=w0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&BC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Kh(r){return Ti(r)}class _E{constructor(e){this.auth=e,this.observer=null,this.addObserver=RR(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hI(r){wg=r}function fI(r){return wg.loadJS(r)}function dI(){return wg.gapiScript}function mI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(r,e){const n=_g(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ga(u,e??{}))return o;Ji(o,"already-initialized")}return n.initialize({options:e})}function pI(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Cr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function yI(r,e,n){const s=Kh(r);Ie(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=R0(e),{host:f,port:m}=_I(e),y=m===null?"":`:${m}`,p={url:`${u}//${f}${y}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ie(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ie(ga(p,s.config.emulator)&&ga(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,ko(f)?(n0(`${u}//${f}${y}`),i0("Auth",!0)):vI()}function R0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function _I(r){const e=R0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:vE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:vE(f)}}}function vE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function vI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Rr("not implemented")}_getIdTokenResponse(e){return Rr("not implemented")}_linkToIdToken(e,n){return Rr("not implemented")}_getReauthenticationResolver(e){return Rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(r,e){return YC(r,"POST","/v1/accounts:signInWithIdp",Sg(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="http://localhost";class ya extends C0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ji("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ya(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ao(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ao(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ao(e,n)}buildRequest(){const e={requestUri:EI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Su(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends Rg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends bu{constructor(){super("facebook.com")}static credential(e){return ya._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ya._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return wr.credential(n,s)}catch{return null}}}wr.GOOGLE_SIGN_IN_METHOD="google.com";wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends bu{constructor(){super("github.com")}static credential(e){return ya._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.GITHUB_SIGN_IN_METHOD="github.com";Es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends bu{constructor(){super("twitter.com")}static credential(e,n){return ya._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ts.credential(n,s)}catch{return null}}}Ts.TWITTER_SIGN_IN_METHOD="twitter.com";Ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await yi._fromIdTokenResponse(e,s,o),f=EE(s);return new Ro({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=EE(s);return new Ro({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function EE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends Ur{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ih.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ih(e,n,s,o)}}function I0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ih._fromErrorAndOperation(r,u,e,s):u})}async function TI(r,e,n=!1){const s=await uu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Ro._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(r,e,n=!1){const{auth:s}=r;if(pi(s.app))return Promise.reject(da(s));const o="reauthenticate";try{const u=await uu(r,I0(s,o,e,r),n);Ie(u.idToken,s,"internal-error");const f=Ag(u.idToken);Ie(f,s,"internal-error");const{sub:m}=f;return Ie(r.uid===m,s,"user-mismatch"),Ro._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ji(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(r,e,n=!1){if(pi(r.app))return Promise.reject(da(r));const s="signIn",o=await I0(r,s,e),u=await Ro._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function bI(r,e,n,s){return Ti(r).onIdTokenChanged(e,n,s)}function wI(r,e,n){return Ti(r).beforeAuthStateChanged(e,n)}function RI(r,e,n,s){return Ti(r).onAuthStateChanged(e,n,s)}const Dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=1e3,II=10;class N0 extends D0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=b0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,y)=>{this.notifyListeners(f,y)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);sI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,II):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},CI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}N0.type="LOCAL";const DI=N0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0 extends D0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}O0.type="SESSION";const V0=O0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Yh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async p=>p(n.origin,u)),y=await NI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,y)=>{const p=Cg("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(){return window}function VI(r){Qi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function MI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xI(){return navigator?.serviceWorker?.controller||null}function LI(){return M0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="firebaseLocalStorageDb",UI=1,Nh="firebaseLocalStorage",L0="fbase_key";class wu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xh(r,e){return r.transaction([Nh],e?"readwrite":"readonly").objectStore(Nh)}function kI(){const r=indexedDB.deleteDatabase(x0);return new wu(r).toPromise()}function Pm(){const r=indexedDB.open(x0,UI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Nh,{keyPath:L0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Nh)?e(s):(s.close(),await kI(),e(await Pm()))})})}async function TE(r,e,n){const s=Xh(r,!0).put({[L0]:e,value:n});return new wu(s).toPromise()}async function PI(r,e){const n=Xh(r,!1).get(e),s=await new wu(n).toPromise();return s===void 0?null:s.value}function SE(r,e){const n=Xh(r,!0).delete(e);return new wu(n).toPromise()}const zI=800,BI=3;class U0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>BI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return M0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(LI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await MI(),!this.activeServiceWorker)return;this.sender=new OI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pm();return await TE(e,Dh,"1"),await SE(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>TE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>PI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>SE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Xh(o,!1).getAll();return new wu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}U0.type="LOCAL";const jI=U0;new Au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(r,e){return e?Cr(e):(Ie(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig extends C0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qI(r){return AI(r.auth,new Ig(r),r.bypassAuthState)}function HI(r){const{auth:e,user:n}=r;return Ie(n,e,"internal-error"),SI(n,new Ig(r),r.bypassAuthState)}async function FI(r){const{auth:e,user:n}=r;return Ie(n,e,"internal-error"),TI(n,new Ig(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qI;case"linkViaPopup":case"linkViaRedirect":return FI;case"reauthViaPopup":case"reauthViaRedirect":return HI;default:Ji(this.auth,"internal-error")}}resolve(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=new Au(2e3,1e4);async function QI(r,e,n){if(pi(r.app))return Promise.reject(vi(r,"operation-not-supported-in-this-environment"));const s=Kh(r);jC(r,e,Rg);const o=k0(s,n);return new ha(s,"signInViaPopup",e,o).executeNotNull()}class ha extends P0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ha.currentPopupAction&&ha.currentPopupAction.cancel(),ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Vr(this.filter.length===1,"Popup operations only handle one event");const e=Cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GI.get())};e()}}ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="pendingRedirect",fh=new Map;class YI extends P0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=fh.get(this.auth._key());if(!e){try{const s=await XI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}fh.set(this.auth._key(),e)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XI(r,e){const n=ZI(e),s=JI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function $I(r,e){fh.set(r._key(),e)}function JI(r){return Cr(r._redirectPersistence)}function ZI(r){return hh(KI,r.config.apiKey,r.name)}async function WI(r,e,n=!1){if(pi(r.app))return Promise.reject(da(r));const s=Kh(r),o=k0(s,e),f=await new YI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=600*1e3;class t2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!z0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(vi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e2&&this.cachedEventUids.clear(),this.cachedEventUids.has(AE(e))}saveEventToCache(e){this.cachedEventUids.add(AE(e)),this.lastProcessedEventTime=Date.now()}}function AE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function z0({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function n2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return z0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i2(r,e={}){return zo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s2=/^https?/;async function a2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await i2(r);for(const n of e)try{if(o2(n))return}catch{}Ji(r,"unauthorized-domain")}function o2(r){const e=Um(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!s2.test(n))return!1;if(r2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=new Au(3e4,6e4);function bE(){const r=Qi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function u2(r){return new Promise((e,n)=>{function s(){bE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bE(),n(vi(r,"network-request-failed"))},timeout:l2.get()})}if(Qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Qi().gapi?.load)s();else{const o=mI("iframefcb");return Qi()[o]=()=>{gapi.load?s():n(vi(r,"network-request-failed"))},fI(`${dI()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw dh=null,e})}let dh=null;function c2(r){return dh=dh||u2(r),dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=new Au(5e3,15e3),f2="__/auth/iframe",d2="emulator/auth/iframe",m2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},g2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function p2(r){const e=r.config;Ie(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Tg(e,d2):`https://${r.config.authDomain}/${f2}`,s={apiKey:e.apiKey,appName:r.name,v:Po},o=g2.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Su(s).slice(1)}`}async function y2(r){const e=await c2(r),n=Qi().gapi;return Ie(n,r,"internal-error"),e.open({where:document.body,url:p2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=vi(r,"network-request-failed"),m=Qi().setTimeout(()=>{u(f)},h2.get());function y(){Qi().clearTimeout(m),o(s)}s.ping(y).then(y,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v2=500,E2=600,T2="_blank",S2="http://localhost";class wE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function A2(r,e,n,s=v2,o=E2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const y={..._2,width:s.toString(),height:o.toString(),top:u,left:f},p=gn().toLowerCase();n&&(m=v0(p)?T2:n),y0(p)&&(e=e||S2,y.scrollbars="yes");const E=Object.entries(y).reduce((w,[k,K])=>`${w}${k}=${K},`,"");if(rI(p)&&m!=="_self")return b2(e||"",m),new wE(null);const S=window.open(e||"",m,E);Ie(S,r,"popup-blocked");try{S.focus()}catch{}return new wE(S)}function b2(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="__/auth/handler",R2="emulator/auth/handler",C2=encodeURIComponent("fac");async function RE(r,e,n,s,o,u){Ie(r.config.authDomain,r,"auth-domain-config-required"),Ie(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Po,eventId:o};if(e instanceof Rg){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",wR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof bu){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const y=await r._getAppCheckToken(),p=y?`#${C2}=${encodeURIComponent(y)}`:"";return`${I2(r)}?${Su(m).slice(1)}${p}`}function I2({config:r}){return r.emulator?Tg(r,R2):`https://${r.authDomain}/${w2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="webStorageSupport";class D2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V0,this._completeRedirectFn=WI,this._overrideRedirectResult=$I}async _openPopup(e,n,s,o){Vr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await RE(e,n,s,Um(),o);return A2(e,u,Cg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await RE(e,n,s,Um(),o);return VI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Vr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await y2(e),s=new t2(e);return n.register("authEvent",o=>(Ie(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Em,{type:Em},o=>{const u=o?.[0]?.[Em];u!==void 0&&n(!!u),Ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=a2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return b0()||_0()||bg()}}const N2=D2;var CE="@firebase/auth",IE="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function M2(r){wo(new pa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ie(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:w0(r)},p=new cI(s,o,u,y);return pI(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),wo(new pa("auth-internal",e=>{const n=Kh(e.getProvider("auth").getImmediate());return(s=>new O2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ws(CE,IE,V2(r)),ws(CE,IE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=300,L2=t0("authIdTokenMaxAge")||x2;let DE=null;const U2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>L2)return;const o=n?.token;DE!==o&&(DE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function k2(r=o0()){const e=_g(r,"auth");if(e.isInitialized())return e.getImmediate();const n=gI(r,{popupRedirectResolver:N2,persistence:[jI,DI,V0]}),s=t0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=U2(u.toString());wI(n,f,()=>f(n.currentUser)),bI(n,m=>f(m))}}const o=WT("auth");return o&&yI(n,`http://${o}`),n}function P2(){return document.getElementsByTagName("head")?.[0]??document}hI({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=vi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",P2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});M2("Browser");var NE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rs,B0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,R){function C(){}C.prototype=R.prototype,I.F=R.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(L,O,V){for(var b=Array(arguments.length-2),De=2;De<arguments.length;De++)b[De-2]=arguments[De];return R.prototype[O].apply(L,b)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,C){C||(C=0);const L=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)L[O]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(O=0;O<16;++O)L[O]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=I.g[0],C=I.g[1],O=I.g[2];let V=I.g[3],b;b=R+(V^C&(O^V))+L[0]+3614090360&4294967295,R=C+(b<<7&4294967295|b>>>25),b=V+(O^R&(C^O))+L[1]+3905402710&4294967295,V=R+(b<<12&4294967295|b>>>20),b=O+(C^V&(R^C))+L[2]+606105819&4294967295,O=V+(b<<17&4294967295|b>>>15),b=C+(R^O&(V^R))+L[3]+3250441966&4294967295,C=O+(b<<22&4294967295|b>>>10),b=R+(V^C&(O^V))+L[4]+4118548399&4294967295,R=C+(b<<7&4294967295|b>>>25),b=V+(O^R&(C^O))+L[5]+1200080426&4294967295,V=R+(b<<12&4294967295|b>>>20),b=O+(C^V&(R^C))+L[6]+2821735955&4294967295,O=V+(b<<17&4294967295|b>>>15),b=C+(R^O&(V^R))+L[7]+4249261313&4294967295,C=O+(b<<22&4294967295|b>>>10),b=R+(V^C&(O^V))+L[8]+1770035416&4294967295,R=C+(b<<7&4294967295|b>>>25),b=V+(O^R&(C^O))+L[9]+2336552879&4294967295,V=R+(b<<12&4294967295|b>>>20),b=O+(C^V&(R^C))+L[10]+4294925233&4294967295,O=V+(b<<17&4294967295|b>>>15),b=C+(R^O&(V^R))+L[11]+2304563134&4294967295,C=O+(b<<22&4294967295|b>>>10),b=R+(V^C&(O^V))+L[12]+1804603682&4294967295,R=C+(b<<7&4294967295|b>>>25),b=V+(O^R&(C^O))+L[13]+4254626195&4294967295,V=R+(b<<12&4294967295|b>>>20),b=O+(C^V&(R^C))+L[14]+2792965006&4294967295,O=V+(b<<17&4294967295|b>>>15),b=C+(R^O&(V^R))+L[15]+1236535329&4294967295,C=O+(b<<22&4294967295|b>>>10),b=R+(O^V&(C^O))+L[1]+4129170786&4294967295,R=C+(b<<5&4294967295|b>>>27),b=V+(C^O&(R^C))+L[6]+3225465664&4294967295,V=R+(b<<9&4294967295|b>>>23),b=O+(R^C&(V^R))+L[11]+643717713&4294967295,O=V+(b<<14&4294967295|b>>>18),b=C+(V^R&(O^V))+L[0]+3921069994&4294967295,C=O+(b<<20&4294967295|b>>>12),b=R+(O^V&(C^O))+L[5]+3593408605&4294967295,R=C+(b<<5&4294967295|b>>>27),b=V+(C^O&(R^C))+L[10]+38016083&4294967295,V=R+(b<<9&4294967295|b>>>23),b=O+(R^C&(V^R))+L[15]+3634488961&4294967295,O=V+(b<<14&4294967295|b>>>18),b=C+(V^R&(O^V))+L[4]+3889429448&4294967295,C=O+(b<<20&4294967295|b>>>12),b=R+(O^V&(C^O))+L[9]+568446438&4294967295,R=C+(b<<5&4294967295|b>>>27),b=V+(C^O&(R^C))+L[14]+3275163606&4294967295,V=R+(b<<9&4294967295|b>>>23),b=O+(R^C&(V^R))+L[3]+4107603335&4294967295,O=V+(b<<14&4294967295|b>>>18),b=C+(V^R&(O^V))+L[8]+1163531501&4294967295,C=O+(b<<20&4294967295|b>>>12),b=R+(O^V&(C^O))+L[13]+2850285829&4294967295,R=C+(b<<5&4294967295|b>>>27),b=V+(C^O&(R^C))+L[2]+4243563512&4294967295,V=R+(b<<9&4294967295|b>>>23),b=O+(R^C&(V^R))+L[7]+1735328473&4294967295,O=V+(b<<14&4294967295|b>>>18),b=C+(V^R&(O^V))+L[12]+2368359562&4294967295,C=O+(b<<20&4294967295|b>>>12),b=R+(C^O^V)+L[5]+4294588738&4294967295,R=C+(b<<4&4294967295|b>>>28),b=V+(R^C^O)+L[8]+2272392833&4294967295,V=R+(b<<11&4294967295|b>>>21),b=O+(V^R^C)+L[11]+1839030562&4294967295,O=V+(b<<16&4294967295|b>>>16),b=C+(O^V^R)+L[14]+4259657740&4294967295,C=O+(b<<23&4294967295|b>>>9),b=R+(C^O^V)+L[1]+2763975236&4294967295,R=C+(b<<4&4294967295|b>>>28),b=V+(R^C^O)+L[4]+1272893353&4294967295,V=R+(b<<11&4294967295|b>>>21),b=O+(V^R^C)+L[7]+4139469664&4294967295,O=V+(b<<16&4294967295|b>>>16),b=C+(O^V^R)+L[10]+3200236656&4294967295,C=O+(b<<23&4294967295|b>>>9),b=R+(C^O^V)+L[13]+681279174&4294967295,R=C+(b<<4&4294967295|b>>>28),b=V+(R^C^O)+L[0]+3936430074&4294967295,V=R+(b<<11&4294967295|b>>>21),b=O+(V^R^C)+L[3]+3572445317&4294967295,O=V+(b<<16&4294967295|b>>>16),b=C+(O^V^R)+L[6]+76029189&4294967295,C=O+(b<<23&4294967295|b>>>9),b=R+(C^O^V)+L[9]+3654602809&4294967295,R=C+(b<<4&4294967295|b>>>28),b=V+(R^C^O)+L[12]+3873151461&4294967295,V=R+(b<<11&4294967295|b>>>21),b=O+(V^R^C)+L[15]+530742520&4294967295,O=V+(b<<16&4294967295|b>>>16),b=C+(O^V^R)+L[2]+3299628645&4294967295,C=O+(b<<23&4294967295|b>>>9),b=R+(O^(C|~V))+L[0]+4096336452&4294967295,R=C+(b<<6&4294967295|b>>>26),b=V+(C^(R|~O))+L[7]+1126891415&4294967295,V=R+(b<<10&4294967295|b>>>22),b=O+(R^(V|~C))+L[14]+2878612391&4294967295,O=V+(b<<15&4294967295|b>>>17),b=C+(V^(O|~R))+L[5]+4237533241&4294967295,C=O+(b<<21&4294967295|b>>>11),b=R+(O^(C|~V))+L[12]+1700485571&4294967295,R=C+(b<<6&4294967295|b>>>26),b=V+(C^(R|~O))+L[3]+2399980690&4294967295,V=R+(b<<10&4294967295|b>>>22),b=O+(R^(V|~C))+L[10]+4293915773&4294967295,O=V+(b<<15&4294967295|b>>>17),b=C+(V^(O|~R))+L[1]+2240044497&4294967295,C=O+(b<<21&4294967295|b>>>11),b=R+(O^(C|~V))+L[8]+1873313359&4294967295,R=C+(b<<6&4294967295|b>>>26),b=V+(C^(R|~O))+L[15]+4264355552&4294967295,V=R+(b<<10&4294967295|b>>>22),b=O+(R^(V|~C))+L[6]+2734768916&4294967295,O=V+(b<<15&4294967295|b>>>17),b=C+(V^(O|~R))+L[13]+1309151649&4294967295,C=O+(b<<21&4294967295|b>>>11),b=R+(O^(C|~V))+L[4]+4149444226&4294967295,R=C+(b<<6&4294967295|b>>>26),b=V+(C^(R|~O))+L[11]+3174756917&4294967295,V=R+(b<<10&4294967295|b>>>22),b=O+(R^(V|~C))+L[2]+718787259&4294967295,O=V+(b<<15&4294967295|b>>>17),b=C+(V^(O|~R))+L[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(O+(b<<21&4294967295|b>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+V&4294967295}s.prototype.v=function(I,R){R===void 0&&(R=I.length);const C=R-this.blockSize,L=this.C;let O=this.h,V=0;for(;V<R;){if(O==0)for(;V<=C;)o(this,I,V),V+=this.blockSize;if(typeof I=="string"){for(;V<R;)if(L[O++]=I.charCodeAt(V++),O==this.blockSize){o(this,L),O=0;break}}else for(;V<R;)if(L[O++]=I[V++],O==this.blockSize){o(this,L),O=0;break}}this.h=O,this.o+=R},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,C=0;C<4;++C)for(let L=0;L<32;L+=8)I[R++]=this.g[C]>>>L&255;return I};function u(I,R){var C=m;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=R(I)}function f(I,R){this.h=R;const C=[];let L=!0;for(let O=I.length-1;O>=0;O--){const V=I[O]|0;L&&V==R||(C[O]=V,L=!1)}this.g=C}var m={};function y(I){return-128<=I&&I<128?u(I,function(R){return new f([R|0],R<0?-1:0)}):new f([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return Q(p(-I));const R=[];let C=1;for(let L=0;I>=C;L++)R[L]=I/C|0,C*=4294967296;return new f(R,0)}function E(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return Q(E(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(R,8));let L=S;for(let V=0;V<I.length;V+=8){var O=Math.min(8,I.length-V);const b=parseInt(I.substring(V,V+O),R);O<8?(O=p(Math.pow(R,O)),L=L.j(O).add(p(b))):(L=L.j(C),L=L.add(p(b)))}return L}var S=y(0),w=y(1),k=y(16777216);r=f.prototype,r.m=function(){if(Y(this))return-Q(this).m();let I=0,R=1;for(let C=0;C<this.g.length;C++){const L=this.i(C);I+=(L>=0?L:4294967296+L)*R,R*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(K(this))return"0";if(Y(this))return"-"+Q(this).toString(I);const R=p(Math.pow(I,6));var C=this;let L="";for(;;){const O=be(C,R).g;C=re(C,O.j(R));let V=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=O,K(C))return V+L;for(;V.length<6;)V="0"+V;L=V+L}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function K(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function Y(I){return I.h==-1}r.l=function(I){return I=re(this,I),Y(I)?-1:K(I)?0:1};function Q(I){const R=I.g.length,C=[];for(let L=0;L<R;L++)C[L]=~I.g[L];return new f(C,~I.h).add(w)}r.abs=function(){return Y(this)?Q(this):this},r.add=function(I){const R=Math.max(this.g.length,I.g.length),C=[];let L=0;for(let O=0;O<=R;O++){let V=L+(this.i(O)&65535)+(I.i(O)&65535),b=(V>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);L=b>>>16,V&=65535,b&=65535,C[O]=b<<16|V}return new f(C,C[C.length-1]&-2147483648?-1:0)};function re(I,R){return I.add(Q(R))}r.j=function(I){if(K(this)||K(I))return S;if(Y(this))return Y(I)?Q(this).j(Q(I)):Q(Q(this).j(I));if(Y(I))return Q(this.j(Q(I)));if(this.l(k)<0&&I.l(k)<0)return p(this.m()*I.m());const R=this.g.length+I.g.length,C=[];for(var L=0;L<2*R;L++)C[L]=0;for(L=0;L<this.g.length;L++)for(let O=0;O<I.g.length;O++){const V=this.i(L)>>>16,b=this.i(L)&65535,De=I.i(O)>>>16,Ke=I.i(O)&65535;C[2*L+2*O]+=b*Ke,J(C,2*L+2*O),C[2*L+2*O+1]+=V*Ke,J(C,2*L+2*O+1),C[2*L+2*O+1]+=b*De,J(C,2*L+2*O+1),C[2*L+2*O+2]+=V*De,J(C,2*L+2*O+2)}for(I=0;I<R;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=R;I<2*R;I++)C[I]=0;return new f(C,0)};function J(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function le(I,R){this.g=I,this.h=R}function be(I,R){if(K(R))throw Error("division by zero");if(K(I))return new le(S,S);if(Y(I))return R=be(Q(I),R),new le(Q(R.g),Q(R.h));if(Y(R))return R=be(I,Q(R)),new le(Q(R.g),R.h);if(I.g.length>30){if(Y(I)||Y(R))throw Error("slowDivide_ only works with positive integers.");for(var C=w,L=R;L.l(I)<=0;)C=Ee(C),L=Ee(L);var O=Me(C,1),V=Me(L,1);for(L=Me(L,2),C=Me(C,2);!K(L);){var b=V.add(L);b.l(I)<=0&&(O=O.add(C),V=b),L=Me(L,1),C=Me(C,1)}return R=re(I,O.j(R)),new le(O,R)}for(O=S;I.l(R)>=0;){for(C=Math.max(1,Math.floor(I.m()/R.m())),L=Math.ceil(Math.log(C)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),V=p(C),b=V.j(R);Y(b)||b.l(I)>0;)C-=L,V=p(C),b=V.j(R);K(V)&&(V=w),O=O.add(V),I=re(I,b)}return new le(O,I)}r.B=function(I){return be(this,I).h},r.and=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let L=0;L<R;L++)C[L]=this.i(L)&I.i(L);return new f(C,this.h&I.h)},r.or=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let L=0;L<R;L++)C[L]=this.i(L)|I.i(L);return new f(C,this.h|I.h)},r.xor=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let L=0;L<R;L++)C[L]=this.i(L)^I.i(L);return new f(C,this.h^I.h)};function Ee(I){const R=I.g.length+1,C=[];for(let L=0;L<R;L++)C[L]=I.i(L)<<1|I.i(L-1)>>>31;return new f(C,I.h)}function Me(I,R){const C=R>>5;R%=32;const L=I.g.length-C,O=[];for(let V=0;V<L;V++)O[V]=R>0?I.i(V+C)>>>R|I.i(V+C+1)<<32-R:I.i(V+C);return new f(O,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,B0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=E,Rs=f}).apply(typeof NE<"u"?NE:typeof self<"u"?self:typeof window<"u"?window:{});var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var j0,Kl,q0,mh,zm,H0,F0,G0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ih=="object"&&ih];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var P=c[A];if(!(P in v))break e;v=v[P]}c=c[c.length-1],A=v[c],g=g(A),g!=A&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&v.push([A,g[A]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function y(c,g,v){return c.call.apply(c.bind,arguments)}function p(c,g,v){return p=y,p.apply(null,arguments)}function E(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,P,H){for(var ue=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ue[Le-2]=arguments[Le];return g.prototype[P].apply(A,ue)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const g=c.length;if(g>0){const v=Array(g);for(let A=0;A<g;A++)v[A]=c[A];return v}return[]}function K(c,g){for(let A=1;A<arguments.length;A++){const P=arguments[A];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=c.length||0;const H=P.length||0;c.length=v+H;for(let ue=0;ue<H;ue++)c[v+ue]=P[ue]}else c.push(P)}}class Y{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Q(c){f.setTimeout(()=>{throw c},0)}function re(){var c=I;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class J{constructor(){this.h=this.g=null}add(g,v){const A=le.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var le=new Y(()=>new be,c=>c.reset());class be{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,Me=!1,I=new J,R=()=>{const c=Promise.resolve(void 0);Ee=()=>{c.then(C)}};function C(){for(var c;c=re();){try{c.h.call(c.g)}catch(v){Q(v)}var g=le;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}Me=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c})();function b(c){return/^[\s\xa0]*$/.test(c)}function De(c,g){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}S(De,O),De.prototype.init=function(c,g){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&De.Z.h.call(this)},De.prototype.h=function(){De.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ke="closure_listenable_"+(Math.random()*1e6|0),G=0;function oe(c,g,v,A,P){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=P,this.key=++G,this.da=this.fa=!1}function ve(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pe(c,g,v){for(const A in c)g.call(v,c[A],A,c)}function Je(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function x(c){const g={};for(const v in c)g[v]=c[v];return g}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(c,g){let v,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(v in A)c[v]=A[v];for(let H=0;H<ee.length;H++)v=ee[H],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function de(c){this.src=c,this.g={},this.h=0}de.prototype.add=function(c,g,v,A,P){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const ue=xe(c,g,A,P);return ue>-1?(g=c[ue],v||(g.fa=!1)):(g=new oe(g,this.src,H,!!A,P),g.fa=v,c.push(g)),g};function Re(c,g){const v=g.type;if(v in c.g){var A=c.g[v],P=Array.prototype.indexOf.call(A,g,void 0),H;(H=P>=0)&&Array.prototype.splice.call(A,P,1),H&&(ve(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function xe(c,g,v,A){for(let P=0;P<c.length;++P){const H=c[P];if(!H.da&&H.listener==g&&H.capture==!!v&&H.ha==A)return P}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),bt={};function ot(c,g,v,A,P){if(Array.isArray(g)){for(let H=0;H<g.length;H++)ot(c,g[H],v,A,P);return null}return v=ba(v),c&&c[Ke]?c.J(g,v,m(A)?!!A.capture:!1,P):ni(c,g,v,!1,A,P)}function ni(c,g,v,A,P,H){if(!g)throw Error("Invalid event type");const ue=m(P)?!!P.capture:!!P;let Le=nr(c);if(Le||(c[ze]=Le=new de(c)),v=Le.add(g,v,A,ue,H),v.proxy)return v;if(A=kr(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)V||(P=ue),P===void 0&&(P=!1),c.addEventListener(g.toString(),A,P);else if(c.attachEvent)c.attachEvent(Nn(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function kr(){function c(v){return g.call(c.src,c.listener,v)}const g=zr;return c}function tr(c,g,v,A,P){if(Array.isArray(g))for(var H=0;H<g.length;H++)tr(c,g[H],v,A,P);else A=m(A)?!!A.capture:!!A,v=ba(v),c&&c[Ke]?(c=c.i,H=String(g).toString(),H in c.g&&(g=c.g[H],v=xe(g,v,A,P),v>-1&&(ve(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[H],c.h--)))):c&&(c=nr(c))&&(g=c.g[g.toString()],c=-1,g&&(c=xe(g,v,A,P)),(v=c>-1?g[c]:null)&&Pr(v))}function Pr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ke])Re(g.i,c);else{var v=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(v,A,c.capture):g.detachEvent?g.detachEvent(Nn(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=nr(g))?(Re(v,c),v.h==0&&(v.src=null,g[ze]=null)):ve(c)}}}function Nn(c){return c in bt?bt[c]:bt[c]="on"+c}function zr(c,g){if(c.da)c=!0;else{g=new De(g,this);const v=c.listener,A=c.ha||c.src;c.fa&&Pr(c),c=v.call(A,g)}return c}function nr(c){return c=c[ze],c instanceof de?c:null}var xs="__closure_events_fn_"+(Math.random()*1e9>>>0);function ba(c){return typeof c=="function"?c:(c[xs]||(c[xs]=function(g){return c.handleEvent(g)}),c[xs])}function Tt(){L.call(this),this.i=new de(this),this.M=this,this.G=null}S(Tt,L),Tt.prototype[Ke]=!0,Tt.prototype.removeEventListener=function(c,g,v,A){tr(this,c,g,v,A)};function D(c,g){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new O(g,c);else if(g instanceof O)g.target=g.target||c;else{var P=g;g=new O(A,c),ce(g,P)}P=!0;let H,ue;if(v)for(ue=v.length-1;ue>=0;ue--)H=g.g=v[ue],P=z(H,A,!0,g)&&P;if(H=g.g=c,P=z(H,A,!0,g)&&P,P=z(H,A,!1,g)&&P,v)for(ue=0;ue<v.length;ue++)H=g.g=v[ue],P=z(H,A,!1,g)&&P}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let A=0;A<v.length;A++)ve(v[A]);delete c.g[g],c.h--}}this.G=null},Tt.prototype.J=function(c,g,v,A){return this.i.add(String(c),g,!1,v,A)},Tt.prototype.K=function(c,g,v,A){return this.i.add(String(c),g,!0,v,A)};function z(c,g,v,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let P=!0;for(let H=0;H<g.length;++H){const ue=g[H];if(ue&&!ue.da&&ue.capture==v){const Le=ue.listener,It=ue.ha||ue.src;ue.fa&&Re(c.i,ue),P=Le.call(It,A)!==!1&&P}}return P&&!A.defaultPrevented}function X(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function fe(c){c.g=X(()=>{c.g=null,c.i&&(c.i=!1,fe(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class se extends L{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:fe(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ae(c){L.call(this),this.h=c,this.g={}}S(ae,L);var _e=[];function Ye(c){Pe(c.g,function(g,v){this.g.hasOwnProperty(v)&&Pr(g)},c),c.g={}}ae.prototype.N=function(){ae.Z.N.call(this),Ye(this)},ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xe=f.JSON.stringify,cn=f.JSON.parse,ir=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function On(){}function wa(){}var pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ct(){O.call(this,"d")}S(Ct,O);function En(){O.call(this,"c")}S(En,O);var pt={},Ra=null;function rr(){return Ra=Ra||new Tt}pt.Ia="serverreachability";function Ou(c){O.call(this,pt.Ia,c)}S(Ou,O);function Ai(c){const g=rr();D(g,new Ou(g))}pt.STAT_EVENT="statevent";function Ls(c,g){O.call(this,pt.STAT_EVENT,c),this.stat=g}S(Ls,O);function Mt(c){const g=rr();D(g,new Ls(g,c))}pt.Ja="timingevent";function bi(c,g){O.call(this,pt.Ja,c),this.size=g}S(bi,O);function wi(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function ii(){this.g=!0}ii.prototype.ua=function(){this.g=!1};function uf(c,g,v,A,P,H){c.info(function(){if(c.g)if(H){var ue="",Le=H.split("&");for(let tt=0;tt<Le.length;tt++){var It=Le[tt].split("=");if(It.length>1){const yt=It[0];It=It[1];const Gn=yt.split("_");ue=Gn.length>=2&&Gn[1]=="type"?ue+(yt+"="+It+"&"):ue+(yt+"=redacted&")}}}else ue=null;else ue=H;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+g+`
`+v+`
`+ue})}function Vu(c,g,v,A,P,H,ue){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+g+`
`+v+`
`+H+" "+ue})}function Ri(c,g,v,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+cf(c,v)+(A?" "+A:"")})}function Us(c,g){c.info(function(){return"TIMEOUT: "+g})}ii.prototype.info=function(){};function cf(c,g){if(!c.g)return g;if(!g)return null;try{const H=JSON.parse(g);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var v=H[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(let ue=1;ue<A.length;ue++)A[ue]=""}}}}return Xe(H)}catch{return g}}var ks={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Go;function Ps(){}S(Ps,On),Ps.prototype.g=function(){return new XMLHttpRequest},Go=new Ps;function sr(c){return encodeURIComponent(String(c))}function Mu(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function ri(c,g,v,A){this.j=c,this.i=g,this.l=v,this.S=A||1,this.V=new ae(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new si}function si(){this.i=null,this.g="",this.h=!1}var xt={},Yt={};function Ci(c,g,v){c.M=1,c.A=zs(Ut(g)),c.u=v,c.R=!0,Ca(c,null)}function Ca(c,g){c.F=Date.now(),Ii(c),c.B=Ut(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Oa(v.i,"t",A),c.C=0,v=c.j.L,c.h=new si,c.g=Yu(c.j,v?g:null,!c.u),c.P>0&&(c.O=new se(p(c.Y,c,c.g),c.P)),g=c.V,v=c.g,A=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(_e[0]=P.toString()),P=_e);for(let H=0;H<P.length;H++){const ue=ot(v,P[H],A||g.handleEvent,!1,g.h||g);if(!ue)break;g.g[ue.key]=ue}g=c.J?x(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),Ai(),uf(c.i,c.v,c.B,c.l,c.S,c.u)}ri.prototype.ba=function(c){c=c.target;const g=this.O;g&&li(c)==3?g.j():this.Y(c)},ri.prototype.Y=function(c){try{if(c==this.g)e:{const Le=li(this.g),It=this.g.ya(),tt=this.g.ca();if(!(Le<3)&&(Le!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Le!=4||It==7||(It==8||tt<=0?Ai(3):Ai(2)),Di(this);var g=this.g.ca();this.X=g;var v=hf(this);if(this.o=g==200,Vu(this.i,this.v,this.B,this.l,this.S,Le,g),this.o){if(this.U&&!this.L){t:{if(this.g){var A,P=this.g;if((A=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(A)){var H=A;break t}}H=null}if(c=H)Ri(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ni(this,c);else{this.o=!1,this.m=3,Mt(12),Vn(this),qn(this);break e}}if(this.R){c=!0;let yt;for(;!this.K&&this.C<v.length;)if(yt=Lu(this,v),yt==Yt){Le==4&&(this.m=4,Mt(14),c=!1),Ri(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==xt){this.m=4,Mt(15),Ri(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else Ri(this.i,this.l,yt,null),Ni(this,yt);if(xu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||v.length!=0||this.h.h||(this.m=1,Mt(16),c=!1),this.o=this.o&&c,!c)Ri(this.i,this.l,v,"[Invalid Chunked Response]"),Vn(this),qn(this);else if(v.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),al(ue),ue.P=!0,Mt(11))}}else Ri(this.i,this.l,v,null),Ni(this,v);Le==4&&Vn(this),this.o&&!this.K&&(Le==4?Fu(this.j,this):(this.o=!1,Ii(this)))}else or(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,Mt(12)):(this.m=0,Mt(13)),Vn(this),qn(this)}}}catch{}finally{}};function hf(c){if(!xu(c))return c.g.la();const g=en(c.g);if(g==="")return"";let v="";const A=g.length,P=li(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Vn(c),qn(c),"";c.h.i=new f.TextDecoder}for(let H=0;H<A;H++)c.h.h=!0,v+=c.h.i.decode(g[H],{stream:!(P&&H==A-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function xu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Lu(c,g){var v=c.C,A=g.indexOf(`
`,v);return A==-1?Yt:(v=Number(g.substring(v,A)),isNaN(v)?xt:(A+=1,A+v>g.length?Yt:(g=g.slice(A,A+v),c.C=A+v,g)))}ri.prototype.cancel=function(){this.K=!0,Vn(this)};function Ii(c){c.T=Date.now()+c.H,Ia(c,c.H)}function Ia(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=wi(p(c.aa,c),g)}function Di(c){c.D&&(f.clearTimeout(c.D),c.D=null)}ri.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Us(this.i,this.B),this.M!=2&&(Ai(),Mt(17)),Vn(this),this.m=2,qn(this)):Ia(this,this.T-c)};function qn(c){c.j.I==0||c.K||Fu(c.j,c)}function Vn(c){Di(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Ye(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function Ni(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||Vi(v.h,c))){if(!c.L&&Vi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ua(v),Kr(v);else break e;Qs(v),Mt(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=wi(p(v.Va,v),6e3));Oi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Pi(v,11)}else if((c.L||v.g==c)&&Ua(v),!b(g))for(P=v.Ba.g.parse(g),g=0;g<P.length;g++){let tt=P[g];const yt=tt[0];if(!(yt<=v.K))if(v.K=yt,tt=tt[1],v.I==2)if(tt[0]=="c"){v.M=tt[1],v.ba=tt[2];const Gn=tt[3];Gn!=null&&(v.ka=Gn,v.j.info("VER="+v.ka));const zi=tt[4];zi!=null&&(v.za=zi,v.j.info("SVER="+v.za));const ui=tt[5];ui!=null&&typeof ui=="number"&&ui>0&&(A=1.5*ui,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const ci=c.g;if(ci){const Ks=ci.g?ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ks){var H=A.h;H.g||Ks.indexOf("spdy")==-1&&Ks.indexOf("quic")==-1&&Ks.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Yo(H,H.h),H.h=null))}if(A.G){const ka=ci.g?ci.g.getResponseHeader("X-HTTP-Session-Id"):null;ka&&(A.wa=ka,rt(A.J,A.G,ka))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ue=c;if(A.na=Ku(A,A.L?A.ba:null,A.W),ue.L){Xo(A.h,ue);var Le=ue,It=A.O;It&&(Le.H=It),Le.D&&(Di(Le),Ii(Le)),A.g=ue}else qu(A);v.i.length>0&&ki(v)}else tt[0]!="stop"&&tt[0]!="close"||Pi(v,7);else v.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Pi(v,7):rl(v):tt[0]!="noop"&&v.l&&v.l.qa(tt),v.A=0)}}Ai(4)}catch{}}var Lt=class{constructor(c,g){this.g=c,this.map=g}};function Qo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ko(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Oi(c){return c.h?1:c.g?c.g.size:0}function Vi(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Yo(c,g){c.g?c.g.add(g):c.h=g}function Xo(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Qo.prototype.cancel=function(){if(this.i=$o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function $o(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return k(c.i)}var Uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Da(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let P,H=null;A>=0?(P=c[v].substring(0,A),H=c[v].substring(A+1)):P=c[v],g(P,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Mn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof Mn?(this.l=c.l,Xt(this,c.j),this.o=c.o,this.g=c.g,Br(this,c.u),this.h=c.h,Jo(this,Bu(c.i)),this.m=c.m):c&&(g=String(c).match(Uu))?(this.l=!1,Xt(this,g[1]||"",!0),this.o=Mi(g[2]||""),this.g=Mi(g[3]||"",!0),Br(this,g[4]),this.h=Mi(g[5]||"",!0),Jo(this,g[6]||"",!0),this.m=Mi(g[7]||"")):(this.l=!1,this.i=new qr(null,this.l))}Mn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Bs(g,Na,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Bs(g,Na,!0),"@"),c.push(sr(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Bs(v,v.charAt(0)=="/"?Zo:ku,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Bs(v,Pu)),c.join("")},Mn.prototype.resolve=function(c){const g=Ut(this);let v=!!c.j;v?Xt(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var A=c.h;if(v)Br(g,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var P=g.h.lastIndexOf("/");P!=-1&&(A=g.h.slice(0,P+1)+A)}if(P=A,P==".."||P==".")A="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){A=P.lastIndexOf("/",0)==0,P=P.split("/");const H=[];for(let ue=0;ue<P.length;){const Le=P[ue++];Le=="."?A&&ue==P.length&&H.push(""):Le==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),A&&ue==P.length&&H.push("")):(H.push(Le),A=!0)}A=H.join("/")}else A=P}return v?g.h=A:v=c.i.toString()!=="",v?Jo(g,Bu(c.i)):v=!!c.m,v&&(g.m=c.m),g};function Ut(c){return new Mn(c)}function Xt(c,g,v){c.j=v?Mi(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Br(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function Jo(c,g,v){g instanceof qr?(c.i=g,Va(c.i,c.l)):(v||(g=Bs(g,jr)),c.i=new qr(g,c.l))}function rt(c,g,v){c.i.set(g,v)}function zs(c){return rt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Mi(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Bs(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,Tn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Tn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Na=/[#\/\?@]/g,ku=/[#\?:]/g,Zo=/[#\?]/g,jr=/[#\?@]/g,Pu=/#/g;function qr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Sn(c){c.g||(c.g=new Map,c.h=0,c.i&&Da(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=qr.prototype,r.add=function(c,g){Sn(this),this.i=null,c=Hr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function zu(c,g){Sn(c),g=Hr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Wo(c,g){return Sn(c),g=Hr(c,g),c.g.has(g)}r.forEach=function(c,g){Sn(this),this.g.forEach(function(v,A){v.forEach(function(P){c.call(g,P,A,this)},this)},this)};function el(c,g){Sn(c);let v=[];if(typeof g=="string")Wo(c,g)&&(v=v.concat(c.g.get(Hr(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}r.set=function(c,g){return Sn(this),this.i=null,c=Hr(this,c),Wo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=el(this,c),c.length>0?String(c[0]):g):g};function Oa(c,g,v){zu(c,g),v.length>0&&(c.i=null,c.g.set(Hr(c,g),k(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var v=g[A];const P=sr(v);v=el(this,v);for(let H=0;H<v.length;H++){let ue=P;v[H]!==""&&(ue+="="+sr(v[H])),c.push(ue)}}return this.i=c.join("&")};function Bu(c){const g=new qr;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function Hr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Va(c,g){g&&!c.j&&(Sn(c),c.i=null,c.g.forEach(function(v,A){const P=A.toLowerCase();A!=P&&(zu(this,A),Oa(this,P,v))},c)),c.j=g}function ai(c,g){const v=new ii;if(f.Image){const A=new Image;A.onload=E(Hn,v,"TestLoadImage: loaded",!0,g,A),A.onerror=E(Hn,v,"TestLoadImage: error",!1,g,A),A.onabort=E(Hn,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=E(Hn,v,"TestLoadImage: timeout",!1,g,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function tl(c,g){const v=new ii,A=new AbortController,P=setTimeout(()=>{A.abort(),Hn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(H=>{clearTimeout(P),H.ok?Hn(v,"TestPingServer: ok",!0,g):Hn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(P),Hn(v,"TestPingServer: error",!1,g)})}function Hn(c,g,v,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(v)}catch{}}function Fr(){this.g=new ir}function xi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(xi,On),xi.prototype.g=function(){return new js(this.i,this.h)};function js(c,g){Tt.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(js,Tt),r=js.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,oi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Gr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ma(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ma(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Gr(this):oi(this),this.readyState==3&&Ma(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Gr(this))},r.Na=function(c){this.g&&(this.response=c,Gr(this))},r.ga=function(){this.g&&Gr(this)};function Gr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,oi(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function oi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Fn(c){let g="";return Pe(c,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function qs(c,g,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Fn(v),typeof c=="string"?v!=null&&sr(v):rt(c,g,v))}function lt(c){Tt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(lt,Tt);var Li=/^https?$/i,nl=["POST","PUT"];r=lt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Go.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(H){Hs(this,H);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)v.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())v.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),P=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(nl,g,void 0)>=0)||A||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ue]of v)this.g.setRequestHeader(H,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){Hs(this,H)}};function Hs(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,il(c),ar(c)}function il(c){c.A||(c.A=!0,D(c,"complete"),D(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,D(this,"complete"),D(this,"abort"),ar(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ar(this,!0)),lt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Fs(this):this.Xa())},r.Xa=function(){Fs(this)};function Fs(c){if(c.h&&typeof u<"u"){if(c.v&&li(c)==4)setTimeout(c.Ca.bind(c),0);else if(D(c,"readystatechange"),li(c)==4){c.h=!1;try{const H=c.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var A;if(A=H===0){let ue=String(c.D).match(Uu)[1]||null;!ue&&f.self&&f.self.location&&(ue=f.self.location.protocol.slice(0,-1)),A=!Li.test(ue?ue.toLowerCase():"")}v=A}if(v)D(c,"complete"),D(c,"success");else{c.o=6;try{var P=li(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",il(c)}}finally{ar(c)}}}}function ar(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||D(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function li(c){return c.g?c.g.readyState:0}r.ca=function(){try{return li(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),cn(g)}};function en(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function or(c){const g={};c=(c.g&&li(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(b(c[A]))continue;var v=Mu(c[A]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=g[P]||[];g[P]=H,H.push(v)}Je(g,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ui(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Qr(c){this.za=0,this.i=[],this.j=new ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ui("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ui("baseRetryDelayMs",5e3,c),this.Za=Ui("retryDelaySeedMs",1e4,c),this.Ta=Ui("forwardChannelMaxRetries",2,c),this.va=Ui("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Qo(c&&c.concurrentRequestLimit),this.Ba=new Fr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Qr.prototype,r.ka=8,r.I=1,r.connect=function(c,g,v,A){Mt(0),this.W=c,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Ku(this,null,this.W),ki(this)};function rl(c){if(xa(c),c.I==3){var g=c.V++,v=Ut(c.J);if(rt(v,"SID",c.M),rt(v,"RID",g),rt(v,"TYPE","terminate"),Gs(c,v),g=new ri(c,c.j,g),g.M=2,g.A=zs(Ut(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=Yu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),Ii(g)}Qu(c)}function Kr(c){c.g&&(al(c),c.g.cancel(),c.g=null)}function xa(c){Kr(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ua(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function ki(c){if(!Ko(c.h)&&!c.m){c.m=!0;var g=c.Ea;Ee||R(),Me||(Ee(),Me=!0),I.add(g,c),c.D=0}}function La(c,g){return Oi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=wi(p(c.Ea,c,g),Gu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new ri(this,this.j,c);let H=this.o;if(this.U&&(H?(H=x(H),ce(H,this.U)):H=this.U),this.u!==null||this.R||(P.J=H,H=null),this.S)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=ju(this,P,g),v=Ut(this.J),rt(v,"RID",c),rt(v,"CVER",22),this.G&&rt(v,"X-HTTP-Session-Id",this.G),Gs(this,v),H&&(this.R?g="headers="+sr(Fn(H))+"&"+g:this.u&&qs(v,this.u,H)),Yo(this.h,P),this.Ra&&rt(v,"TYPE","init"),this.S?(rt(v,"$req",g),rt(v,"SID","null"),P.U=!0,Ci(P,v,null)):Ci(P,v,g),this.I=2}}else this.I==3&&(c?sl(this,c):this.i.length==0||Ko(this.h)||sl(this))};function sl(c,g){var v;g?v=g.l:v=c.V++;const A=Ut(c.J);rt(A,"SID",c.M),rt(A,"RID",v),rt(A,"AID",c.K),Gs(c,A),c.u&&c.o&&qs(A,c.u,c.o),v=new ri(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=ju(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Yo(c.h,v),Ci(v,A,g)}function Gs(c,g){c.H&&Pe(c.H,function(v,A){rt(g,A,v)}),c.l&&Pe({},function(v,A){rt(g,A,v)})}function ju(c,g,v){v=Math.min(c.i.length,v);const A=c.l?p(c.l.Ka,c.l,c):null;e:{var P=c.i;let Le=-1;for(;;){const It=["count="+v];Le==-1?v>0?(Le=P[0].g,It.push("ofs="+Le)):Le=0:It.push("ofs="+Le);let tt=!0;for(let yt=0;yt<v;yt++){var H=P[yt].g;const Gn=P[yt].map;if(H-=Le,H<0)Le=Math.max(0,P[yt].g-100),tt=!1;else try{H="req"+H+"_"||"";try{var ue=Gn instanceof Map?Gn:Object.entries(Gn);for(const[zi,ui]of ue){let ci=ui;m(ui)&&(ci=Xe(ui)),It.push(H+zi+"="+encodeURIComponent(ci))}}catch(zi){throw It.push(H+"type="+encodeURIComponent("_badmap")),zi}}catch{A&&A(Gn)}}if(tt){ue=It.join("&");break e}}ue=void 0}return c=c.i.splice(0,v),g.G=c,ue}function qu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;Ee||R(),Me||(Ee(),Me=!0),I.add(g,c),c.A=0}}function Qs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=wi(p(c.Da,c),Gu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Hu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=wi(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Mt(10),Kr(this),Hu(this))};function al(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Hu(c){c.g=new ri(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=Ut(c.na);rt(g,"RID","rpc"),rt(g,"SID",c.M),rt(g,"AID",c.K),rt(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&rt(g,"TO",c.ia),rt(g,"TYPE","xmlhttp"),Gs(c,g),c.u&&c.o&&qs(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=zs(Ut(g)),v.u=null,v.R=!0,Ca(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Kr(this),Qs(this),Mt(19))};function Ua(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Fu(c,g){var v=null;if(c.g==g){Ua(c),al(c),c.g=null;var A=2}else if(Vi(c.h,g))v=g.G,Xo(c.h,g),A=1;else return;if(c.I!=0){if(g.o)if(A==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var P=c.D;A=rr(),D(A,new bi(A,v)),ki(c)}else qu(c);else if(P=g.m,P==3||P==0&&g.X>0||!(A==1&&La(c,g)||A==2&&Qs(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),P){case 1:Pi(c,5);break;case 4:Pi(c,10);break;case 3:Pi(c,6);break;default:Pi(c,2)}}}function Gu(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function Pi(c,g){if(c.j.info("Error code "+g),g==2){var v=p(c.bb,c),A=c.Ua;const P=!A;A=new Mn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Xt(A,"https"),zs(A),P?ai(A.toString(),v):tl(A.toString(),v)}else Mt(2);c.I=0,c.l&&c.l.pa(g),Qu(c),xa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function Qu(c){if(c.I=0,c.ja=[],c.l){const g=$o(c.h);(g.length!=0||c.i.length!=0)&&(K(c.ja,g),K(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function Ku(c,g,v){var A=v instanceof Mn?Ut(v):new Mn(v);if(A.g!="")g&&(A.g=g+"."+A.g),Br(A,A.u);else{var P=f.location;A=P.protocol,g=g?g+"."+P.hostname:P.hostname,P=+P.port;const H=new Mn(null);A&&Xt(H,A),g&&(H.g=g),P&&Br(H,P),v&&(H.h=v),A=H}return v=c.G,g=c.wa,v&&g&&rt(A,v,g),rt(A,"VER",c.ka),Gs(c,A),A}function Yu(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new lt(new xi({ab:v})):new lt(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xu(){}r=Xu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Yr(){}Yr.prototype.g=function(c,g){return new yn(c,g)};function yn(c,g){Tt.call(this),this.g=new Qr(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!b(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!b(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new lr(this)}S(yn,Tt),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){rl(this.g)},yn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Xe(c),c=v);g.i.push(new Lt(g.Ya++,c)),g.I==3&&ki(g)},yn.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,yn.Z.N.call(this)};function $u(c){Ct.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}S($u,Ct);function Ju(){En.call(this),this.status=1}S(Ju,En);function lr(c){this.g=c}S(lr,Xu),lr.prototype.ra=function(){D(this.g,"a")},lr.prototype.qa=function(c){D(this.g,new $u(c))},lr.prototype.pa=function(c){D(this.g,new Ju)},lr.prototype.oa=function(){D(this.g,"b")},Yr.prototype.createWebChannel=Yr.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,G0=function(){return new Yr},F0=function(){return rr()},H0=pt,zm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ks.NO_ERROR=0,ks.TIMEOUT=8,ks.HTTP_ERROR=6,mh=ks,Fo.COMPLETE="complete",q0=Fo,wa.EventType=pn,pn.OPEN="a",pn.CLOSE="b",pn.ERROR="c",pn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Kl=wa,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,j0=lt}).apply(typeof ih<"u"?ih:typeof self<"u"?self:typeof window<"u"?window:{});const OE="@firebase/firestore",VE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new pg("@firebase/firestore");function yo(){return _a.logLevel}function me(r,...e){if(_a.logLevel<=Fe.DEBUG){const n=e.map(Dg);_a.debug(`Firestore (${Bo}): ${r}`,...n)}}function Mr(r,...e){if(_a.logLevel<=Fe.ERROR){const n=e.map(Dg);_a.error(`Firestore (${Bo}): ${r}`,...n)}}function Co(r,...e){if(_a.logLevel<=Fe.WARN){const n=e.map(Dg);_a.warn(`Firestore (${Bo}): ${r}`,...n)}}function Dg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Q0(r,s,n)}function Q0(r,e,n){let s=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Mr(s),new Error(s)}function it(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||Q0(e,o,s)}function Ve(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Ur{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(dn.UNAUTHENTICATED)))}shutdown(){}}class B2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class j2{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){it(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let u=new Cs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Cs,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},m=y=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Cs)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(it(typeof s.accessToken=="string",31837,{l:s}),new K0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class q2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class H2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new q2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ME{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){it(this.o===void 0,3512);const s=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,me("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ME(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(it(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ME(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=G2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ge(r,e){return r<e?-1:r>e?1:0}function Bm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Tm(o)===Tm(u)?Ge(o,u):Tm(o)?1:-1}return Ge(r.length,e.length)}const Q2=55296,K2=57343;function Tm(r){const e=r.charCodeAt(0);return e>=Q2&&e<=K2}function Io(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="__name__";class Gi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ce(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Gi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Gi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ge(e.length,n.length)}static compareSegments(e,n){const s=Gi.isNumericId(e),o=Gi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Gi.extractNumericId(e).compare(Gi.extractNumericId(n)):Bm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rs.fromString(e.substring(4,e.length-2))}}class St extends Gi{construct(e,n,s){return new St(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Te(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new St(n)}static emptyPath(){return new St([])}}const Y2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Gi{construct(e,n,s){return new ln(e,n,s)}static isValidIdentifier(e){return Y2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xE}static keyField(){return new ln([xE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new Te(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new Te(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new Te(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new Te(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(n)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(St.fromString(e))}static fromName(e){return new Ae(St.fromString(e).popFirst(5))}static empty(){return new Ae(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return St.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new St(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(r,e,n){if(!n)throw new Te(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function $2(r,e,n,s){if(e===!0&&s===!0)throw new Te(ie.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function LE(r){if(!Ae.isDocumentKey(r))throw new Te(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Y0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Og(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ce(12329,{type:typeof r})}function cu(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Te(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Og(r);throw new Te(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(r,e){const n={typeString:r};return e&&(n.value=e),n}function Ru(r,e){if(!Y0(r))throw new Te(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new Te(ie.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=-62135596800,kE=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*kE);return new gt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<UE)throw new Te(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kE}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ru(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-UE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:Ht("string",gt._jsonSchemaVersion),seconds:Ht("number"),nanoseconds:Ht("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new gt(0,0))}static max(){return new Ne(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu=-1;function J2(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(s===1e9?new gt(n+1,0):new gt(n,s));return new Is(o,Ae.empty(),e)}function Z2(r){return new Is(r.readTime,r.key,hu)}class Is{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Is(Ne.min(),Ae.empty(),hu)}static max(){return new Is(Ne.max(),Ae.empty(),hu)}}function W2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(r.documentKey,e.documentKey),n!==0?n:Ge(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==eD)throw r;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(y=>s(y)))})),f=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let y=0;y<u;y++){const p=y;n(e[p]).next((E=>{f[p]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function nD(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}$h.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg=-1;function Jh(r){return r==null}function Oh(r){return r===0&&1/r==-1/0}function iD(r){return typeof r=="number"&&Number.isInteger(r)&&!Oh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="";function rD(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=PE(e)),e=sD(r.get(n),e);return PE(e)}function sD(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case X0:n+="";break;default:n+=u}}return n}function PE(r){return r+X0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ea(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function $0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new At(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rh(this.root,e,this.comparator,!0)}}class rh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??on.RED,this.left=o??on.EMPTY,this.right=u??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new on(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return on.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new BE(this.data.getIterator())}getIteratorFrom(e){return new BE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class BE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new _i([])}unionWith(e){let n=new Kt(ln.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new _i(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Io(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new J0("Invalid base64 string: "+u):u}})(e);return new un(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const aD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(r){if(it(!!r,39018),typeof r=="string"){let e=0;const n=aD.exec(r);if(it(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Vt(r.seconds),nanos:Vt(r.nanos)}}function Vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ns(r){return typeof r=="string"?un.fromBase64String(r):un.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="server_timestamp",W0="__type__",eS="__previous_value__",tS="__local_write_time__";function Mg(r){return(r?.mapValue?.fields||{})[W0]?.stringValue===Z0}function Zh(r){const e=r.mapValue.fields[eS];return Mg(e)?Zh(e):e}function fu(r){const e=Ds(r.mapValue.fields[tS].timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n,s,o,u,f,m,y,p,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=E}}const Vh="(default)";class du{constructor(e,n){this.projectId=e,this.database=n||Vh}static empty(){return new du("","")}get isDefaultDatabase(){return this.database===Vh}isEqual(e){return e instanceof du&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="__type__",lD="__max__",sh={mapValue:{}},iS="__vector__",Mh="value";function Os(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Mg(r)?4:cD(r)?9007199254740991:uD(r)?10:11:Ce(28295,{value:r})}function Zi(r,e){if(r===e)return!0;const n=Os(r);if(n!==Os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return fu(r).isEqual(fu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ds(o.timestampValue),m=Ds(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Ns(o.bytesValue).isEqual(Ns(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Vt(o.geoPointValue.latitude)===Vt(u.geoPointValue.latitude)&&Vt(o.geoPointValue.longitude)===Vt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Vt(o.integerValue)===Vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Vt(o.doubleValue),m=Vt(u.doubleValue);return f===m?Oh(f)===Oh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return Io(r.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(zE(f)!==zE(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!Zi(f[y],m[y])))return!1;return!0})(r,e);default:return Ce(52216,{left:r})}}function mu(r,e){return(r.values||[]).find((n=>Zi(n,e)))!==void 0}function Do(r,e){if(r===e)return 0;const n=Os(r),s=Os(e);if(n!==s)return Ge(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=Vt(u.integerValue||u.doubleValue),y=Vt(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(r,e);case 3:return jE(r.timestampValue,e.timestampValue);case 4:return jE(fu(r),fu(e));case 5:return Bm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=Ns(u),y=Ns(f);return m.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),y=f.split("/");for(let p=0;p<m.length&&p<y.length;p++){const E=Ge(m[p],y[p]);if(E!==0)return E}return Ge(m.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ge(Vt(u.latitude),Vt(f.latitude));return m!==0?m:Ge(Vt(u.longitude),Vt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return qE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},y=f.fields||{},p=m[Mh]?.arrayValue,E=y[Mh]?.arrayValue,S=Ge(p?.values?.length||0,E?.values?.length||0);return S!==0?S:qE(p,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===sh.mapValue&&f===sh.mapValue)return 0;if(u===sh.mapValue)return 1;if(f===sh.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),p=f.fields||{},E=Object.keys(p);y.sort(),E.sort();for(let S=0;S<y.length&&S<E.length;++S){const w=Bm(y[S],E[S]);if(w!==0)return w;const k=Do(m[y[S]],p[E[S]]);if(k!==0)return k}return Ge(y.length,E.length)})(r.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function jE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ge(r,e);const n=Ds(r),s=Ds(e),o=Ge(n.seconds,s.seconds);return o!==0?o:Ge(n.nanos,s.nanos)}function qE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Do(n[o],s[o]);if(u)return u}return Ge(n.length,s.length)}function No(r){return jm(r)}function jm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Ds(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Ns(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Ae.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=jm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${jm(n.fields[f])}`;return o+"}"})(r.mapValue):Ce(61005,{value:r})}function gh(r){switch(Os(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zh(r);return e?16+gh(e):16;case 5:return 2*r.stringValue.length;case 6:return Ns(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+gh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ea(s.fields,((u,f)=>{o+=u.length+gh(f)})),o})(r.mapValue);default:throw Ce(13486,{value:r})}}function qm(r){return!!r&&"integerValue"in r}function xg(r){return!!r&&"arrayValue"in r}function HE(r){return!!r&&"nullValue"in r}function FE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ph(r){return!!r&&"mapValue"in r}function uD(r){return(r?.mapValue?.fields||{})[nS]?.stringValue===iS}function nu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ea(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=nu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nu(r.arrayValue.values[n]);return e}return{...r}}function cD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===lD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.value=e}static empty(){return new ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ph(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(n)}setAll(e){let n=ln.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=nu(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ph(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ph(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ea(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new ei(nu(this.value))}}function rS(r){const e=[];return Ea(r.fields,((n,s)=>{const o=new ln([n]);if(ph(s)){const u=rS(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new _i(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new mn(e,0,Ne.min(),Ne.min(),Ne.min(),ei.empty(),0)}static newFoundDocument(e,n,s,o){return new mn(e,1,n,Ne.min(),s,o,0)}static newNoDocument(e,n){return new mn(e,2,n,Ne.min(),Ne.min(),ei.empty(),0)}static newUnknownDocument(e,n){return new mn(e,3,n,Ne.min(),Ne.min(),ei.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this.position=e,this.inclusive=n}}function GE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=Ae.comparator(Ae.fromName(f.referenceValue),n.key):s=Do(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function QE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Zi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n="asc"){this.field=e,this.dir=n}}function hD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{}class Qt extends sS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new dD(e,n,s):n==="array-contains"?new pD(e,s):n==="in"?new yD(e,s):n==="not-in"?new _D(e,s):n==="array-contains-any"?new vD(e,s):new Qt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new mD(e,s):new gD(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Do(n,this.value)):n!==null&&Os(this.value)===Os(n)&&this.matchesComparison(Do(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wi extends sS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Wi(e,n)}matches(e){return aS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function aS(r){return r.op==="and"}function oS(r){return fD(r)&&aS(r)}function fD(r){for(const e of r.filters)if(e instanceof Wi)return!1;return!0}function Hm(r){if(r instanceof Qt)return r.field.canonicalString()+r.op.toString()+No(r.value);if(oS(r))return r.filters.map((e=>Hm(e))).join(",");{const e=r.filters.map((n=>Hm(n))).join(",");return`${r.op}(${e})`}}function lS(r,e){return r instanceof Qt?(function(s,o){return o instanceof Qt&&s.op===o.op&&s.field.isEqual(o.field)&&Zi(s.value,o.value)})(r,e):r instanceof Wi?(function(s,o){return o instanceof Wi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&lS(f,o.filters[m])),!0):!1})(r,e):void Ce(19439)}function uS(r){return r instanceof Qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${No(n.value)}`})(r):r instanceof Wi?(function(n){return n.op.toString()+" {"+n.getFilters().map(uS).join(" ,")+"}"})(r):"Filter"}class dD extends Qt{constructor(e,n,s){super(e,n,s),this.key=Ae.fromName(s.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class mD extends Qt{constructor(e,n){super(e,"in",n),this.keys=cS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class gD extends Qt{constructor(e,n){super(e,"not-in",n),this.keys=cS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function cS(r,e){return(e.arrayValue?.values||[]).map((n=>Ae.fromName(n.referenceValue)))}class pD extends Qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xg(n)&&mu(n.arrayValue,this.value)}}class yD extends Qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mu(this.value.arrayValue,n)}}class _D extends Qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mu(this.value.arrayValue,n)}}class vD extends Qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>mu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function KE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new ED(r,e,n,s,o,u,f)}function Lg(r){const e=Ve(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Hm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>No(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>No(s))).join(",")),e.Te=n}return e.Te}function Ug(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!hD(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!lS(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!QE(r.startAt,e.startAt)&&QE(r.endAt,e.endAt)}function Fm(r){return Ae.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function TD(r,e,n,s,o,u,f,m){return new Wh(r,e,n,s,o,u,f,m)}function kg(r){return new Wh(r)}function YE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function SD(r){return r.collectionGroup!==null}function iu(r){const e=Ve(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Kt(ln.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Lh(u,s))})),n.has(ln.keyField().canonicalString())||e.Ie.push(new Lh(ln.keyField(),s))}return e.Ie}function Ki(r){const e=Ve(r);return e.Ee||(e.Ee=AD(e,iu(r))),e.Ee}function AD(r,e){if(r.limitType==="F")return KE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Lh(o.field,u)}));const n=r.endAt?new xh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new xh(r.startAt.position,r.startAt.inclusive):null;return KE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Gm(r,e,n){return new Wh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function ef(r,e){return Ug(Ki(r),Ki(e))&&r.limitType===e.limitType}function hS(r){return`${Lg(Ki(r))}|lt:${r.limitType}`}function _o(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>uS(o))).join(", ")}]`),Jh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>No(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>No(o))).join(",")),`Target(${s})`})(Ki(r))}; limitType=${r.limitType})`}function tf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ae.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of iu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,y){const p=GE(f,m,y);return f.inclusive?p<=0:p<0})(s.startAt,iu(s),o)||s.endAt&&!(function(f,m,y){const p=GE(f,m,y);return f.inclusive?p>=0:p>0})(s.endAt,iu(s),o))})(r,e)}function bD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function fS(r){return(e,n)=>{let s=!1;for(const o of iu(r)){const u=wD(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function wD(r,e,n){const s=r.field.isKeyField()?Ae.comparator(e.key,n.key):(function(u,f,m){const y=f.data.field(u),p=m.data.field(u);return y!==null&&p!==null?Do(y,p):Ce(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ce(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ea(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return $0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=new At(Ae.comparator);function xr(){return RD}const dS=new At(Ae.comparator);function Yl(...r){let e=dS;for(const n of r)e=e.insert(n.key,n);return e}function mS(r){let e=dS;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function fa(){return ru()}function gS(){return ru()}function ru(){return new Ta((r=>r.toString()),((r,e)=>r.isEqual(e)))}const CD=new At(Ae.comparator),ID=new Kt(Ae.comparator);function Qe(...r){let e=ID;for(const n of r)e=e.add(n);return e}const DD=new Kt(Ge);function ND(){return DD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function pS(r){return{integerValue:""+r}}function OD(r,e){return iD(e)?pS(e):Pg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(){this._=void 0}}function VD(r,e,n){return r instanceof Uh?(function(o,u){const f={fields:{[W0]:{stringValue:Z0},[tS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Mg(u)&&(u=Zh(u)),u&&(f.fields[eS]=u),{mapValue:f}})(n,e):r instanceof gu?_S(r,e):r instanceof pu?vS(r,e):(function(o,u){const f=yS(o,u),m=XE(f)+XE(o.Ae);return qm(f)&&qm(o.Ae)?pS(m):Pg(o.serializer,m)})(r,e)}function MD(r,e,n){return r instanceof gu?_S(r,e):r instanceof pu?vS(r,e):n}function yS(r,e){return r instanceof kh?(function(s){return qm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Uh extends nf{}class gu extends nf{constructor(e){super(),this.elements=e}}function _S(r,e){const n=ES(e);for(const s of r.elements)n.some((o=>Zi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class pu extends nf{constructor(e){super(),this.elements=e}}function vS(r,e){let n=ES(e);for(const s of r.elements)n=n.filter((o=>!Zi(o,s)));return{arrayValue:{values:n}}}class kh extends nf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function XE(r){return Vt(r.integerValue||r.doubleValue)}function ES(r){return xg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function xD(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof gu&&o instanceof gu||s instanceof pu&&o instanceof pu?Io(s.elements,o.elements,Zi):s instanceof kh&&o instanceof kh?Zi(s.Ae,o.Ae):s instanceof Uh&&o instanceof Uh})(r.transform,e.transform)}class LD{constructor(e,n){this.version=e,this.transformResults=n}}class Dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class rf{}function TS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new AS(r.key,Dr.none()):new Cu(r.key,r.data,Dr.none());{const n=r.data,s=ei.empty();let o=new Kt(ln.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Sa(r.key,s,new _i(o.toArray()),Dr.none())}}function UD(r,e,n){r instanceof Cu?(function(o,u,f){const m=o.value.clone(),y=JE(o.fieldTransforms,u,f.transformResults);m.setAll(y),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Sa?(function(o,u,f){if(!yh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=JE(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(SS(o)),y.setAll(m),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function su(r,e,n,s){return r instanceof Cu?(function(u,f,m,y){if(!yh(u.precondition,f))return m;const p=u.value.clone(),E=ZE(u.fieldTransforms,y,f);return p.setAll(E),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null})(r,e,n,s):r instanceof Sa?(function(u,f,m,y){if(!yh(u.precondition,f))return m;const p=ZE(u.fieldTransforms,y,f),E=f.data;return E.setAll(SS(u)),E.setAll(p),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,e,n,s):(function(u,f,m){return yh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function kD(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=yS(s.transform,o||null);u!=null&&(n===null&&(n=ei.empty()),n.set(s.field,u))}return n||null}function $E(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Io(s,o,((u,f)=>xD(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Cu extends rf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Sa extends rf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function SS(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function JE(r,e,n){const s=new Map;it(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,MD(f,m,n[o]))}return s}function ZE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,VD(u,f,e))}return s}class AS extends rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PD extends rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&UD(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=su(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=su(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=gS();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const y=TS(f,m);y!==null&&s.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(Ne.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&Io(this.mutations,e.mutations,((n,s)=>$E(n,s)))&&Io(this.baseMutations,e.baseMutations,((n,s)=>$E(n,s)))}}class zg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){it(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return CD})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new zg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,Ze;function qD(r){switch(r){case ie.OK:return Ce(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ce(15467,{code:r})}}function bS(r){if(r===void 0)return Mr("GRPC error has no .code"),ie.UNKNOWN;switch(r){case qt.OK:return ie.OK;case qt.CANCELLED:return ie.CANCELLED;case qt.UNKNOWN:return ie.UNKNOWN;case qt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case qt.INTERNAL:return ie.INTERNAL;case qt.UNAVAILABLE:return ie.UNAVAILABLE;case qt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case qt.NOT_FOUND:return ie.NOT_FOUND;case qt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case qt.ABORTED:return ie.ABORTED;case qt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case qt.DATA_LOSS:return ie.DATA_LOSS;default:return Ce(39323,{code:r})}}(Ze=qt||(qt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=new Rs([4294967295,4294967295],0);function WE(r){const e=HD().encode(r),n=new B0;return n.update(e),new Uint8Array(n.digest())}function eT(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Rs([n,s],0),new Rs([o,u],0)]}class Bg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Xl(`Invalid padding: ${n}`);if(s<0)throw new Xl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Rs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Rs.fromNumber(s)));return o.compare(FD)===1&&(o=new Rs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=WE(e),[s,o]=eT(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Bg(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=WE(e),[s,o]=eT(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new sf(Ne.min(),o,new At(Ge),xr(),Qe())}}class Iu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Iu(s,n,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class wS{constructor(e,n){this.targetId=e,this.Ce=n}}class RS{constructor(e,n,s=un.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class tT{constructor(){this.ve=0,this.Fe=nT(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),n=Qe(),s=Qe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ce(38017,{changeType:u})}})),new Iu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=nT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class GD{constructor(e){this.Ge=e,this.ze=new Map,this.je=xr(),this.Je=ah(),this.He=ah(),this.Ye=new At(Ge)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Fm(u))if(s===0){const f=new Ae(u.path);this.et(n,f,mn.newNoDocument(f,Ne.min()))}else it(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),y=m?this.ct(m,e,f):1;if(y!==0){this.it(n);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Ns(s).toUint8Array()}catch(y){if(y instanceof J0)return Co("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Bg(f,o,u)}catch(y){return Co(y instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Fm(m.target)){const y=new Ae(m.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,mn.newNoDocument(y,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Qe();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new sf(e,n,this.Ye,this.je,s);return this.je=xr(),this.Je=ah(),this.He=ah(),this.Ye=new At(Ge),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new tT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Kt(Ge),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Kt(Ge),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ah(){return new At(Ae.comparator)}function nT(){return new At(Ae.comparator)}const QD={asc:"ASCENDING",desc:"DESCENDING"},KD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YD={and:"AND",or:"OR"};class XD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qm(r,e){return r.useProto3Json||Jh(e)?e:{value:e}}function Ph(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function $D(r,e){return Ph(r,e.toTimestamp())}function Yi(r){return it(!!r,49232),Ne.fromTimestamp((function(n){const s=Ds(n);return new gt(s.seconds,s.nanos)})(r))}function jg(r,e){return Km(r,e).canonicalString()}function Km(r,e){const n=(function(o){return new St(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function IS(r){const e=St.fromString(r);return it(MS(e),10190,{key:e.toString()}),e}function Ym(r,e){return jg(r.databaseId,e.path)}function Sm(r,e){const n=IS(e);if(n.get(1)!==r.databaseId.projectId)throw new Te(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Te(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ae(NS(n))}function DS(r,e){return jg(r.databaseId,e)}function JD(r){const e=IS(r);return e.length===4?St.emptyPath():NS(e)}function Xm(r){return new St(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function NS(r){return it(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function iT(r,e,n){return{name:Ym(r,e),fields:n.value.mapValue.fields}}function ZD(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ce(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,E){return p.useProto3Json?(it(E===void 0||typeof E=="string",58123),un.fromBase64String(E||"")):(it(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),un.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(p){const E=p.code===void 0?ie.UNKNOWN:bS(p.code);return new Te(E,p.message||"")})(f);n=new RS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Sm(r,s.document.name),u=Yi(s.document.updateTime),f=s.document.createTime?Yi(s.document.createTime):Ne.min(),m=new ei({mapValue:{fields:s.document.fields}}),y=mn.newFoundDocument(o,u,f,m),p=s.targetIds||[],E=s.removedTargetIds||[];n=new _h(p,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Sm(r,s.document),u=s.readTime?Yi(s.readTime):Ne.min(),f=mn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new _h([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Sm(r,s.document),u=s.removedTargetIds||[];n=new _h([],u,o,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new jD(o,u),m=s.targetId;n=new wS(m,f)}}return n}function WD(r,e){let n;if(e instanceof Cu)n={update:iT(r,e.key,e.value)};else if(e instanceof AS)n={delete:Ym(r,e.key)};else if(e instanceof Sa)n={update:iT(r,e.key,e.data),updateMask:lN(e.fieldMask)};else{if(!(e instanceof PD))return Ce(16599,{Vt:e.type});n={verify:Ym(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Uh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof gu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof pu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof kh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ce(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:$D(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ce(27497)})(r,e.precondition)),n}function eN(r,e){return r&&r.length>0?(it(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Yi(o.updateTime):Yi(u);return f.isEqual(Ne.min())&&(f=Yi(u)),new LD(f,o.transformResults||[])})(n,e)))):[]}function tN(r,e){return{documents:[DS(r,e.path)]}}function nN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=DS(r,o);const u=(function(p){if(p.length!==0)return VS(Wi.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(p){if(p.length!==0)return p.map((E=>(function(w){return{field:vo(w.field),direction:sN(w.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Qm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function iN(r){let e=JD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){it(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const w=OS(S);return w instanceof Wi&&oS(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((w=>(function(K){return new Lh(Eo(K.field),(function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let w;return w=typeof S=="object"?S.value:S,Jh(w)?null:w})(n.limit));let y=null;n.startAt&&(y=(function(S){const w=!!S.before,k=S.values||[];return new xh(k,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(S){const w=!S.before,k=S.values||[];return new xh(k,w)})(n.endAt)),TD(e,o,f,u,m,"F",y,p)}function rN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Eo(n.unaryFilter.field);return Qt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Eo(n.unaryFilter.field);return Qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Eo(n.unaryFilter.field);return Qt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Eo(n.unaryFilter.field);return Qt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Qt.create(Eo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Wi.create(n.compositeFilter.filters.map((s=>OS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(n.compositeFilter.op))})(r):Ce(30097,{filter:r})}function sN(r){return QD[r]}function aN(r){return KD[r]}function oN(r){return YD[r]}function vo(r){return{fieldPath:r.canonicalString()}}function Eo(r){return ln.fromServerFormat(r.fieldPath)}function VS(r){return r instanceof Qt?(function(n){if(n.op==="=="){if(FE(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NAN"}};if(HE(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(FE(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NAN"}};if(HE(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(n.field),op:aN(n.op),value:n.value}}})(r):r instanceof Wi?(function(n){const s=n.getFilters().map((o=>VS(o)));return s.length===1?s[0]:{compositeFilter:{op:oN(n.op),filters:s}}})(r):Ce(54877,{filter:r})}function lN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function MS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n,s,o,u=Ne.min(),f=Ne.min(),m=un.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new Ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e){this.yt=e}}function cN(r){const e=iN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Gm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.Cn=new fN}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Is.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Is.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class fN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Kt(St.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Kt(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xS=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(xS,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Oo(0)}static cr(){return new Oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="LruGarbageCollector",dN=1048576;function aT([r,e],[n,s]){const o=Ge(r,n);return o===0?Ge(e,s):o}class mN{constructor(e){this.Ir=e,this.buffer=new Kt(aT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();aT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(sT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){qo(n)?me(sT,"Ignoring IndexedDB error during garbage collection: ",n):await jo(n)}await this.Vr(3e5)}))}}class pN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve($h.ce);const s=new mN(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(rT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,y,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(e,s,n)))).next((S=>(u=S,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(p=Date.now(),yo()<=Fe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${S} documents in `+(p-y)+`ms
Total Duration: ${p-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function yN(r,e){return new pN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.changes=new Ta((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&su(s.mutation,o,_i.empty(),gt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Qe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Qe()){const o=fa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Yl();return u.forEach(((m,y)=>{f=f.insert(m,y.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=fa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Qe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=xr();const f=ru(),m=(function(){return ru()})();return n.forEach(((y,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof Sa)?u=u.insert(p.key,p):E!==void 0?(f.set(p.key,E.mutation.getFieldMask()),su(E.mutation,p,E.mutation.getFieldMask(),gt.now())):f.set(p.key,_i.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((p,E)=>f.set(p,E))),n.forEach(((p,E)=>m.set(p,new vN(E,f.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=ru();let o=new At(((f,m)=>f-m)),u=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((y=>{const p=n.get(y);if(p===null)return;let E=s.get(y)||_i.empty();E=m.applyToLocalView(p,E),s.set(y,E);const S=(o.get(m.batchId)||Qe()).add(y);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),p=y.key,E=y.value,S=gS();E.forEach((w=>{if(!u.has(w)){const k=TS(n.get(w),s.get(w));k!==null&&S.set(w,k),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(e,p,S))}return ne.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return Ae.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(fa());let m=hu,y=u;return f.next((p=>ne.forEach(p,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{y=y.insert(E,w)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,y,p,Qe()))).next((E=>({batchId:m,changes:mS(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next((s=>{let o=Yl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Yl();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(y=>{const p=(function(S,w){return new Wh(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((E=>{E.forEach(((S,w)=>{f=f.insert(S,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((y,p)=>{const E=p.getKey();f.get(E)===null&&(f=f.insert(E,mn.newInvalidDocument(E)))}));let m=Yl();return f.forEach(((y,p)=>{const E=u.get(y);E!==void 0&&su(E.mutation,p,_i.empty(),gt.now()),tf(n,p)&&(m=m.insert(y,p))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Yi(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:cN(o.bundledQuery),readTime:Yi(o.readTime)}})(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.overlays=new At(Ae.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=fa();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=fa(),u=n.length+1,f=new Ae(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,p=y.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&y.largestBatchId>s&&o.set(y.getKey(),y)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new At(((p,E)=>p-E));const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let E=u.get(p.largestBatchId);E===null&&(E=fa(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=fa(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((p,E)=>m.set(p,E))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new BD(n,s));let u=this.qr.get(n);u===void 0&&(u=Qe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(){this.Qr=new Kt(Zt.$r),this.Ur=new Kt(Zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Zt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Zt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Ae(new St([])),s=new Zt(n,e),o=new Zt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ae(new St([])),s=new Zt(n,e),o=new Zt(n,e+1);let u=Qe();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Zt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ae.comparator(e.key,n.key)||Ge(e.Yr,n.Yr)}static Kr(e,n){return Ge(e.Yr,n.Yr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Kt(Zt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new zD(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Vg:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Zt(n,0),o=new Zt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Kt(Ge);return n.forEach((o=>{const u=new Zt(o,0),f=new Zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ae.isDocumentKey(u)||(u=u.child(""));const f=new Zt(new Ae(u),0);let m=new Kt(Ge);return this.Zr.forEachWhile((y=>{const p=y.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(y.Yr)),!0)}),f),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){it(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new Zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Zt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.ri=e,this.docs=(function(){return new At(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let s=xr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():mn.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=xr();const f=n.path,m=new Ae(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:p,value:{document:E}}=y.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||W2(Z2(E),s)<=0||(o.has(E.key)||tf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ce(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new RN(this)}getSize(e){return ne.resolve(this.size)}}class RN extends _N{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.persistence=e,this.si=new Ta((n=>Lg(n)),Ug),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new qg,this.targetCount=0,this.ai=Oo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Oo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n){this.ui={},this.overlays={},this.ci=new $h(0),this.li=!1,this.li=!0,this.hi=new AN,this.referenceDelegate=e(this),this.Pi=new CN(this),this.indexManager=new hN,this.remoteDocumentCache=(function(o){return new wN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new uN(n),this.Ii=new TN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new SN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new bN(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const o=new IN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class IN extends tD{constructor(e){super(),this.currentSequenceNumber=e}}class Hg{constructor(e){this.persistence=e,this.Ri=new qg,this.Vi=null}static mi(e){return new Hg(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=Ae.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ne.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class zh{constructor(e,n){this.persistence=e,this.pi=new Ta((s=>rD(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=yN(this,n)}static mi(e,n){return new zh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Ne.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=gh(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Qe(),o=Qe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Fg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return vR()?8:nD(gn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new DN;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(yo()<=Fe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",_o(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(yo()<=Fe.DEBUG&&me("QueryEngine","Query:",_o(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(yo()<=Fe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",_o(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ki(n))):ne.resolve())}ys(e,n){if(YE(n))return ne.resolve(null);let s=Ki(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Gm(n,null,"F"),s=Ki(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Qe(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((y=>{const p=this.Ds(n,m);return this.Cs(n,p,f,y.readTime)?this.ys(e,Gm(n,null,"F")):this.vs(e,p,n,y)}))))})))))}ws(e,n,s,o){return YE(n)||o.isEqual(Ne.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ne.resolve(null):(yo()<=Fe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_o(n)),this.vs(e,f,n,J2(o,hu)).next((m=>m)))}))}Ds(e,n){let s=new Kt(fS(e));return n.forEach(((o,u)=>{tf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return yo()<=Fe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",_o(n)),this.ps.getDocumentsMatchingQuery(e,n,Is.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg="LocalStore",ON=3e8;class VN{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new At(Ge),this.xs=new Ta((u=>Lg(u)),Ug),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function MN(r,e,n,s){return new VN(r,e,n,s)}async function US(r,e){const n=Ve(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let y=Qe();for(const p of o){f.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(s,y).next((p=>({Ls:p,removedBatchIds:f,addedBatchIds:m})))}))}))}function xN(r,e){const n=Ve(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,y,p,E){const S=p.batch,w=S.keys();let k=ne.resolve();return w.forEach((K=>{k=k.next((()=>E.getEntry(y,K))).next((Y=>{const Q=p.docVersions.get(K);it(Q!==null,48541),Y.version.compareTo(Q)<0&&(S.applyToRemoteDocument(Y,p),Y.isValidDocument()&&(Y.setReadTime(p.commitVersion),E.addEntry(Y)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(y,S)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let y=Qe();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(y=y.add(m.batch.mutations[p].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function kS(r){const e=Ve(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function LN(r,e){const n=Ve(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,S)=>{const w=o.get(S);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,S))));let k=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?k=k.withResumeToken(un.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(S,k),(function(Y,Q,re){return Y.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=ON?!0:re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0})(w,k,E)&&m.push(n.Pi.updateTargetData(u,k))}));let y=xr(),p=Qe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(UN(u,f,e.documentUpdates).next((E=>{y=E.ks,p=E.qs}))),!s.isEqual(Ne.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ne.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,p))).next((()=>y))})).then((u=>(n.Ms=o,u)))}function UN(r,e,n){let s=Qe(),o=Qe();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=xr();return n.forEach(((m,y)=>{const p=u.get(m);y.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(Ne.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):me(Gg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",y.version)})),{ks:f,qs:o}}))}function kN(r,e){const n=Ve(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Vg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function PN(r,e){const n=Ve(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Ss(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function $m(r,e,n){const s=Ve(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!qo(f))throw f;me(Gg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function oT(r,e,n){const s=Ve(r);let o=Ne.min(),u=Qe();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,p,E){const S=Ve(y),w=S.xs.get(E);return w!==void 0?ne.resolve(S.Ms.get(w)):S.Pi.getTargetData(p,E)})(s,f,Ki(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((y=>{u=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Ne.min(),n?u:Qe()))).next((m=>(zN(s,bD(e),m),{documents:m,Qs:u})))))}function zN(r,e,n){let s=r.Os.get(e)||Ne.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class lT{constructor(){this.activeTargetIds=ND()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BN{constructor(){this.Mo=new lT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new lT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="ConnectivityMonitor";class cT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(uT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(uT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh=null;function Jm(){return oh===null?oh=(function(){return 268435456+Math.round(2147483648*Math.random())})():oh++,"0x"+oh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="RestConnection",qN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Vh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Jm(),m=this.zo(e,n.toUriEncodedString());me(Am,`Sending RPC '${e}' ${f}:`,m,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:p}=new URL(m),E=ko(p);return this.Jo(e,m,y,s,E).then((S=>(me(Am,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw Co(Am,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",s),S}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=qN[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class GN extends HN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Jm();return new Promise(((m,y)=>{const p=new j0;p.setWithCredentials(!0),p.listenOnce(q0.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case mh.NO_ERROR:const S=p.getResponseJson();me(fn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case mh.TIMEOUT:me(fn,`RPC '${e}' ${f} timed out`),y(new Te(ie.DEADLINE_EXCEEDED,"Request time out"));break;case mh.HTTP_ERROR:const w=p.getStatus();if(me(fn,`RPC '${e}' ${f} failed with status:`,w,"response text:",p.getResponseText()),w>0){let k=p.getResponseJson();Array.isArray(k)&&(k=k[0]);const K=k?.error;if(K&&K.status&&K.message){const Y=(function(re){const J=re.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(J)>=0?J:ie.UNKNOWN})(K.status);y(new Te(Y,K.message))}else y(new Te(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new Te(ie.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:f,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{me(fn,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);me(fn,`RPC '${e}' ${f} sending request:`,o),p.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Jm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=G0(),m=F0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const E=u.join("");me(fn,`Creating RPC '${e}' stream ${o}: ${E}`,y);const S=f.createWebChannel(E,y);this.I_(S);let w=!1,k=!1;const K=new FN({Yo:Q=>{k?me(fn,`Not sending because RPC '${e}' stream ${o} is closed:`,Q):(w||(me(fn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),w=!0),me(fn,`RPC '${e}' stream ${o} sending:`,Q),S.send(Q))},Zo:()=>S.close()}),Y=(Q,re,J)=>{Q.listen(re,(le=>{try{J(le)}catch(be){setTimeout((()=>{throw be}),0)}}))};return Y(S,Kl.EventType.OPEN,(()=>{k||(me(fn,`RPC '${e}' stream ${o} transport opened.`),K.o_())})),Y(S,Kl.EventType.CLOSE,(()=>{k||(k=!0,me(fn,`RPC '${e}' stream ${o} transport closed`),K.a_(),this.E_(S))})),Y(S,Kl.EventType.ERROR,(Q=>{k||(k=!0,Co(fn,`RPC '${e}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),K.a_(new Te(ie.UNAVAILABLE,"The operation could not be completed")))})),Y(S,Kl.EventType.MESSAGE,(Q=>{if(!k){const re=Q.data[0];it(!!re,16349);const J=re,le=J?.error||J[0]?.error;if(le){me(fn,`RPC '${e}' stream ${o} received error:`,le);const be=le.status;let Ee=(function(R){const C=qt[R];if(C!==void 0)return bS(C)})(be),Me=le.message;Ee===void 0&&(Ee=ie.INTERNAL,Me="Unknown error status: "+be+" with message "+le.message),k=!0,K.a_(new Te(Ee,Me)),S.close()}else me(fn,`RPC '${e}' stream ${o} received:`,re),K.u_(re)}})),Y(m,H0.STAT_EVENT,(Q=>{Q.stat===zm.PROXY?me(fn,`RPC '${e}' stream ${o} detected buffering proxy`):Q.stat===zm.NOPROXY&&me(fn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{K.__()}),0),K}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function bm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(r){return new XD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="PersistentStream";class zS{constructor(e,n,s,o,u,f,m,y){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Mr(n.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new Te(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(hT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(me(hT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QN extends zS{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=ZD(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ne.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ne.min():f.readTime?Yi(f.readTime):Ne.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Xm(this.serializer),n.addTarget=(function(u,f){let m;const y=f.target;if(m=Fm(y)?{documents:tN(u,y)}:{query:nN(u,y).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=CS(u,f.resumeToken);const p=Qm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(Ne.min())>0){m.readTime=Ph(u,f.snapshotVersion.toTimestamp());const p=Qm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=rN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Xm(this.serializer),n.removeTarget=e,this.q_(n)}}class KN extends zS{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=eN(e.writeResults,e.commitTime),s=Yi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Xm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>WD(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{}class XN extends YN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Te(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Km(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Te(ie.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Km(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Te(ie.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $N{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Mr(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="RemoteStore";class JN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Aa(this)&&(me(va,"Restarting streams for network reachability change."),await(async function(y){const p=Ve(y);p.Ea.add(4),await Du(p),p.Ra.set("Unknown"),p.Ea.delete(4),await of(p)})(this))}))})),this.Ra=new $N(s,o)}}async function of(r){if(Aa(r))for(const e of r.da)await e(!0)}async function Du(r){for(const e of r.da)await e(!1)}function BS(r,e){const n=Ve(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Xg(n)?Yg(n):Ho(n).O_()&&Kg(n,e))}function Qg(r,e){const n=Ve(r),s=Ho(n);n.Ia.delete(e),s.O_()&&jS(n,e),n.Ia.size===0&&(s.O_()?s.L_():Aa(n)&&n.Ra.set("Unknown"))}function Kg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ho(r).Y_(e)}function jS(r,e){r.Va.Ue(e),Ho(r).Z_(e)}function Yg(r){r.Va=new GD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ho(r).start(),r.Ra.ua()}function Xg(r){return Aa(r)&&!Ho(r).x_()&&r.Ia.size>0}function Aa(r){return Ve(r).Ea.size===0}function qS(r){r.Va=void 0}async function ZN(r){r.Ra.set("Online")}async function WN(r){r.Ia.forEach(((e,n)=>{Kg(r,e)}))}async function eO(r,e){qS(r),Xg(r)?(r.Ra.ha(e),Yg(r)):r.Ra.set("Unknown")}async function tO(r,e,n){if(r.Ra.set("Online"),e instanceof RS&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){me(va,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Bh(r,s)}else if(e instanceof _h?r.Va.Ze(e):e instanceof wS?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ne.min()))try{const s=await kS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(y.resumeToken,f))}})),m.targetMismatches.forEach(((y,p)=>{const E=u.Ia.get(y);if(!E)return;u.Ia.set(y,E.withResumeToken(un.EMPTY_BYTE_STRING,E.snapshotVersion)),jS(u,y);const S=new Ss(E.target,y,p,E.sequenceNumber);Kg(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){me(va,"Failed to raise snapshot:",s),await Bh(r,s)}}async function Bh(r,e,n){if(!qo(e))throw e;r.Ea.add(1),await Du(r),r.Ra.set("Offline"),n||(n=()=>kS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{me(va,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await of(r)}))}function HS(r,e){return e().catch((n=>Bh(r,n,e)))}async function lf(r){const e=Ve(r),n=Vs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Vg;for(;nO(e);)try{const o=await kN(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,iO(e,o)}catch(o){await Bh(e,o)}FS(e)&&GS(e)}function nO(r){return Aa(r)&&r.Ta.length<10}function iO(r,e){r.Ta.push(e);const n=Vs(r);n.O_()&&n.X_&&n.ea(e.mutations)}function FS(r){return Aa(r)&&!Vs(r).x_()&&r.Ta.length>0}function GS(r){Vs(r).start()}async function rO(r){Vs(r).ra()}async function sO(r){const e=Vs(r);for(const n of r.Ta)e.ea(n.mutations)}async function aO(r,e,n){const s=r.Ta.shift(),o=zg.from(s,e,n);await HS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await lf(r)}async function oO(r,e){e&&Vs(r).X_&&await(async function(s,o){if((function(f){return qD(f)&&f!==ie.ABORTED})(o.code)){const u=s.Ta.shift();Vs(s).B_(),await HS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await lf(s)}})(r,e),FS(r)&&GS(r)}async function fT(r,e){const n=Ve(r);n.asyncQueue.verifyOperationInProgress(),me(va,"RemoteStore received new credentials");const s=Aa(n);n.Ea.add(3),await Du(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await of(n)}async function lO(r,e){const n=Ve(r);e?(n.Ea.delete(2),await of(n)):e||(n.Ea.add(2),await Du(n),n.Ra.set("Unknown"))}function Ho(r){return r.ma||(r.ma=(function(n,s,o){const u=Ve(n);return u.sa(),new QN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:ZN.bind(null,r),t_:WN.bind(null,r),r_:eO.bind(null,r),H_:tO.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Xg(r)?Yg(r):r.Ra.set("Unknown")):(await r.ma.stop(),qS(r))}))),r.ma}function Vs(r){return r.fa||(r.fa=(function(n,s,o){const u=Ve(n);return u.sa(),new KN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:rO.bind(null,r),r_:oO.bind(null,r),ta:sO.bind(null,r),na:aO.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await lf(r)):(await r.fa.stop(),r.Ta.length>0&&(me(va,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new $g(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jg(r,e){if(Mr("AsyncQueue",`${e}: ${r}`),qo(r))return new Te(ie.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{static emptySet(e){return new bo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ae.comparator(n.key,s.key):(n,s)=>Ae.comparator(n.key,s.key),this.keyedMap=Yl(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new bo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(){this.ga=new At(Ae.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Vo{constructor(e,n,s,o,u,f,m,y,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Vo(e,n,bo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class cO{constructor(){this.queries=mT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ve(n),u=o.queries;o.queries=mT(),u.forEach(((f,m)=>{for(const y of m.Sa)y.onError(s)}))})(this,new Te(ie.ABORTED,"Firestore shutting down"))}}function mT(){return new Ta((r=>hS(r)),ef)}async function hO(r,e){const n=Ve(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new uO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Jg(f,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Zg(n)}async function fO(r,e){const n=Ve(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function dO(r,e){const n=Ve(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Zg(n)}function mO(r,e,n){const s=Ve(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Zg(r){r.Ca.forEach((e=>{e.next()}))}var Zm,gT;(gT=Zm||(Zm={})).Ma="default",gT.Cache="cache";class gO{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Vo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Zm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e){this.key=e}}class KS{constructor(e){this.key=e}}class pO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qe(),this.mutatedKeys=Qe(),this.eu=fS(e),this.tu=new bo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new dT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const w=o.get(E),k=tf(this.query,S)?S:null,K=!!w&&this.mutatedKeys.has(w.key),Y=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let Q=!1;w&&k?w.data.isEqual(k.data)?K!==Y&&(s.track({type:3,doc:k}),Q=!0):this.su(w,k)||(s.track({type:2,doc:k}),Q=!0,(y&&this.eu(k,y)>0||p&&this.eu(k,p)<0)&&(m=!0)):!w&&k?(s.track({type:0,doc:k}),Q=!0):w&&!k&&(s.track({type:1,doc:w}),Q=!0,(y||p)&&(m=!0)),Q&&(k?(f=f.add(k),u=Y?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,S)=>(function(k,K){const Y=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:Q})}};return Y(k)-Y(K)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,p=y!==this.Za;return this.Za=y,f.length!==0||p?{snapshot:new Vo(this.query,e.tu,u,f,e.mutatedKeys,y===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new KS(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new QS(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wg="SyncEngine";class yO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class _O{constructor(e){this.key=e,this.hu=!1}}class vO{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ta((m=>hS(m)),ef),this.Iu=new Map,this.Eu=new Set,this.du=new At(Ae.comparator),this.Au=new Map,this.Ru=new qg,this.Vu={},this.mu=new Map,this.fu=Oo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function EO(r,e,n=!0){const s=WS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await YS(s,e,n,!0),o}async function TO(r,e){const n=WS(r);await YS(n,e,!0,!1)}async function YS(r,e,n,s){const o=await PN(r.localStore,Ki(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await SO(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&BS(r.remoteStore,o),m}async function SO(r,e,n,s,o){r.pu=(S,w,k)=>(async function(Y,Q,re,J){let le=Q.view.ru(re);le.Cs&&(le=await oT(Y.localStore,Q.query,!1).then((({documents:I})=>Q.view.ru(I,le))));const be=J&&J.targetChanges.get(Q.targetId),Ee=J&&J.targetMismatches.get(Q.targetId)!=null,Me=Q.view.applyChanges(le,Y.isPrimaryClient,be,Ee);return yT(Y,Q.targetId,Me.au),Me.snapshot})(r,S,w,k);const u=await oT(r.localStore,e,!0),f=new pO(e,u.Qs),m=f.ru(u.documents),y=Iu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),p=f.applyChanges(m,r.isPrimaryClient,y);yT(r,n,p.au);const E=new yO(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function AO(r,e,n){const s=Ve(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!ef(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await $m(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Qg(s.remoteStore,o.targetId),Wm(s,o.targetId)})).catch(jo)):(Wm(s,o.targetId),await $m(s.localStore,o.targetId,!0))}async function bO(r,e){const n=Ve(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Qg(n.remoteStore,s.targetId))}async function wO(r,e,n){const s=VO(r);try{const o=await(function(f,m){const y=Ve(f),p=gt.now(),E=m.reduce(((k,K)=>k.add(K.key)),Qe());let S,w;return y.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let K=xr(),Y=Qe();return y.Ns.getEntries(k,E).next((Q=>{K=Q,K.forEach(((re,J)=>{J.isValidDocument()||(Y=Y.add(re))}))})).next((()=>y.localDocuments.getOverlayedDocuments(k,K))).next((Q=>{S=Q;const re=[];for(const J of m){const le=kD(J,S.get(J.key).overlayedDocument);le!=null&&re.push(new Sa(J.key,le,rS(le.value.mapValue),Dr.exists(!0)))}return y.mutationQueue.addMutationBatch(k,p,re,m)})).next((Q=>{w=Q;const re=Q.applyToLocalDocumentSet(S,Y);return y.documentOverlayCache.saveOverlays(k,Q.batchId,re)}))})).then((()=>({batchId:w.batchId,changes:mS(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,y){let p=f.Vu[f.currentUser.toKey()];p||(p=new At(Ge)),p=p.insert(m,y),f.Vu[f.currentUser.toKey()]=p})(s,o.batchId,n),await Nu(s,o.changes),await lf(s.remoteStore)}catch(o){const u=Jg(o,"Failed to persist write");n.reject(u)}}async function XS(r,e){const n=Ve(r);try{const s=await LN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(it(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?it(f.hu,14607):o.removedDocuments.size>0&&(it(f.hu,42227),f.hu=!1))})),await Nu(n,s,e)}catch(s){await jo(s)}}function pT(r,e,n){const s=Ve(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const y=Ve(f);y.onlineState=m;let p=!1;y.queries.forEach(((E,S)=>{for(const w of S.Sa)w.va(m)&&(p=!0)})),p&&Zg(y)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function RO(r,e,n){const s=Ve(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new At(Ae.comparator);f=f.insert(u,mn.newNoDocument(u,Ne.min()));const m=Qe().add(u),y=new sf(Ne.min(),new Map,new At(Ge),f,m);await XS(s,y),s.du=s.du.remove(u),s.Au.delete(e),ep(s)}else await $m(s.localStore,e,!1).then((()=>Wm(s,e,n))).catch(jo)}async function CO(r,e){const n=Ve(r),s=e.batch.batchId;try{const o=await xN(n.localStore,e);JS(n,s,null),$S(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Nu(n,o)}catch(o){await jo(o)}}async function IO(r,e,n){const s=Ve(r);try{const o=await(function(f,m){const y=Ve(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return y.mutationQueue.lookupMutationBatch(p,m).next((S=>(it(S!==null,37113),E=S.keys(),y.mutationQueue.removeMutationBatch(p,S)))).next((()=>y.mutationQueue.performConsistencyCheck(p))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(p,E,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>y.localDocuments.getDocuments(p,E)))}))})(s.localStore,e);JS(s,e,n),$S(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Nu(s,o)}catch(o){await jo(o)}}function $S(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function JS(r,e,n){const s=Ve(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Wm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||ZS(r,s)}))}function ZS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Qg(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),ep(r))}function yT(r,e,n){for(const s of n)s instanceof QS?(r.Ru.addReference(s.key,e),DO(r,s)):s instanceof KS?(me(Wg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||ZS(r,s.key)):Ce(19791,{wu:s})}function DO(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(me(Wg,"New document in limbo: "+n),r.Eu.add(s),ep(r))}function ep(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new Ae(St.fromString(e)),s=r.fu.next();r.Au.set(s,new _O(n)),r.du=r.du.insert(n,s),BS(r.remoteStore,new Ss(Ki(kg(n.path)),s,"TargetPurposeLimboResolution",$h.ce))}}async function Nu(r,e,n){const s=Ve(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,y)=>{f.push(s.pu(y,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const E=p?!p.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(p){o.push(p);const E=Fg.As(y.targetId,p);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(y,p){const E=Ve(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>ne.forEach(p,(w=>ne.forEach(w.Es,(k=>E.persistence.referenceDelegate.addReference(S,w.targetId,k))).next((()=>ne.forEach(w.ds,(k=>E.persistence.referenceDelegate.removeReference(S,w.targetId,k)))))))))}catch(S){if(!qo(S))throw S;me(Gg,"Failed to update sequence numbers: "+S)}for(const S of p){const w=S.targetId;if(!S.fromCache){const k=E.Ms.get(w),K=k.snapshotVersion,Y=k.withLastLimboFreeSnapshotVersion(K);E.Ms=E.Ms.insert(w,Y)}}})(s.localStore,u))}async function NO(r,e){const n=Ve(r);if(!n.currentUser.isEqual(e)){me(Wg,"User change. New user:",e.toKey());const s=await US(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((y=>{y.reject(new Te(ie.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Nu(n,s.Ls)}}function OO(r,e){const n=Ve(r),s=n.Au.get(e);if(s&&s.hu)return Qe().add(s.key);{let o=Qe();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function WS(r){const e=Ve(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=XS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RO.bind(null,e),e.Pu.H_=dO.bind(null,e.eventManager),e.Pu.yu=mO.bind(null,e.eventManager),e}function VO(r){const e=Ve(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IO.bind(null,e),e}class jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=af(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return MN(this.persistence,new NN,e.initialUser,this.serializer)}Cu(e){return new LS(Hg.mi,this.serializer)}Du(e){return new BN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jh.provider={build:()=>new jh};class MO extends jh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){it(this.persistence.referenceDelegate instanceof zh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new gN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new LS((s=>zh.mi(s,n)),this.serializer)}}class eg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>pT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=NO.bind(null,this.syncEngine),await lO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new cO})()}createDatastore(e){const n=af(e.databaseInfo.databaseId),s=(function(u){return new GN(u)})(e.databaseInfo);return(function(u,f,m,y){return new XN(u,f,m,y)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new JN(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>pT(this.syncEngine,n,0)),(function(){return cT.v()?new cT:new jN})())}createSyncEngine(e,n){return(function(o,u,f,m,y,p,E){const S=new vO(o,u,f,m,y,p);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ve(n);me(va,"RemoteStore shutting down."),s.Ea.add(5),await Du(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}eg.provider={build:()=>new eg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Mr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="FirestoreClient";class LO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=dn.UNAUTHENTICATED,this.clientId=Ng.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{me(Ms,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(me(Ms,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Jg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function wm(r,e){r.asyncQueue.verifyOperationInProgress(),me(Ms,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await US(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function _T(r,e){r.asyncQueue.verifyOperationInProgress();const n=await UO(r);me(Ms,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>fT(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>fT(e.remoteStore,o))),r._onlineComponents=e}async function UO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){me(Ms,"Using user provided OfflineComponentProvider");try{await wm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Co("Error using user provided cache. Falling back to memory cache: "+n),await wm(r,new jh)}}else me(Ms,"Using default OfflineComponentProvider"),await wm(r,new MO(void 0));return r._offlineComponents}async function eA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(me(Ms,"Using user provided OnlineComponentProvider"),await _T(r,r._uninitializedComponentsProvider._online)):(me(Ms,"Using default OnlineComponentProvider"),await _T(r,new eg))),r._onlineComponents}function kO(r){return eA(r).then((e=>e.syncEngine))}async function PO(r){const e=await eA(r),n=e.eventManager;return n.onListen=EO.bind(null,e.syncEngine),n.onUnlisten=AO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=TO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bO.bind(null,e.syncEngine),n}function zO(r,e,n={}){const s=new Cs;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,y,p){const E=new xO({next:w=>{E.Nu(),f.enqueueAndForget((()=>fO(u,S)));const k=w.docs.has(m);!k&&w.fromCache?p.reject(new Te(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&w.fromCache&&y&&y.source==="server"?p.reject(new Te(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),S=new gO(kg(m.path),E,{includeMetadataChanges:!0,qa:!0});return hO(u,S)})(await PO(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="firestore.googleapis.com",ET=!0;class TT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Te(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nA,this.ssl=ET}else this.host=e.host,this.ssl=e.ssl??ET;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dN)throw new Te(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Te(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Te(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Te(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tp{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new z2;switch(s.type){case"firstParty":return new H2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Te(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=vT.get(n);s&&(me("ComponentProvider","Removing Datastore"),vT.delete(n),s.terminate())})(this),Promise.resolve()}}function BO(r,e,n,s={}){r=cu(r,tp);const o=ko(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(n0(`https://${m}`),i0("Firestore",!0)),u.host!==nA&&u.host!==m&&Co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:o,emulatorOptions:s};if(!ga(y,f)&&(r._setSettings(y),s.mockUserToken)){let p,E;if(typeof s.mockUserToken=="string")p=s.mockUserToken,E=dn.MOCK_USER;else{p=cR(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new Te(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new dn(S)}r._authCredentials=new B2(new K0(p,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new np(this.firestore,e,this._query)}}class Wt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Ru(n,Wt._jsonSchema))return new Wt(e,s||null,new Ae(St.fromString(n.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:Ht("string",Wt._jsonSchemaVersion),referencePath:Ht("string")};class yu extends np{constructor(e,n,s){super(e,n,kg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new Ae(e))}withConverter(e){return new yu(this.firestore,e,this._path)}}function jO(r,e,...n){if(r=Ti(r),arguments.length===1&&(e=Ng.newId()),X2("doc","path",e),r instanceof tp){const s=St.fromString(e,...n);return LE(s),new Wt(r,null,new Ae(s))}{if(!(r instanceof Wt||r instanceof yu))throw new Te(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(St.fromString(e,...n));return LE(s),new Wt(r.firestore,r instanceof yu?r.converter:null,new Ae(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="AsyncQueue";class AT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PS(this,"async_queue_retry"),this._c=()=>{const s=bm();s&&me(ST,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=bm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=bm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Cs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!qo(e))throw e;me(ST,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Mr("INTERNAL UNHANDLED ERROR: ",bT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=$g.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ce(47125,{Pc:bT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function bT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ip extends tp{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new AT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new AT(e),this._firestoreClient=void 0,await e}}}function qO(r,e){const n=typeof r=="object"?r:o0(),s=typeof r=="string"?r:Vh,o=_g(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=lR("firestore");u&&BO(o,...u)}return o}function iA(r){if(r._terminated)throw new Te(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||HO(r),r._firestoreClient}function HO(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new oD(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,tA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new LO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ti(un.fromBase64String(e))}catch(n){throw new Te(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ti(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ti._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ru(e,ti._jsonSchema))return ti.fromBase64String(e.bytes)}}ti._jsonSchemaVersion="firestore/bytes/1.0",ti._jsonSchema={type:Ht("string",ti._jsonSchemaVersion),bytes:Ht("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(e){if(Ru(e,Xi._jsonSchema))return new Xi(e.latitude,e.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:Ht("string",Xi._jsonSchemaVersion),latitude:Ht("number"),longitude:Ht("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ru(e,$i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new $i(e.vectorValues);throw new Te(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$i._jsonSchemaVersion="firestore/vectorValue/1.0",$i._jsonSchema={type:Ht("string",$i._jsonSchemaVersion),vectorValues:Ht("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=/^__.*__$/;class GO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Sa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cu(e,this.data,n,this.fieldTransforms)}}function sA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:r})}}class sp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new sp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return qh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(sA(this.Ac)&&FO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class QO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||af(e)}Cc(e,n,s,o=!1){return new sp({Ac:e,methodName:n,Dc:s,path:ln.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function KO(r){const e=r._freezeSettings(),n=af(r._databaseId);return new QO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function YO(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);uA("Data must be an object, but it was:",f,s);const m=oA(s,f);let y,p;if(u.merge)y=new _i(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const w=XO(e,S,n);if(!f.contains(w))throw new Te(ie.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);JO(E,w)||E.push(w)}y=new _i(E),p=f.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,p=f.fieldTransforms;return new GO(new ei(m),y,p)}function aA(r,e){if(lA(r=Ti(r)))return uA("Unsupported field value:",e,r),oA(r,e);if(r instanceof rA)return(function(s,o){if(!sA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let y=aA(m,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Ti(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return OD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=gt.fromDate(s);return{timestampValue:Ph(o.serializer,u)}}if(s instanceof gt){const u=new gt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ph(o.serializer,u)}}if(s instanceof Xi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ti)return{bytesValue:CS(o.serializer,s._byteString)};if(s instanceof Wt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:jg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof $i)return(function(f,m){return{mapValue:{fields:{[nS]:{stringValue:iS},[Mh]:{arrayValue:{values:f.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return Pg(m.serializer,p)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Og(s)}`)})(r,e)}function oA(r,e){const n={};return $0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ea(r,((s,o)=>{const u=aA(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function lA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof gt||r instanceof Xi||r instanceof ti||r instanceof Wt||r instanceof rA||r instanceof $i)}function uA(r,e,n){if(!lA(n)||!Y0(n)){const s=Og(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function XO(r,e,n){if((e=Ti(e))instanceof rp)return e._internalPath;if(typeof e=="string")return cA(r,e);throw qh("Field path arguments must be of type string or ",r,!1,void 0,n)}const $O=new RegExp("[~\\*/\\[\\]]");function cA(r,e,n){if(e.search($O)>=0)throw qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new rp(...e.split("."))._internalPath}catch{throw qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function qh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${s}`),f&&(y+=` in document ${o}`),y+=")"),new Te(ie.INVALID_ARGUMENT,m+r+y)}function JO(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZO extends hA{data(){return super.data()}}function fA(r,e){return typeof e=="string"?cA(r,e):e instanceof rp?e._internalPath:e._delegate._internalPath}class WO{convertValue(e,n="none"){switch(Os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ea(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Mh].arrayValue?.values?.map((s=>Vt(s.doubleValue)));return new $i(n)}convertGeoPoint(e){return new Xi(Vt(e.latitude),Vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Zh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(fu(e));default:return null}}convertTimestamp(e){const n=Ds(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=St.fromString(e);it(MS(s),9688,{name:e});const o=new du(s.get(1),s.get(3)),u=new Ae(s.popFirst(5));return o.isEqual(n)||Mr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class $l{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ma extends hA{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(fA("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ma._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ma._jsonSchemaVersion="firestore/documentSnapshot/1.0",ma._jsonSchema={type:Ht("string",ma._jsonSchemaVersion),bundleSource:Ht("string","DocumentSnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class vh extends ma{data(e={}){return super.data(e)}}class au{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new $l(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new vh(this._firestore,this._userDataWriter,s.key,s,new $l(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const y=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new $l(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const y=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new $l(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:tV(m.type),doc:y,oldIndex:p,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=au._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ng.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tV(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(r){r=cu(r,Wt);const e=cu(r.firestore,ip);return zO(iA(e),r._key).then((n=>aV(e,r,n)))}au._jsonSchemaVersion="firestore/querySnapshot/1.0",au._jsonSchema={type:Ht("string",au._jsonSchemaVersion),bundleSource:Ht("string","QuerySnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class iV extends WO{constructor(e){super(),this.firestore=e}convertBytes(e){return new ti(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function rV(r,e,n){r=cu(r,Wt);const s=cu(r.firestore,ip),o=eV(r.converter,e);return sV(s,[YO(KO(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Dr.none())])}function sV(r,e){return(function(s,o){const u=new Cs;return s.asyncQueue.enqueueAndForget((async()=>wO(await kO(s),o,u))),u.promise})(iA(r),e)}function aV(r,e,n){const s=n.docs.get(e._key),o=new iV(r);return new ma(r,o,e._key,s,new $l(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Bo=o})(Po),wo(new pa("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ip(new j2(s.getProvider("auth-internal")),new F2(f,s.getProvider("app-check-internal")),(function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Te(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new du(p.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ws(OE,VE,e),ws(OE,VE,"esm2020")})();const oV={apiKey:"AIzaSyCUsXOu6vKpUStikZLhyZH-s9PfKFYBlF8",authDomain:"ctrl-f-1b367.firebaseapp.com",projectId:"ctrl-f-1b367",storageBucket:"ctrl-f-1b367.firebasestorage.app",messagingSenderId:"268158418239",appId:"1:268158418239:web:5f865eaf8461967de3678a"},dA=a0(oV),ap=k2(dA),lV=new wr,uV=qO(dA);async function tg(){return{Authorization:`Bearer ${await ap.currentUser?.getIdToken()}`}}const Rm="https://ctrlf-backend-production.up.railway.app/api",wT={async getSite(){const r=await tg(),e=await fetch(`${Rm}/api/site`,{headers:r});if(!e.ok)throw new Error("Error al obtener datos");return e.json()},async updateSite(r){const e={...await tg(),"Content-Type":"application/json"};console.log(`[API site] api URL: ${Rm}-> headers`,e);const n=await fetch(`${Rm}/site`,{method:"PATCH",headers:e,body:JSON.stringify(r)});if(!n.ok)throw new Error("Error al guardar cambios");return n.json()}},cV=gg(r=>({miWeb:null,isLoading:!1,error:null,fetchSite:async()=>{r({isLoading:!0});try{const e=await wT.getSite();r({miWeb:e,isLoading:!1})}catch(e){r({error:e,isLoading:!1})}},saveSite:async e=>{r({isLoading:!0});try{const n=await wT.updateSite(e);r({miWeb:n,isLoading:!1})}catch(n){r({error:n,isLoading:!1})}}})),hV="https://ctrlf-backend-production.up.railway.app/api",fV={async buildSite(){const r=await tg(),e=await fetch(`${hV}/deploy`,{method:"POST",headers:r});if(!e.ok)throw new Error("Error al publicar sitio");return e.json()}},dV=gg(r=>({deployedUrl:null,siteIsLoading:!1,error:null,buildSite:async()=>{r({siteIsLoading:!0,error:null});try{const e=await fV.buildSite();r({deployedUrl:e?.url||null,siteIsLoading:!1})}catch(e){r({error:e,siteIsLoading:!1})}}}));function mV(){const{register:r,handleSubmit:e,reset:n,formState:{errors:s}}=$w(),{user:o}=Wl(),{saveSite:u,isLoading:f,error:m}=cV(),{buildSite:y,deployedUrl:p,siteIsLoading:E}=dV(),S=Uo(),w=K=>{if(console.log("[CREATE WEB FORM] user:",o),!o){alert("Primero tenÃ©s que iniciar sesiÃ³n"),S("/login",{state:{miWeb:K}});return}const Y={miWeb:{header:{title:K.title,textColor:K.textColor,textFamily:K.textFamily,backgroundColor:K.backgroundColor}}};u(Y),n()},k=()=>{if(!o){alert("Primero tenÃ©s que iniciar sesiÃ³n y PAGAR");return}y(),n()};return he.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gray-100 p-6",children:he.jsxs("form",{onSubmit:e(w),className:"w-full max-w-md bg-white shadow-xl rounded-2xl p-6 space-y-4",children:[he.jsx("h2",{className:"text-2xl font-semibold text-center",children:"Crea tu sitio web"}),he.jsxs("div",{children:[he.jsx("label",{className:"block mb-1 font-medium",children:"TÃ­tulo del hero"}),he.jsx("input",{type:"text",placeholder:"Ej: Bienvenidos a mi sitio",className:"w-full border rounded-lg px-3 py-2 focus:outline-blue-500",...r("title",{required:"El tÃ­tulo es obligatorio"})}),s.title&&he.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.title.message})]}),he.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[he.jsxs("div",{children:[he.jsx("label",{className:"block mb-1 font-medium",children:"Color del texto"}),he.jsx("input",{type:"color",className:"w-full h-10 border rounded-lg cursor-pointer",...r("textColor",{required:!0}),defaultValue:"#000000"})]}),he.jsxs("div",{children:[he.jsx("label",{className:"block mb-1 font-medium",children:"Fuente del texto"}),he.jsxs("select",{className:"w-full border rounded-lg px-3 py-2",...r("textFamily",{required:"ElegÃ­ una fuente"}),children:[he.jsx("option",{value:"",children:"Seleccionar fuente..."}),he.jsx("option",{value:"sans-serif",children:"Sans Serif"}),he.jsx("option",{value:"serif",children:"Serif"}),he.jsx("option",{value:"monospace",children:"Monospace"}),he.jsx("option",{value:"cursive",children:"Cursive"})]}),s.textFamily&&he.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.textFamily.message})]})]}),he.jsxs("div",{children:[he.jsx("label",{className:"block mb-1 font-medium",children:"Color de fondo"}),he.jsx("input",{type:"color",className:"w-full h-10 border rounded-lg cursor-pointer",...r("backgroundColor",{required:!0}),defaultValue:"#ffffff"})]}),he.jsxs("div",{className:"flex gap-3 mt-2",children:[he.jsx("button",{type:"submit",disabled:f,className:"flex-1 bg-blue-600 text-white font-medium py-2 rounded-lg hover:bg-blue-700 transition disabled:opacity-50",children:f?"Guardando...":"Guardar cambios"}),he.jsx("button",{type:"button",onClick:k,disabled:f,className:"flex-1 bg-white border border-blue-600 text-blue-600 font-medium py-2 rounded-lg hover:bg-blue-50 transition disabled:opacity-50",children:f?"Publicando...":"Publicar sitio"})]}),p&&he.jsx("div",{className:"mt-4 text-center",children:he.jsx("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 font-medium underline hover:text-blue-800",children:"Ver tu sitio publicado ðŸš€"})}),m&&he.jsxs("p",{className:"mt-2 text-center text-sm text-red-600",children:["Error: ",m.message]})]})})}function RT(){return he.jsx(mV,{})}function gV(){const r=Uo(),e=async()=>{try{const s=(await QI(ap,lV)).user,o=await s.getIdToken();console.log("[FRONT] -> token obtenido:",o.slice(0,20)+"...");const f=await(await fetch("https://ctrlf-backend-production.up.railway.app/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`}})).json();console.log("[FRONT] -> respuesta del backend:",f);const m=jO(uV,"users",s.uid);(await nV(m)).exists()||await rV(m,{email:s.email,name:s.displayName,miWeb:{}}),alert(`Bienvenida ${s.displayName} ðŸŒŸ`),r("/crear-web",{state:{miWeb:f}})}catch(n){console.error("Error al iniciar sesiÃ³n:",n),alert("Hubo un problema con el login.")}};return he.jsx("button",{onClick:e,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition",children:"Iniciar sesiÃ³n con Google"})}function pV(){return he.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gray-100",children:he.jsx(gV,{})})}function yV(){const r=Wl(s=>s.setUser),e=Wl(s=>s.clearUser),n=Wl(s=>s.setLoading);W.useEffect(()=>{n(!0);const s=RI(ap,o=>{o?r({uid:o.uid,email:o.email,name:o.displayName,photo:o.photoURL}):e()});return()=>s()},[r,e])}function _V({children:r}){const{user:e,isLoading:n}=Wl();return n?null:e?r:he.jsx(L1,{to:"/login",replace:!0})}function vV(){return yV(),he.jsxs(k1,{children:[he.jsx(go,{path:"/",element:he.jsx(Rw,{})}),he.jsx(go,{path:"/login",element:he.jsx(pV,{})}),he.jsx(go,{path:"/crear-web",element:he.jsx(RT,{})}),he.jsx(go,{path:"/vista-previa",element:he.jsx(bw,{})}),he.jsx(go,{path:"/create-web",element:he.jsx(_V,{children:he.jsx(RT,{})})})]})}Aw.createRoot(document.getElementById("root")).render(he.jsx(aw,{basename:"/Ctrl-f",children:he.jsx(vV,{})}));
